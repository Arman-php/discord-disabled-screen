"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["95468"],{216019:function(e){e.exports="/assets/050c2ac76232eff6.svg"},524094:function(e){e.exports="/assets/fe7f670e6ffe6cf6.svg"},802670:function(e){e.exports="/assets/4d5f9c527be0f6cd.svg"},17754:function(e){e.exports="/assets/6ab87cfd55c95d33.svg"},231239:function(e,t,n){n.d(t,{Z:()=>o}),n(35282);var l=n(990547),i=n(283693),r=n(570140),s=n(573261),a=n(981631);let o={signup:(e,t)=>s.Z.post({url:a.ANM.HUB_WAITLIST_SIGNUP,body:{email:e,school:t},trackedActionData:{event:l.NetworkActionNames.HUB_WAITLIST_SIGNUP,properties:e=>{var t;let n=!1,l=null==e||null==(t=e.body)?void 0:t.email_domain;return null!=l&&(n=-1!==l.split(".").indexOf("edu")),(0,i.iG)({is_edu_email:n})}},rejectWithError:!1}),sendVerificationEmail:async(e,t,n)=>(await s.Z.post({url:a.ANM.HUB_EMAIL_VERIFY_SEND,body:{email:e,guild_id:n,allow_multiple_guilds:t,use_verification_code:!0},trackedActionData:{event:l.NetworkActionNames.HUB_EMAIL_VERIFY_SEND,properties:e=>{var t;let n=null==e||null==(t=e.body)?void 0:t.has_matching_guild;return(0,i.iG)({has_matching_guild:n})}},rejectWithError:!1})).body,async verify(e){if(null!=e)try{var t;let n=null==(t=(await s.Z.post({url:a.ANM.HUB_EMAIL_VERIFY,body:{token:e},trackedActionData:{event:l.NetworkActionNames.HUB_EMAIL_VERIFY},rejectWithError:!1})).body.guild)?void 0:t.id;r.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:n})}catch(e){r.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:e.body})}},async verifyCode(e,t,n){if(null!=e)try{var i;let o=await s.Z.post({url:a.ANM.HUB_EMAIL_VERIFY_CODE,body:{code:e,guild_id:t,email:n},trackedActionData:{event:l.NetworkActionNames.HUB_EMAIL_VERIFY},rejectWithError:!1}),c=null==(i=o.body.guild)?void 0:i.id;return r.Z.dispatch({type:"HUB_VERIFY_EMAIL_SUCCESS",guildId:c}),o.body}catch(e){throw r.Z.dispatch({type:"HUB_VERIFY_EMAIL_FAILURE",errors:e.body}),e}}}},951716:function(e,t,n){n.d(t,{Z:()=>r});var l=n(344532),i=n(23434);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.Z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z;return null!=t.getAction()||Object.keys(e.getState()).length>0}},645792:function(e,t,n){n.d(t,{Z:()=>i,b:()=>r});let l=(0,n(818083).B)({kind:"user",id:"2022-08_back_to_school",label:"Back to School Event",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Back to School experience enabled",config:{enabled:!0}}]}),i=l;function r(){return l.getCurrentConfig({location:"68acbb_1"},{autoTrackExposure:!1}).enabled}},888592:function(e,t,n){n.d(t,{fQ:()=>r,tF:()=>i});var l,i=((l={}).STUDENT_PROMPT="STUDENT_PROMPT",l.VERIFY_EMAIL="VERIFY_EMAIL",l.VERIFY_PIN="VERIFY_PIN",l.SELECT_SCHOOL="SELECT_SCHOOL",l.SELECT_SCHOOL_SEARCH="SELECT_SCHOOL_SEARCH",l.SUBMIT_SCHOOL="SUBMIT_SCHOOL",l.EMAIL_CONFIRMATION="EMAIL_CONFIRMATION",l.EMAIL_WAITLIST="EMAIL_WAITLIST",l);let r="884924873015689226"},495784:function(e,t,n){n.d(t,{Z:()=>g});var l=n(913527),i=n.n(l),r=n(704215),s=n(951716),a=n(605236),o=n(972830),c=n(430824),d=n(594174),u=n(374023),m=n(709054),x=n(645792),h=n(981631),_=n(921944);let g={init(e){let{hasModalOpen:t,openModal:n}=e;u.s.isDisallowPopupsSet()||(0,o.h)(()=>{if((0,s.Z)())return;let e=d.default.getCurrentUser(),l=null!=e&&7>i()().diff(i()(m.default.extractTimestamp(e.id)),"days"),o=null!=Object.values(c.Z.getGuilds()).find(e=>e.hasFeature(h.oNc.HUB)),u=!(0,a.un)(r.z.HUB_BACK_TO_SCHOOL_UPSELL);!(l||t()||o||!u)&&(0,x.b)()&&(x.Z.trackExposure({location:"8b792a_1"}),n(),(0,a.kk)(r.z.HUB_BACK_TO_SCHOOL_UPSELL))})},hideHubUpsell(){(0,a.EW)(r.z.HUB_BACK_TO_SCHOOL_UPSELL,{dismissAction:_.L.AUTO})}}},994640:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var l=n(255367),i=n(73800),r=n(120356),s=n.n(r),a=n(481060),o=n(231239),c=n(881052),d=n(313201),u=n(592125),m=n(888592),x=n(981631),h=n(388032),_=n(167150);let g=(0,d.hQ)(),f=e=>{let{setStep:t,setGuildsInfo:n,email:r,setEmail:d,setGuildId:f,invite:N,onClose:v,isNUXFlow:p}=e,[E,S]=i.useState(null),[I,j]=i.useState(!1),y=async e=>{e.preventDefault(),S(null),j(!0);try{var l,i,s,a,d;let e=null!=(d=null!=(a=null==N||null==(l=N.guild)?void 0:l.id)?a:null==(i=u.Z.getChannel(null==N||null==(s=N.channel)?void 0:s.id))?void 0:i.getGuildId())?d:void 0;e===m.fQ&&(e=void 0);let c=await o.Z.sendVerificationEmail(r,!0,e),x=c.guilds_info;c.has_matching_guild?(f(e),t(m.tF.VERIFY_PIN)):0===x.length?t(m.tF.SUBMIT_SCHOOL):1===x.length?(f(x[0].id),await o.Z.sendVerificationEmail(r,!0,x[0].id),t(m.tF.VERIFY_PIN)):(n(x),t(m.tF.SELECT_SCHOOL))}catch(e){S(new c.Hx(e))}finally{j(!1)}},C=h.intl.string(h.t.H1jCHB),T=h.intl.string(h.t.YfeHRE);if(p)C=h.intl.string(h.t.LVyxND),T=h.intl.string(h.t.ECd7Rk);else if((null==N?void 0:N.guild)!=null&&N.guild.id!==m.fQ&&(null==N?void 0:N.approximate_member_count)!=null){let{name:e}=N.guild;C=h.intl.formatToPlainString(h.t["4T4+p6"],{guildName:e,count:N.approximate_member_count})}return(0,l.jsxs)("div",{className:_.container,children:[(0,l.jsx)("div",{className:_.topImage}),(0,l.jsx)(a.X6q,{className:s()(_.centerText,_.header),variant:"heading-xl/semibold",children:C}),(0,l.jsx)("div",{className:_.descriptionWidth,children:(0,l.jsx)(a.Text,{className:_.centerText,variant:"text-sm/normal",color:"header-secondary",children:T})}),(0,l.jsxs)("form",{className:_.formContent,onSubmit:y,children:[(0,l.jsxs)(a.xJW,{children:[(0,l.jsx)(a.vwX,{id:g,children:h.intl.string(h.t.kmCxkZ)}),(0,l.jsx)(a.oil,{placeholder:h.intl.string(h.t.ImAOh4),onChange:e=>{d(e)},error:null==E?void 0:E.getAnyErrorMessage(),"aria-labelledby":g})]}),(0,l.jsx)(a.Text,{color:"header-secondary",className:_.formDescription,variant:"text-sm/normal",children:h.intl.string(h.t.Cv7mmJ)}),(0,l.jsx)(a.zxk,{type:"submit",size:a.zxk.Sizes.LARGE,color:a.zxk.Colors.BRAND,className:_.submitButton,submitting:I,children:h.intl.string(h.t["8vmKOz"])}),(0,l.jsx)(a.Text,{className:_.termsPhrase,color:"header-secondary",variant:"text-xs/normal",children:h.intl.format(h.t.RPT0vr,{termsURL:x.EYA.TERMS,privacyURL:x.EYA.PRIVACY})}),p&&(0,l.jsx)(a.zxk,{look:a.zxk.Looks.LINK,onClick:v,className:_.cancelButton,children:h.intl.string(h.t.hO6qJy)})]})]})}},950012:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var l=n(255367),i=n(73800),r=n(994640),s=n(247007),a=n(999464),o=n(503406),c=n(463115),d=n(888592);let u=e=>{let{onClose:t,invite:n,forceGuildScrollHeight:u=!0,isNUXFlow:m}=e,[x,h]=i.useState([d.tF.VERIFY_EMAIL]),[_,g]=i.useState(""),[f,N]=i.useState(""),[v,p]=i.useState(void 0),[E,S]=i.useState([]),I=e=>{h(x.concat(e).slice(-4))};switch(x[x.length-1]){case d.tF.VERIFY_EMAIL:return(0,l.jsx)(r.Z,{setGuildsInfo:S,setStep:I,email:_,setEmail:g,setGuildId:p,invite:n,onClose:t,isNUXFlow:m});case d.tF.SELECT_SCHOOL:return(0,l.jsx)(s.Z,{guildsInfo:E,setStep:I,email:_,setGuildId:p,forceGuildScrollHeight:u});case d.tF.SUBMIT_SCHOOL:return(0,l.jsx)(a.Z,{onBack:()=>{x.length>1&&h(x.slice(0,-1).slice(-4))},setStep:I,email:_,school:f,setSchool:N});case d.tF.VERIFY_PIN:return(0,l.jsx)(o.Z,{email:_,onClose:t,guildId:v});case d.tF.EMAIL_WAITLIST:return(0,l.jsx)(c.Z,{setStep:I,school:f});default:return null}}},247007:function(e,t,n){n.d(t,{Z:()=>E}),n(388685),n(953529);var l=n(255367),i=n(73800),r=n(120356),s=n.n(r),a=n(658722),o=n.n(a),c=n(481060),d=n(231239),u=n(881052),m=n(686546),x=n(565138),h=n(601964),_=n(768581),g=n(888592),f=n(388032),N=n(593673),v=n(216019);function p(e){var t;let{guildInfo:n,onClick:i,submitting:r}=e,s=null!=(t=_.ZP.getGuildIconURL({id:n.id,icon:n.icon,size:40}))?t:void 0;return(0,l.jsxs)(c.P3F,{className:N.clickableGuildInfoRow,onClick:i,children:[(0,l.jsx)(m.ZP,{mask:m.ZP.Masks.AVATAR_DEFAULT,width:40,height:40,children:(0,l.jsx)(x.Z,{className:N.guildIcon,iconSrc:s,guild:new h.ZP(n),size:x.Z.Sizes.MEDIUM})}),(0,l.jsx)(c.Text,{className:N.guildName,variant:"text-md/semibold",children:n.name}),r?(0,l.jsx)(c.$jN,{type:c.$jN.Type.PULSING_ELLIPSIS}):(0,l.jsx)("img",{className:N.__invalid_arrow,alt:"",src:v})]})}let E=e=>{let{setStep:t,email:n,guildsInfo:r,setGuildId:a,forceGuildScrollHeight:m}=e,[x,h]=i.useState(null),[_,v]=i.useState(void 0),[E,S]=i.useState(null),I=e=>async()=>{h(null),a(e),S(e);try{await d.Z.sendVerificationEmail(n,!0,e),t(g.tF.VERIFY_PIN)}catch(e){h(new u.Hx(e))}finally{S(null)}},j=()=>t(g.tF.SUBMIT_SCHOOL),y=r;return null!=_&&""!==_&&(y=r.filter(e=>o()(_.toLowerCase(),e.name.toLowerCase()))),(0,l.jsxs)("div",{className:N.container,children:[(0,l.jsx)(c.X6q,{className:s()(N.centerText,N.header),variant:"heading-xl/semibold",children:f.intl.string(f.t.mOMeiY)}),(0,l.jsx)("div",{className:N.description,children:(0,l.jsx)(c.Text,{className:N.centerText,variant:"text-sm/normal",color:"header-secondary",children:f.intl.format(f.t.dZeiTE,{onJoinWaitlist:j})})}),(0,l.jsxs)("div",{className:s()(N.guildList,{[N.forcedHeight]:m}),children:[(0,l.jsxs)("div",{className:N.searchContainer,children:[(0,l.jsx)(c.Rj2,{placeholder:f.intl.string(f.t["5h0QOD"]),className:N.searchBox,inputClassName:N.searchBoxInput,searchIconClassName:N.searchBoxIcon,closeIconClassName:N.searchBoxIcon,onChange:e=>{v(e)},label:f.intl.string(f.t["5h0QOD"]),searchTerm:_,onClear:()=>{v(void 0)}}),(0,l.jsx)(c.Text,{color:"text-danger",variant:"text-xs/normal",children:null==x?void 0:x.getAnyErrorMessage()})]}),y.length>0?(0,l.jsx)(c.zJl,{className:N.scroller,children:y.map(e=>void 0===e?null:(0,l.jsx)(p,{guildInfo:e,onClick:I(e.id),submitting:E===e.id},e.id))}):(0,l.jsx)("div",{className:N.noResultsContainer,children:(0,l.jsxs)("div",{className:N.noResultsContent,children:[(0,l.jsx)("div",{className:N.noResultsImage}),(0,l.jsx)(c.X6q,{className:s()(N.centerText,N.header),variant:"heading-xl/semibold",children:f.intl.string(f.t["1eUrDQ"])}),(0,l.jsx)(c.Text,{className:N.centerText,variant:"text-md/normal",children:f.intl.format(f.t.flgDKC,{onJoinWaitlist:j})})]})})]})]})}},650233:function(e,t,n){n.d(t,{H:()=>_,default:()=>h});var l=n(255367),i=n(73800),r=n(990547),s=n(481060),a=n(390885),o=n(495784),c=n(950012),d=n(161836),u=n(630724),m=n(388032),x=n(778360);function h(e){let{transitionState:t,onClose:n,isNUXFlow:h}=e;return i.useEffect(()=>{o.Z.hideHubUpsell(),h&&a.Z.flowStep(u.MK.ORGANIC,u.EW.HUB_CONNECTION)},[h]),(0,l.jsx)(s.Y0X,{className:x.modalRoot,transitionState:t,"aria-label":m.intl.string(m.t["3khS8P"]),impression:{impressionName:r.ImpressionNames.HUB_EMAIL_SIGNUP},parentComponent:"HubEmailConnectionModal",children:(0,l.jsx)(s.hzk,{style:{overflow:"hidden",paddingRight:"0px"},paddingFix:!1,className:x.modalContent,children:(0,l.jsxs)("div",{className:x.container,children:[(0,l.jsx)("div",{className:x.sidebarContainer,children:(0,l.jsx)(d.Z,{})}),(0,l.jsxs)("div",{className:x.contentContainer,children:[(0,l.jsx)(s.olH,{onClick:n,className:x.closeButton}),(0,l.jsx)(c.Z,{isNUXFlow:h,onClose:n})]})]})})})}let _=e=>{let{invite:t}=e;return(0,l.jsxs)("div",{className:x.container,children:[(0,l.jsx)("div",{className:x.sidebarContainer,children:(0,l.jsx)(d.Z,{})}),(0,l.jsx)("div",{className:x.contentContainer,children:(0,l.jsx)(c.Z,{invite:t})})]})}},161836:function(e,t,n){n.d(t,{Z:()=>a}),n(953529);var l=n(255367);n(73800);var i=n(481060),r=n(388032),s=n(248999);let a=()=>(0,l.jsxs)("div",{className:s.container,children:[(0,l.jsx)("div",{className:s.iconContainer,children:(0,l.jsx)("div",{className:s.icon})}),(0,l.jsx)(i.Text,{color:"header-primary",variant:"text-lg/semibold",className:s.header,children:r.intl.string(r.t.PAnzbW)}),(0,l.jsx)(i.Text,{color:"header-secondary",variant:"text-sm/normal",className:s.description,children:r.intl.format(r.t["8Kp48/"],{})})]})},999464:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var l=n(255367),i=n(73800),r=n(120356),s=n.n(r),a=n(481060),o=n(231239),c=n(881052),d=n(313201),u=n(888592),m=n(981631),x=n(388032),h=n(257356);let _=(0,d.hQ)(),g=e=>{let{email:t,setStep:n,onBack:r,school:d,setSchool:g}=e,[f,N]=i.useState(null),[v,p]=i.useState(!1),E=async()=>{N(null),p(!0);try{await o.Z.signup(t,d),n(u.tF.EMAIL_WAITLIST)}catch(e){N(new c.Hx(e))}finally{p(!1)}},S=async e=>{null!=d&&""!==d&&e.charCode===m.yXg.ENTER&&await E()};return(0,l.jsxs)("div",{className:h.container,children:[(0,l.jsx)("div",{className:h.__invalid_topImage}),(0,l.jsx)(a.X6q,{className:s()(h.centerText,h.header),variant:"heading-xl/semibold",children:x.intl.string(x.t["2FNWBA"])}),(0,l.jsx)("div",{className:h.descriptionWidth,children:(0,l.jsx)(a.Text,{className:h.centerText,variant:"text-sm/normal",color:"header-secondary",children:x.intl.string(x.t["/4y6o6"])})}),(0,l.jsxs)(a.xJW,{className:h.formItem,children:[(0,l.jsx)(a.vwX,{id:_,children:x.intl.string(x.t["L+AfJi"])}),(0,l.jsx)(a.oil,{onKeyPress:S,placeholder:x.intl.string(x.t.Y1btJS),onChange:e=>{g(e)},error:null==f?void 0:f.getAnyErrorMessage(),"aria-labelledby":_})]}),(0,l.jsxs)("div",{className:h.footer,children:[(0,l.jsx)(a.zxk,{className:h.backButton,onClick:r,look:a.zxk.Looks.LINK,size:a.zxk.Sizes.NONE,color:a.zxk.Colors.PRIMARY,children:x.intl.string(x.t["13/7kZ"])}),(0,l.jsx)(a.zxk,{onClick:E,size:a.zxk.Sizes.MEDIUM,color:a.zxk.Colors.BRAND,className:h.__invalid_submitButton,submitting:v,children:x.intl.string(x.t.PDsYAg)})]})]})}},503406:function(e,t,n){n.d(t,{Z:()=>N}),n(388685);var l=n(255367),i=n(73800),r=n(120356),s=n.n(r),a=n(392711),o=n.n(a),c=n(481060),d=n(231239),u=n(881052),m=n(313201),x=n(703656),h=n(981631),_=n(388032),g=n(768680);let f=(0,m.hQ)(),N=e=>{let{email:t,guildId:n,onClose:r}=e,[a,m]=i.useState(""),[N,v]=i.useState(null),p=i.useCallback(async()=>{if(null!=n)try{let e=await d.Z.verifyCode(a,n,t);e.guild&&(null==r||r(),(0,x.uL)(h.Z5c.CHANNEL(e.guild.id)))}catch(e){v(new u.Hx(e))}},[a,t,n,r]),E=o().throttle(()=>{d.Z.sendVerificationEmail(t,!0,n)},1e3),S=async e=>{null!=a&&""!==a&&e.charCode===h.yXg.ENTER&&await p()};return(0,l.jsxs)("div",{className:g.container,children:[(0,l.jsx)("div",{className:g.topImage}),(0,l.jsx)(c.X6q,{className:s()(g.centerText,g.header),variant:"heading-xl/semibold",children:_.intl.string(_.t.SJ3Lxc)}),(0,l.jsx)("div",{className:g.descriptionWidth,children:(0,l.jsx)(c.Text,{className:g.centerText,variant:"text-sm/normal",color:"header-secondary",children:_.intl.format(_.t["b+W0oq"],{email:t,onClick:E})})}),(0,l.jsxs)(c.xJW,{className:g.formItem,children:[(0,l.jsx)(c.vwX,{id:f,children:_.intl.string(_.t.rpWT1t)}),(0,l.jsx)(c.oil,{onKeyPress:S,onChange:e=>{null!=e&&""!==e&&m(e)},error:null==N?void 0:N.getAnyErrorMessage(),"aria-labelledby":f})]}),(0,l.jsx)(c.zxk,{fullWidth:!0,onClick:p,size:c.zxk.Sizes.LARGE,color:c.zxk.Colors.BRAND,children:(0,l.jsx)(c.Text,{className:g.submitText,variant:"text-sm/normal",children:_.intl.string(_.t.geKm7u)})})]})}},463115:function(e,t,n){n.d(t,{Z:()=>d});var l=n(255367);n(73800);var i=n(120356),r=n.n(i),s=n(481060),a=n(888592),o=n(388032),c=n(167150);let d=e=>{let{school:t,setStep:n}=e;return(0,l.jsxs)("div",{className:c.container,children:[(0,l.jsx)("div",{className:c.topImage}),(0,l.jsx)(s.X6q,{className:r()(c.centerText,c.header),variant:"heading-xl/semibold",children:o.intl.string(o.t.OaloU1)}),(0,l.jsx)("div",{className:c.descriptionWidth,children:(0,l.jsx)(s.Text,{className:c.centerText,variant:"text-sm/normal",color:"header-secondary",children:o.intl.format(o.t.Rs7MXF,{school:t})})}),(0,l.jsx)(s.zxk,{look:s.zxk.Looks.LINK,size:s.zxk.Sizes.SMALL,color:s.zxk.Colors.LINK,onClick:()=>{n(a.tF.VERIFY_EMAIL)},className:c.__invalid_resendLink,children:o.intl.string(o.t.Zg63h4)})]})}},630724:function(e,t,n){n.d(t,{EW:()=>m,FF:()=>c,MK:()=>o,X2:()=>u,mx:()=>d});var l,i,r,s,a,o=((l={}).UNKNOWN="unknown",l.ANY="any",l.INVITE="invite",l.ORGANIC="organic_registration",l.ORGANIC_MARKETING="organic_marketing",l.ORGANIC_GUILD_TEMPLATES="organic_guild_template",l.CREATE_GUILD="create_guild",l),c=((i={}).AGE_GATE="age_gate",i.AGE_GATE_UNDERAGE="age_gate_underage",i),d=((r={}).CLAIM_ACCOUNT="claim_account",r.CLAIM_ACCOUNT_SUCCESS="claim_account_success",r),u=((s={}).GUILD_TEMPLATES="guild_templates",s.GUILD_CREATE="guild_create",s.CREATION_INTENT="creation_intent",s.CHANNEL_PROMPT="channel_prompt",s.JOIN_GUILD="join_guild",s.SUCCESS="create_success",s),m=((a={}).NUF_STARTED="nuf_started",a.AGE_GATE="age_gate",a.NUF_COMPLETE="nuf_complete",a.HUB_CONNECTION="hub_connection",a)},390885:function(e,t,n){n.d(t,{Z:()=>I});var l=n(97519),i=n(296574),r=n(731965),s=n(433517),a=n(710845),o=n(626135),c=n(630724),d=n(981631);function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},l=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),l.forEach(function(t){var l;l=n[t],t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l})}return e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n.push.apply(n,l)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function x(e,t){if(null==e)return{};var n,l,i=function(e,t){if(null==e)return{};var n,l,i={},r=Object.keys(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)n=r[l],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==_(l))return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}function _(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}let g="UserFlowAnalyticsStore_current",f="UserFlowAnalyticsStore";function N(e){if(e===c.MK.UNKNOWN)return null;let t=s.K.get("".concat(f,"-").concat(e));if(null==t)return null;let{version:n}=t,l=x(t,["version"]);return 1!==n?null:l}new a.Z("UserFlowAnalytics");let v=(0,l.U)()((0,i.XR)((e,t)=>({flows:{},currentFlow:null,activeFlow:()=>{var e;let n=null!=(e=t().currentFlow)?e:s.K.get(g);if(null==n)return null;let{[n]:l}=t().flows,i=null!=l?l:N(n);return(null==i?void 0:i.currentStep)!=null?n:null}})));function p(e,t){let n=v.getState().flows,{[e]:l}=n,i=x(n,[e].map(h)),s=null!=l?l:N(e);((null==s?void 0:s.currentStep)==null||s.currentStep!==t)&&(0,r.j)(()=>{v.setState({flows:m(u({},i),{[e]:{type:e,lastStep:null,lastTimestamp:null,currentStep:t,currentTimestamp:new Date,skipped:!1}}),currentFlow:e})})}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=e;if(e===c.MK.ANY){var i;l=null!=(i=v.getState().activeFlow())?i:c.MK.UNKNOWN}let s=v.getState().flows,{[l]:a}=s,o=x(s,[l].map(h)),d=null!=a?a:N(l);null!=d&&null!=d.currentStep&&d.currentStep!==t&&(0,r.j)(()=>{v.setState({flows:m(u({},o),{[l]:m(u({},d),{lastStep:d.currentStep,lastTimestamp:d.currentTimestamp,currentStep:t,currentTimestamp:new Date,ended:n})}),currentFlow:l})})}function S(){return null!=v.getState().activeFlow()}v.subscribe(e=>null!=e.currentFlow?e.flows[e.currentFlow]:void 0,e=>{var t;if(null!=e&&(!function(e){if(e.type===c.MK.UNKNOWN)return;let t="".concat(f,"-").concat(e.type);e.ended?(s.K.remove(t),s.K.remove(g)):(s.K.set("".concat(f,"-").concat(e.type),m(u({},e),{version:1})),s.K.set(g,e.type))}(e),o.default.track(d.rMx.NUO_TRANSITION,{flow_type:e.type,from_step:e.lastStep,to_step:e.currentStep,seconds_on_from_step:"function"!=typeof(null==(t=e.lastTimestamp)?void 0:t.getTime)?0:(e.currentTimestamp.getTime()-e.lastTimestamp.getTime())/1e3},{flush:!0}),e.ended)){let t=u({},v.getState().flows);delete t[e.type],(0,r.j)(()=>{v.setState({flows:t,currentFlow:null})})}});let I={flowStart:p,flowStepOrStart:function(e,t){S()?E(e,t):p(e,t)},flowStep:E,hasActiveFlow:S}}}]);
//# sourceMappingURL=f24d232058fe9ccb.js.map