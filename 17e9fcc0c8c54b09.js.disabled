"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["2286"],{863750:function(e,t,n){n.d(t,{Z:()=>d}),n(388685);var l,i=n(442837),r=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u={enable_recently_active:"Enable recently active channels",theme_setting_in_account_sheet:"Show theme settings in the Account action sheet",mobile_profile_effect_debug_controls:"mobile_profile_effect_debug_controls",nav_experiment_server_drawer_enabled:"[NavI] Enable expandable server drawer",shop_include_unpublished:"[Shop] show unpublished items in shop",show_icymi_debug_scores:"Show ICYMI debug scores",channel_list_scrim:"Dim the channel list when chat appears"},s={};class o extends(l=i.ZP.DeviceSettingsStore){getUserAgnosticState(){return{toggleStates:s}}initialize(e){for(var t in u){var n,l;let i=null!=(l=null==e||null==(n=e.toggleStates)?void 0:n[t])&&l;s[t]=i}}get(e){var t;return null!=(t=s[e])&&t}set(e,t){return s[e]=t,t}all(){return s}allWithDescriptions(){return Object.entries(s).map(e=>{let[t,n]=e;return[t,n,u[t]]})}}a(o,"displayName","DevToolsDesignTogglesStore"),a(o,"persistKey","DevToolsDesignTogglesStore");let d=new o(r.Z,{DEV_TOOLS_DESIGN_TOGGLE_SET:function(e){s[e.toggle]=e.value}})},238428:function(e,t,n){n(442837),n(863750)},203818:function(e,t,n){n.d(t,{Z:()=>d});var l,i=n(442837),r=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u={};function s(e){let{guildId:t,expand:n}=e;n?u[t]=!0:delete u[t]}class o extends(l=i.ZP.PersistedStore){initialize(e){u=null!=e?e:{}}isVoiceCategoryExpanded(e){var t;return null!=(t=null!=e&&u[e])&&t}isVoiceCategoryCollapsed(e){return!this.isVoiceCategoryExpanded(e)}getState(){return u}}a(o,"displayName","ChannelListVoiceCategoryStore"),a(o,"persistKey","ChannelListVoiceCategoryStore");let d=new o(r.Z,{VOICE_CATEGORY_COLLAPSE:s,VOICE_CATEGORY_EXPAND:s})},798423:function(e,t,n){n.d(t,{Q:()=>i});var l=n(863750);function i(){return l.Z.get("enable_recently_active")}n(238428)},18036:function(e,t,n){n.d(t,{Z:()=>_}),n(388685);var l,i=n(442837),r=n(570140),a=n(592125),u=n(944486),s=n(9156);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d={},c={},f={};function g(){let e=u.Z.getChannelId();if(null==e)return;let t=a.Z.getChannel(e);if(null==t||null==t.guild_id)return;let n=t.guild_id;if(null==f[e]&&(f[e]=0),t.isThread()||s.ZP.isOptInEnabled(n)&&!s.ZP.isChannelOrParentOptedIn(n,t.id)){delete f[e],null!=d[n]&&d[n].delete(e);return}return(f[e]++,null==d[n]&&(d[n]=new Set),s.ZP.isFavorite(n,e))?void d[n].delete(e):(null==c[n]||!c[n].has(e))&&f[e]>50?(d[n].add(e),!0):void 0}class h extends(l=i.ZP.PersistedStore){initialize(e){var t,n;if(this.syncWith([u.Z],g),null==e)return;let{suggestedChannels:l,dismissedSuggestions:i,channelOpensByChannelId:r}=e;if(null!=l)for(let e in l)t=new Set(l[e]),d[e]=void 0!==t?t:new Set;if(null!=i)for(let e in i)n=new Set(i[e]),c[e]=void 0!==n?n:new Set;f=null!=r?r:{}}getSuggestedChannelId(e){return null}getState(){return{suggestedChannels:{},dismissedSuggestions:{},channelOpensByChannelId:{}}}}o(h,"displayName","FavoritesSuggestionStore"),o(h,"persistKey","FavoritesSuggestionStore");let _=new h(r.Z,{DISMISS_FAVORITE_SUGGESTION:function(e){let{guildId:t,channelId:n}=e;return null==c[t]&&(c[t]=new Set),c[t].add(n),d[t].delete(n),!0}})},798379:function(e,t,n){n.d(t,{Z:()=>o}),n(388685);var l,i=n(442837),r=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=new Set;class s extends(l=i.ZP.PersistedStore){initialize(e){u.clear(),null==e||e.guilds.forEach(e=>u.add(e))}isCollapsed(e){return u.has(e)}getState(){return{guilds:u}}}a(s,"displayName","RecentlyActiveCollapseStore"),a(s,"persistKey","RecentlyActiveCollapseStore");let o=new s(r.Z,{SET_RECENTLY_ACTIVE_COLLAPSED:function(e){let{guildId:t,collapsed:n}=e;n?u.add(t):u.delete(t)}})},22082:function(e,t,n){n.d(t,{Z:()=>N}),n(388685);var l,i,r,a=n(442837),u=n(570140),s=n(45114),o=n(897473),d=n(581883),c=n(314897),f=n(592125),g=n(984933),h=n(271383),_=n(430824),C=n(306680),E=n(9156),p=n(70956),S=n(709054),b=n(981631);let v=new Set,Z={},w={};function P(e,t){let n=Z[e];if(null!=n&&null!=t&&n.has(t)){var l;!E.ZP.isOptInEnabled(e)||(null==(l=f.Z.getChannel(t))?void 0:l.isThread())||null!=C.ZP.ackMessageId(t)||u.Z.wait(()=>(0,s.In)(t,{object:b.qAy.ACK_RECENT_CHANNEL_NEW_CHANNEL_VIEWED,objectType:b.Qqv.ACK_AUTOMATIC},!0,!0,S.default.atPreviousMillisecond(t)))}}function y(e){var t;if(null!=Z[e])return;let n=g.ZP.getChannels(e)[g.sH].map(e=>e.channel.id),l=null==(t=h.ZP.getMember(e,c.default.getId()))?void 0:t.joinedAt;if(null==l)return;Z[e]=new Set;let i=new Date(l).getTime();0!==n.length&&(Z[e]=new Set(n.filter(t=>{let n=S.default.extractTimestamp(t);return null==C.ZP.getTrackedAckMessageId(t)&&n>Date.now()-p.Z.Millis.WEEK&&n>d.Z.getGuildRecentsDismissedAt(e)&&n>i&&!E.ZP.isChannelOrParentOptedIn(e,t)})),w[e]=Date.now())}function I(){S.default.keys(Z).forEach(e=>{let t=Z[e];Z[e]=new Set([...t].filter(t=>!E.ZP.isChannelOrParentOptedIn(e,t)))})}class O extends(l=a.ZP.Store){initialize(){this.waitFor(g.ZP,c.default,h.ZP,E.ZP,C.ZP,d.Z),this.syncWith([E.ZP],I)}getNewChannelIds(e){var t;return null!=e&&null==Z[e]&&y(e),null!=e&&null!=(t=Z[e])?t:v}shouldIndicateNewChannel(e,t){var n;if(null==e)return!1;let l=_.Z.getGuild(e);return null!=l&&!!l.hasFeature(b.oNc.COMMUNITY)&&(null!=e&&null==Z[e]&&y(e),(null==(n=Z[e])?void 0:n.has(t))&&null==C.ZP.getTrackedAckMessageId(t))}}r="NewChannelsStore",(i="displayName")in O?Object.defineProperty(O,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):O[i]=r;let N=new O(u.Z,{BULK_CLEAR_RECENTS:function(e){let{guildId:t,channelIds:n}=e;if(null==Z[t])return!1;n.forEach(e=>Z[t].delete(e)),0===Z[t].size&&delete Z[t]},CHANNEL_ACK:()=>!0,CHANNEL_SELECT:function(e){let{guildId:t,channelId:n}=e;return null!=t&&(null==Z[t]||w[t]<Date.now()-p.Z.Millis.HOUR?(y(t),!0):(null!=n&&P(t,n),!1))},SIDEBAR_VIEW_CHANNEL:function(e){let{guildId:t,channelId:n,sidebarType:l}=e;return null!=t&&l===o.tI.VIEW_CHANNEL&&(P(t,n),!1)},SIDEBAR_VIEW_GUILD:function(e){let{guildId:t,baseChannelId:n}=e;return null!=t&&(P(t,n),!1)},GUILD_DELETE:function(e){let{guild:t}=e;delete Z[t.id]},CHANNEL_CREATE:function(e){var t;let{channel:n}=e;n.isVocal()||(Z[n.guild_id]=null!=(t=Z[n.guild_id])?t:new Set,Z[n.guild_id].add(n.id))}})},58468:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var l,i=n(442837),r=n(570140),a=n(709054),u=n(592125);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o={},d=o;function c(){a.default.keys(d).forEach(e=>{null==u.Z.getChannel(e)&&delete d[e]})}class f extends(l=i.ZP.PersistedStore){initialize(e){this.waitFor(u.Z),d=null!=e?e:o}getState(){return d}getCollapsed(){return d}isCollapsed(e){return d[e]||!1}}s(f,"displayName","CollapsedVoiceChannelStore"),s(f,"persistKey","collapsedChannels");let g=new f(r.Z,{CONNECTION_OPEN:c,OVERLAY_INITIALIZE:c,CHANNEL_COLLAPSE:function(e){let{channelId:t}=e;d[t]?delete d[t]:d[t]=!0,d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},l=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),l.forEach(function(t){s(e,t,n[t])})}return e}({},d)}})}}]);
//# sourceMappingURL=17e9fcc0c8c54b09.js.map