"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["18543"],{725436:function(e,t,n){n.d(t,{m:()=>u});var r=n(454585),l=n(551452),i=n(532901);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let s=c(a({},r.Z.guildEventRules.link),{react:(0,i.Z)({enableBuildOverrides:!1,mustConfirmExternalLink:!0}).react}),o=c(a({},r.Z.guildEventRules.channelMention),{react:(0,l.Z)({enableBuildOverrides:!1,shouldCloseDefaultModals:!0,shouldStopPropagation:!0}).react}),u=r.Z.reactParserFor(c(a({},r.Z.guildEventRules),{link:s,channelMention:o}))},315416:function(e,t,n){n.d(t,{Z:()=>c});var r=n(73800),l=n(442837),i=n(897285),a=n(924301);function c(e,t,n){let c=(0,l.e7)([a.ZP],()=>a.ZP.getUserCount(t,n));return(0,r.useEffect)(()=>{null!=e&&null!=t&&i.Z.getGuildEventUserCounts(e,t,null!=n?[n]:[])},[t,e,n]),c}},405613:function(e,t,n){n.d(t,{Z:()=>i});var r=n(134432),l=n(981631);function i(e,t){let n;if(null==e.image)return null;null==t&&(t=window.screen.width*(0,r.x_)()),t=(0,r.oO)(t);let i=window.GLOBAL_ENV.CDN_HOST;if(null!=i){var a;n="".concat(a="https:","//").concat(i,"/guild-events/").concat(e.id,"/").concat(e.image)}else n=location.protocol+window.GLOBAL_ENV.API_ENDPOINT+l.ANM.GUILD_EVENT_IMAGE(e.id,e.image,"png");return n+"?size=".concat(t)}},391174:function(e,t,n){n.d(t,{Z:()=>u}),n(953529);var r=n(255367),l=n(73800),i=n(120356),a=n.n(i),c=n(725436),s=n(974844),o=n(73433);function u(e){let{description:t,className:n,guildId:i,truncate:u=!0}=e,d=l.useMemo(()=>(0,c.m)(t,!0,{guildId:i,allowLinks:!0,allowHeading:!0,allowList:!0}),[t,i]);return(0,r.jsx)("div",{className:a()(s.descriptionText,n,o.markup,{[s.truncate]:u}),children:d})}},95291:function(e,t,n){n.d(t,{Z:()=>c});var r=n(255367);n(73800);var l=n(120356),i=n.n(l),a=n(912306);function c(e){let{source:t,className:n}=e;return null==t?null:(0,r.jsx)("div",{className:i()(a.container,n),style:{backgroundImage:"url(".concat(t,")")}})}},742593:function(e,t,n){n.d(t,{HZ:()=>P,Rf:()=>w,ZP:()=>E}),n(953529);var r=n(255367);n(73800);var l=n(120356),i=n.n(l),a=n(442837),c=n(481060),s=n(540059),o=n(271383),u=n(51144),d=n(894017),f=n(79874),b=n(315416),m=n(236373),p=n(854698),g=n(391174),v=n(95291),O=n(390966),j=n(388032),h=n(274569);function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function P(e){let{className:t,creator:n,guildId:l,isNew:s,isHub:g=!1,guildEvent:v,eventPreview:P,recurrenceId:w}=e,E=(0,b.Z)(l,v.id,w),N=null!=v?v:P,S=(0,a.e7)([o.ZP],()=>o.ZP.getNick(l,null==n?void 0:n.id),[l,n]);w=null==N||null!=w?w:(0,p.DK)(N);let{startTime:T}=(0,f.ZP)(null!=v?v:P,w),Z=(0,d.Z)(w,v.id),D=(null==N?void 0:N.scheduled_start_time)!=null?(0,p.lh)(Z,T,new Date(N.scheduled_start_time)):null;if(null==N)return null;let{entity_type:I,status:_,recurrence_rule:L}=N;return(0,r.jsxs)("div",{className:i()(h.statusContainer,t),children:[(0,r.jsx)(O.z,{startTime:T.toISOString(),status:null!=D?D:_,eventType:I,isNew:s,recurrenceRule:(0,m.KV)(L),guildEventId:v.id,recurrenceId:w}),(0,r.jsx)("div",{className:h.spacer}),!g&&null!=n&&(0,r.jsx)(c.ua7,{text:j.intl.formatToPlainString(j.t["+3iypa"],{username:null!=S?S:u.ZP.getName(n)}),children:e=>(0,r.jsx)(c.qEK,y(x({},e),{src:n.getAvatarURL(l,20),size:c.EFr.SIZE_20,"aria-label":null!=S?S:n.username,className:h.creator}))}),(0,r.jsx)(c.ua7,{text:j.intl.formatToPlainString(j.t["+DLsDw"],{count:E}),children:e=>(0,r.jsxs)("div",y(x({className:h.rsvpCount},e),{children:[(0,r.jsx)(c.BFJ,{size:"xxs",color:"currentColor",className:h.rsvpIcon}),(0,r.jsx)(c.Text,{color:"header-secondary",variant:"text-sm/normal",children:E})]}))})]})}function w(e){let{headerVariant:t="heading-lg/medium",descriptionClassName:n,name:l,description:a,truncate:s,guildId:o,imageSource:u}=e;return(0,r.jsxs)("div",{className:i()({[h.withThumbnail]:null!=u}),children:[(0,r.jsxs)("div",{className:i()({[h.descriptionWithThumbnail]:null!=u}),children:[(0,r.jsx)(c.X6q,{variant:t,selectable:!0,className:h.eventName,children:l}),null!=a&&(0,r.jsx)(g.Z,{description:a,className:i()(n,h.description),truncate:s,guildId:o})]}),null!=u&&(0,r.jsx)("div",{className:h.thumbnailContainer,children:(0,r.jsx)(v.Z,{source:u,className:h.thumbnail})})]})}function E(e){let{headerVariant:t,descriptionClassName:n,creator:l,name:i,description:a,imageSource:c,isHub:o=!1,truncate:u,guildId:d,isNew:f,guildEvent:b,eventPreview:m,recurrenceId:p}=e,g=(0,s.Q3)("GuildEventDetails");return(0,r.jsxs)("div",{className:h.container,children:[g&&null!=c?(0,r.jsx)("div",{className:h.thumbnailContainer,children:(0,r.jsx)(v.Z,{source:c,className:h.thumbnail})}):null,(0,r.jsx)(P,{className:h.eventInfoStatusContainer,creator:l,guildId:d,isHub:o,isNew:f,guildEvent:b,eventPreview:m,recurrenceId:p}),(0,r.jsx)(w,{name:i,description:a,headerVariant:t,descriptionClassName:n,truncate:u,guildId:d,imageSource:g?null:c})]})}},390966:function(e,t,n){n.d(t,{z:()=>j}),n(388685);var r=n(255367),l=n(73800),i=n(120356),a=n.n(i),c=n(913527),s=n.n(c),o=n(692547),u=n(481060),d=n(894017),f=n(854698),b=n(849464),m=n(765305),p=n(388032),g=n(923167);function v(){return(0,r.jsx)(u.IGR,{className:g.newBadge,color:o.Z.unsafe_rawColors.BRAND_260.css,text:(0,r.jsx)(u.Text,{className:g.newBadgeText,variant:"text-xs/bold",children:p.intl.string(p.t.y2b7CA)})})}function O(e){let{children:t,className:n,tooltipText:l}=e;return(0,r.jsx)("div",{className:a()(g.eventStatusContainer,n),children:(0,r.jsx)(u.ua7,{position:"right",text:l,shouldShow:null!=l,children:e=>{var l,i;return(0,r.jsx)("div",(l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={className:a()(g.eventStatusContainer,n),children:t},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(i,e))}),l))}})})}function j(e){let{startTime:t,status:n,eventType:i,className:c,endTime:j,liveText:h,textVariant:x="text-sm/semibold",isNew:y,recurrenceRule:P,guildEventId:w,recurrenceId:E}=e,N=(0,u.dQu)(o.Z.colors.TEXT_BRAND).hex(),S=(0,u.dQu)(o.Z.colors.TEXT_POSITIVE).hex(),T=(0,u.dQu)(o.Z.colors.TEXT_DANGER).hex();null==h&&(h=i===m.WX.EXTERNAL?p.intl.string(p.t.IyZxjI):p.intl.string(p.t["X2K3//"]));let Z=(0,d.Z)(E,w),[{startDateTimeString:D,endDateTimeString:I,currentOrPastEvent:_,upcomingEvent:L,diffMinutes:C},k]=l.useState((0,f.ub)(t,j));l.useEffect(()=>{k((0,f.ub)(t,j));let e=setInterval(()=>k((0,f.ub)(t,j)),1e3);return()=>{clearInterval(e)}},[t,j]);let A=D;null!=I&&""!==I&&(A=p.intl.formatToPlainString(p.t.tXbu7O,{start:D,end:I}));let R=l.useMemo(()=>n===m.p1.CANCELED||(null==Z?void 0:Z.is_canceled)?5:n===m.p1.ACTIVE?3:m.$I.has(n)?4:_?2:+!!L,[n,null==Z?void 0:Z.is_canceled,_,L]),z=function(e,t,n,l,i){switch(e){case 1:return i>0?p.intl.formatToPlainString(p.t.PQlCWl,{minutes:i}):p.intl.string(p.t.WINqKS);case 2:return p.intl.string(p.t.WINqKS);case 3:return null!=l&&""!==l?p.intl.format(p.t.vHYgJS,{start:n,startHook:e=>(0,r.jsx)(u.Text,{color:"text-positive",variant:"text-sm/semibold",className:g.liveEventEndTime,children:e}),end:l}):null!=n?n:"";default:return t}}(R,A,h,I,C),{Icon:B,iconColor:K,textColor:X,tooltipText:H}=l.useMemo(()=>(function(e){let t,{timeStatus:n,textBrand:r,textPositive:l,textDanger:i,endDateTimeString:a,startDateTimeString:c}=e,s=u.Que,o=r,d="header-secondary";switch(n){case 3:o=l,d=null!=a?void 0:"text-positive";break;case 4:s=u.T39;break;case 2:case 1:d="text-brand",t=c;break;case 5:o=i}return{Icon:s,iconColor:o,textColor:d,tooltipText:t}})({timeStatus:R,textBrand:N,textPositive:S,textDanger:T,endDateTimeString:I,startDateTimeString:D}),[R,N,S,T,I,D]),M=null;if(null!=P){let e=(0,f.Ho)(P);M=p.intl.formatToPlainString(p.t.HmKEqa,{recurrenceRule:e.toText()});let n=s()(t);M=function(e,t){let n=t.toDate(),r=n.toLocaleString(p.intl.currentLocale,{weekday:"long"});switch(e){case b.z.WEEKLY:return p.intl.formatToPlainString(p.t.xQM9X1,{weekday:r});case b.z.BIWEEKLY:return p.intl.formatToPlainString(p.t.RYscaW,{weekday:r});case b.z.MONTHLY:let l=Math.ceil(n.getDate()/7);return p.intl.formatToPlainString(p.t["4ZN9Ag"],{weekday:r,nth:l});case b.z.YEARLY:return p.intl.formatToPlainString(p.t["rXUS+v"],{date:n.toLocaleString(p.intl.currentLocale,{month:"short",day:"2-digit"})});case b.z.WEEKDAY_ONLY:return p.intl.string(p.t["2BX6bG"]);case b.z.WEEKEND_ONLY:return p.intl.string(p.t["IEi+R0"]);default:return null}}((0,f.zi)(n,P),n)}return(0,r.jsxs)(O,{className:a()(c,{[g.isRecurring]:null!=M}),tooltipText:H,children:[y&&n===m.p1.SCHEDULED?(0,r.jsx)(v,{}):(0,r.jsx)(B,{color:K,size:"custom",width:20,height:20}),(0,r.jsxs)("div",{className:g.eventStatusLabel,children:[(0,r.jsx)(u.Text,{color:X,variant:x,children:z}),null!=M&&(0,r.jsx)(u.Text,{color:"header-secondary",variant:"text-xs/normal",children:M})]})]})}}}]);
//# sourceMappingURL=ce0fe5db74dc4074.js.map