"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["37447"],{87181:function(e){e.exports="/assets/2431801debe6535e.svg"},111382:function(e,t,n){n.d(t,{n:()=>s});let r=(0,n(818083).B)({id:"2024-07_quest_interactable_expired_crendentials",kind:"user",label:"Quest interactable expired crendentials errors",defaultConfig:{enabled:!1},treatments:[{id:0,label:"not interactable",config:{enabled:!1}},{id:1,label:"interactable",config:{enabled:!0}}]}),s=()=>r.useExperiment({location:"never"},{autoTrackExposure:!1}).enabled},65443:function(e,t,n){n.d(t,{Z:()=>p});var r=n(255367),s=n(73800),i=n(120356),o=n.n(i),a=n(481060),l=n(918701),c=n(467628),u=n(373370),d=n(566078),m=n(46140),x=n(388032),g=n(954353);function p(e){let{orientation:t="horizontal",headingColor:n="text-normal",textColor:i="text-normal",withRewardName:p=!1,withPremiumHighlight:h=!0,quest:j}=e,f=(0,c.j)({location:m.dr.QUESTS_BAR_MOBILE}),b=s.useMemo(()=>d.r.build(j.config),[j.config]),C=b.defaultReward.messages.name,v=b.defaultReward.messages.nameWithArticle,y=(0,l.Kr)(j.config),O=(0,u.mK)(j.config);return(0,r.jsxs)("div",{children:[p&&(0,r.jsx)(a.Text,{color:n,variant:"text-sm/normal",children:x.intl.formatToPlainString(x.t["W8/b3d"],{rewardName:f?C:v})}),null!=y&&(0,r.jsxs)("ul",{className:o()(g.rewardsDisclosures,{[g.rewardsDisclosuresHorizontal]:"horizontal"===t,[g.rewardsDisclosuresStack]:"stack"===t}),children:[(0,r.jsx)(a.Text,{className:o()({[g.rewardsDisclosuresDurationPremiumExtendable]:null!=O}),color:i,tag:"li",variant:"text-xs/medium",children:x.intl.formatToPlainString(x.t.coKAb2,{rewardsDuration:y})}),null!=O&&(0,r.jsx)(a.Text,{className:o()({[g.rewardsDisclosuresItemPremiumHighlight]:h}),tag:"li",color:h?void 0:i,variant:"text-xs/medium",children:O})]})]})}},685613:function(e,t,n){n.d(t,{US:()=>j,ZP:()=>f,fF:()=>h});var r,s,i=n(255367);n(73800);var o=n(120356),a=n.n(o),l=n(692547),c=n(780384),u=n(481060),d=n(113434),m=n(475595),x=n(78826),g=n(981631),p=n(582835),h=((r={})[r.SMALL=24]="SMALL",r[r.MEDIUM=32]="MEDIUM",r),j=((s={})[s.SMALL=2]="SMALL",s[s.MEDIUM=8]="MEDIUM",s);let f=function(e){let{className:t,logotypeClassName:n,gameTileSize:r=24,quest:s,separatorSpacing:o=2,theme:h=g.BRd.DARK,withCosponsor:j=!0,withGameTile:f=!0,onLoadComplete:b}=e,C=(0,c.wj)(h)?g.BRd.DARK:g.BRd.LIGHT,v=(0,d.Gd)(s.id,C),y=j&&null!=s.config.cosponsorMetadata&&null!=v;return(0,i.jsxs)("div",{className:a()(p.partnerBranding,t),children:[f&&(0,i.jsx)(x.Fl,{id:"QuestPartnerBranding_gameTile",children:e=>(0,i.jsx)("img",{ref:e,className:p.partnerBrandingGameTile,alt:"",src:(0,m.fh)(s,m.eC.GAME_TILE,C).url,style:{borderRadius:function(e){switch(e){case 24:return 3;case 32:return 4}}(r),width:r,height:r},onLoad:b})}),(0,i.jsx)(x.Fl,{id:"QuestPartnerBranding_gameLogotype",children:e=>(0,i.jsx)("img",{ref:e,className:a()(p.partnerBrandingLogotype,n,{[p.partnerBrandingLogotypeWithCosponsor]:y}),alt:s.config.messages.gameTitle,src:(0,m.fh)(s,m.eC.LOGO_TYPE,C).url,onLoad:b})}),y&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:p.cosponsorBrandSeparatorWrapper,style:{margin:"0 ".concat(o,"px")},children:(0,i.jsx)(u.P$X,{className:p.cosponsorBrandSeparator,color:l.Z.colors.WHITE})}),(0,i.jsx)(x.Fl,{id:"QuestPartnerBranding_cosponsorLogotype",children:e=>{var t,r;return(0,i.jsx)("img",{ref:e,className:a()(p.partnerBrandingLogotype,p.partnerBrandingLogotypeWithCosponsor,n),alt:null!=(r=null==(t=s.config.cosponsorMetadata)?void 0:t.name)?r:"",src:v.url,onLoad:b})}})]})]})}},340100:function(e,t,n){n.d(t,{Z:()=>d}),n(784620),n(973216);var r=n(255367);n(73800);var s=n(120356),i=n.n(s),o=n(692547),a=n(481060),l=n(113434),c=n(26650),u=n(485662);let d=function(e){let{className:t,color:n=o.Z.colors.WHITE,quest:s,isInventory:d}=e,m=(0,l.qb)(e.quest),{percentComplete:x,completedRatioDisplay:g}=(0,l.I)(s);return!d&&m.length>0?(0,r.jsx)(c.Z,{children:m.at(0)}):(0,r.jsxs)("div",{className:i()(u.wrapper,t),style:{color:n.css},children:[(0,r.jsxs)("div",{className:u.percentCompleteWrapper,children:[(0,r.jsx)(a.Text,{variant:"text-xs/semibold",className:u.percentCompleteLabel,color:"none",children:g}),(0,r.jsx)("div",{className:u.percentCompleteLabelOffset,style:{width:"".concat(100-x,"%")}})]}),(0,r.jsx)("div",{className:u.progressBar,role:"progressbar","aria-valuenow":x,children:(0,r.jsx)("div",{className:u.progressBarFill,style:{width:"".concat(x,"%")}})}),m.length>0&&(0,r.jsx)(c.Z,{isInventory:d,children:m.at(0)})]})}},611855:function(e,t,n){n.d(t,{Z:()=>d});var r=n(255367);n(73800);var s=n(120356),i=n.n(s),o=n(780384),a=n(481060),l=n(410030),c=n(388032),u=n(286737);let d=function(e){let{className:t,color:n="header-primary",textOpacity:s=.9}=e,d=(0,l.Fg)(),m=(0,o.wj)(d);return(0,r.jsxs)(a.Text,{variant:"text-xxs/medium",color:n,className:i()(u.promotedTag,t),children:[(0,r.jsx)("span",{className:u.promotedTagBackground,style:{backgroundColor:"rgba(0, 0, 0, ".concat(m?.2:.08,")")}}),(0,r.jsx)("span",{style:{opacity:s},children:c.intl.string(c.t.o6FLcH)})]})}},128535:function(e,t,n){n.d(t,{Z:()=>O}),n(539854),n(388685);var r=n(255367);n(73800);var s=n(120356),i=n.n(s),o=n(959078),a=n(442837),l=n(481060),c=n(607070),u=n(553795),d=n(358085),m=n(617136),x=n(915750),g=n(111382),p=n(113434),h=n(918701),j=n(667105),f=n(388032),b=n(166246);let C=e=>0===e.length?b.warning:b.danger,v=(e,t)=>0===e.length?f.intl.formatToPlainString(f.t.gX0Qc3,{gameTitle:t}):f.intl.formatToPlainString(f.t["28Ql29"],{gameTitle:t}),y=e=>{let{quest:t,location:n,errors:s,gameTitle:i,consoleHelpArticle:a,expiredCredentialsInteractable:c,impressionId:x}=e;if(0===s.length)return(0,r.jsx)(l.Text,{variant:"text-sm/medium",color:"text-muted",children:f.intl.format(f.t.GXqvCw,{gameTitle:i})});let g=[];(0,h.Nj)({quest:t})&&g.push((0,d.isWeb)()?f.intl.string(f.t["0UTkPz"]):f.intl.string(f.t.XGRUho));let p=[...g,...s.map(e=>{if(e.type!==o.K.EXPIRED_CREDENTIAL||!c)return e.message;let r=u.Z.getAccount(e.connected_account_id,e.connected_account_type),s=(0,h.C9)(e),i=(0,h._j)(e);return f.intl.format(s,{account_name:null==r?void 0:r.name,onClick:()=>{(0,h.fY)({quest:t,platformType:i},{content:n,ctaContent:m.jZ.DEFIBRILLATOR_RECONNECT_CONSOLE,impressionId:x})}})}),a];return(0,r.jsx)(l.Text,{variant:"text-sm/medium",color:"text-muted",children:p.reduce((e,t)=>[...e,t," "],[])})},O=function(e){let t=e.quest.config.messages.gameTitle,n=(0,a.e7)([c.Z],()=>c.Z.useReducedMotion),s=(0,j.k3)(e.quest.id,e.location),o=(0,g.n)(),u=(0,m.O5)(),d=(0,x.aM)(),h=(0,j.g2)({useReducedMotion:n,className:b.refreshIcon}),{errorHints:O,startingConsoleQuest:T,startConsoleQuest:N}=(0,p.GI)({questId:e.quest.id,beforeRequest:()=>{h.startAnimation(),u({questId:e.quest.id,questContent:e.location,questContentCTA:m.jZ.DEFIBRILLATOR})},afterRequest:h.stopAnimation});return(0,r.jsxs)("div",{className:i()(b.container,{[b.inFlight]:T}),children:[(0,r.jsxs)("div",{className:b.info,children:[(0,r.jsxs)("div",{className:b.header,children:[(0,r.jsx)(l.P4T,{className:i()(b.headerIcon,C(O)),size:"custom",color:"currentColor",width:16,height:16}),(0,r.jsx)(l.Text,{variant:"text-sm/semibold",children:v(O,t)})]}),y({quest:e.quest,errors:O,gameTitle:t,location:e.location,consoleHelpArticle:s,expiredCredentialsInteractable:o,impressionId:d})]}),(0,r.jsx)("div",{className:b.cta,children:(0,r.jsx)(l.zxk,{color:l.Ttl.PRIMARY,onClick:N,disabled:T,children:(0,r.jsxs)("div",{className:b.ctaInner,children:[h.render(),f.intl.string(f.t.nPThNT)]})})})]})}},87894:function(e,t,n){n.d(t,{DJ:()=>a,U0:()=>u,W_:()=>i,Z$:()=>c,Z0:()=>m,iM:()=>o,j2:()=>d,jc:()=>l,uq:()=>s});var r=n(497505);function s(e){return[r.jn.GIFT_INVENTORY_FOR_YOU,r.jn.GIFT_INVENTORY_OTHER].includes(e)}function i(e){return e===r.jn.GIFT_INVENTORY_FOR_YOU||!s(e)}function o(e){let{quest:t,location:n}=e,{userStatus:r}=t;return(null==r?void 0:r.enrolledAt)!=null&&null==r.completedAt||i(n)}let a=100,l=20,c=32,u=1e3,d=460,m=280},37303:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(255367),s=n(73800),i=n(524979);n(442837);var o=n(113434);n(569984);var a=n(497505),l=n(602667),c=n(87894),u=n(372113),d=n(206044),m=n(266843),x=n(463910);function g(e){let{quest:t,location:n,initiallyExpanded:g,contentPosition:p}=e,[h,j]=s.useState(!1),f=s.useCallback(()=>j(!0),[]),b=s.useCallback(()=>j(!1),[]),C=(0,o.tP)(t),{containerRef:v,size:y,height:O}=(0,m.h)(),{expansionSpring:T,isAnimating:N,isExpanded:E,toggleExpanded:q}=(0,m.O)({initiallyExpanded:g||(0,c.iM)({location:n,quest:t})}),S=null!=O?O:c.U0;return(0,r.jsx)(l.A,{questOrQuests:t,questContent:n,questContentPosition:p,trackGuildAndChannelMetadata:n===a.jn.QUESTS_EMBED,children:e=>(0,r.jsx)(i.animated.div,{style:{maxHeight:n===a.jn.QUESTS_EMBED?void 0:T.to({range:[0,1],output:[c.DJ,S]})},className:x.questsCard,onFocus:f,onMouseEnter:f,onBlur:b,onMouseLeave:b,children:(0,r.jsxs)("div",{ref:t=>{e.current=t,v.current=t},children:[(0,r.jsx)(d.Z,{isQuestExpired:C,location:n,quest:t,size:y,expansionSpring:T,isAnimating:N,isExpanded:E,contentPosition:p,toggleExpanded:q}),(0,r.jsx)(u.Z,{quest:t,isQuestExpired:C,location:n,size:y,isFocused:h,isExpanded:E,isAnimating:N,contentPosition:p})]})})})}},372113:function(e,t,n){n.d(t,{Z:()=>L}),n(953529);var r=n(255367),s=n(73800),i=n(120356),o=n.n(i),a=n(442837),l=n(481060),c=n(607070),u=n(706454),d=n(63063),m=n(930153),x=n(617136),g=n(113434),p=n(569984),h=n(497505),j=n(918701),f=n(467628),b=n(75137),C=n(373370),v=n(566078),y=n(65443),O=n(340100),T=n(644646),N=n(667105),E=n(341907),q=n(128535),S=n(87894),P=n(2660),w=n(46140),R=n(981631),_=n(388032),D=n(717735);function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function M(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let A=(e,t,n)=>(0,S.uq)(e)&&!n&&"lg"===t?"text-lg/medium":"lg"===t?"text-md/medium":"sm"===t?"text-sm/medium":"text-xs/medium";function k(e){let{containerSize:t,onClick:n,children:s,tabIndex:i}=e;return"xs"===t?(0,r.jsx)(l.P3F,{tabIndex:i,className:D.learnMoreLink,tag:"span",onClick:n,children:(0,r.jsx)(l.Text,{variant:"text-sm/medium",color:"text-link",children:s})}):(0,r.jsx)(l.zxk,{tabIndex:i,wrapperClassName:D.ctaButtonWrapper,color:l.Ttl.PRIMARY,onClick:n,children:s})}function Z(e){let{quest:t,progressState:n,isCollectibleQuest:s,location:i,questContentPosition:o,inGiftInventory:u}=e,d=n>=g.OH.COMPLETED,m=(0,a.e7)([c.Z],()=>c.Z.useReducedMotion),x=(0,a.e7)([p.Z],()=>p.Z.isEnrolling(t.id)),h=(0,j.q8)(t),f=(0,j.Vl)(t),b=(0,N.Ks)({progressState:n,quest:t,location:i,isCollectibleQuest:s,questContentPosition:o,inGiftInventory:u,isVideoQuest:h,inGameQuest:f}),C=d&&!m?l.gtL:l.zxk;return(0,r.jsx)(l.ua7,{text:b.tooltipText,tooltipContentClassName:D.ctaTooltipText,children:e=>{var t;return(0,r.jsx)(C,M(I({},e),{wrapperClassName:D.ctaButtonWrapper,color:l.Ttl.BRAND,disabled:null==b.onClick,submitting:x,onClick:null!=(t=b.onClick)?t:()=>{},children:(0,r.jsx)("div",{className:D.ctaButtonInner,children:b.text})}))}},b.tooltipText)}let L=e=>{var t;let{quest:n,location:i,size:c,isFocused:N,isQuestExpired:L,isExpanded:B,isAnimating:U,contentPosition:Q}=e,W=(0,g._Q)(n),z=(0,g.B6)(null==(t=n.userStatus)?void 0:t.completedAt,{year:"numeric",month:"long",day:"numeric"}),G=W>=g.OH.ACCEPTED,F=W>=g.OH.COMPLETED,H=W>=g.OH.CLAIMED,X=(0,j.Xv)(n.config),Y=(0,S.uq)(i),V=i===h.jn.QUESTS_EMBED,K=B||U,J=G&&!H&&Y,$=(0,g.t5)(n,w.dr.QUESTS_CARD,i),{xboxAndPlaystationAccounts:ee}=(0,g.z6)(),et=(0,x.O5)(),en=(0,f.j)({location:w.dr.QUESTS_BAR_MOBILE}),er=s.useMemo(()=>v.r.build(n.config),[n.config]),es=(0,g.Rf)(n),ei=(0,C.DD)({quest:n,taskDetails:es,location:w.dr.QUESTS_CARD,questContent:h.jn.QUESTS_EMBED}),eo=(0,a.e7)([p.Z],()=>null!=p.Z.questEnrollmentBlockedUntil,[]),ea=(0,a.e7)([u.default],()=>u.default.locale),el=(0,g.z)(n),ec=Y&&X,eu=L&&!F,ed=ee.length>0&&Y&&(0,j.$J)(n)&&G&&!F&&!el,em=(0,r.jsx)(T.Z,{autoplay:N,className:o()(D.gridImg,{[D.questRewardGiftInventory]:Y&&"lg"===c,[D.questRewardEmbed]:V&&"lg"===c,[D.questRewardEmbedSm]:"sm"===c,[D.questRewardEmbedXs]:"xs"===c}),learnMoreStyle:Y?null:"text",location:w.dr.QUESTS_CARD,quest:n,questContent:i,questContentPosition:Q});return(0,r.jsxs)("div",{className:D.root,children:[(0,r.jsxs)("div",{className:o()(D.outerContainer,{[D.outerContainerSm]:"sm"===c,[D.outerContainerXs]:"xs"===c,[D.outerContainerNoProgress]:!J}),style:{visibility:K?"inherit":"hidden"},"aria-hidden":!K,children:[(0,r.jsx)(l.ua7,{text:eu?_.intl.string(_.t["04MTGR"]):null,tooltipContentClassName:D.rewardTileExpirationTooltip,shouldShow:eu,children:e=>(0,r.jsxs)("div",M(I({className:D.rewardTileWrapper},e),{children:[L&&(0,r.jsx)("div",{className:D.rewardTileExpired,children:(0,r.jsx)(l.P4T,{color:l.TVs.colors.WHITE})}),ec?(0,r.jsx)(P.Z,{questConfig:n.config,fallback:em,isFocused:N}):em]}))}),(0,r.jsxs)("div",{className:o()(D.gridText,D.taskDetails),children:[(0,r.jsx)(l.Text,{variant:A(i,c,G),className:D.taskInstructions,children:L?_.intl.formatToPlainString(_.t["ge+AJi"],{questName:n.config.messages.questName}):$}),en?(0,r.jsx)(y.Z,{textColor:"text-muted",quest:n,withRewardName:!0}):(0,r.jsx)(l.Text,{variant:"lg"===c?"text-sm/medium":"text-xs/medium",color:"text-muted",children:function(e){var t,n,r,s,i;let{quest:o,locale:a,isQuestExpired:l,sharedQuestFields:c,withCopySimplification:u,collectibleQuestRewardDescription:x,formattedCompletionDate:g}=e,p=(null==(t=o.userStatus)?void 0:t.completedAt)!=null,h=p&&(null==(n=o.userStatus)?void 0:n.claimedAt)!=null,f=(0,j.oo)({quest:o}),C=c.defaultReward.messages.nameWithArticle,v=c.defaultReward.messages.nameWithArticle,y=u?v:C,O=(0,j.Kr)(o.config),T=(0,j.b7)(o),N=(0,b.U)();if(h){let e=f?(0,j.o9)({quest:o,idx:null==(r=o.userStatus)?void 0:r.claimedTier}):null,t=null!=(s=null==e?void 0:e.messages.nameWithArticle)?s:null;return null!=t?_.intl.formatToPlainString(_.t.RrxtPT,{reward:t,date:g}):_.intl.formatToPlainString(_.t.zNoqRU,{reward:y,date:g})}if(p)return f?_.intl.formatToPlainString(_.t.l1jCMz,{date:g}):_.intl.formatToPlainString(_.t.zNoqRU,{reward:y,date:g});let E=f?(0,j.o9)({quest:o,idx:0}):null;return l?_.intl.formatToPlainString(_.t.DT3aub,{reward:null!=(i=null==E?void 0:E.messages.nameWithArticle)?i:y}):null!=E&&null!=E.approximateCount?_.intl.format(_.t["4bMK19"],{maxReward:E.messages.nameWithArticle,maxRewardCount:(0,m.Bs)(E.approximateCount,a),helpCenterLink:d.Z.getArticleURL(R.BhN.QUESTS_LEARN_MORE)}):N?x:null!=O?_.intl.formatToPlainString(_.t.Pu5eyM,{reward:y,duration:O}):null!=T?T.description:_.intl.formatToPlainString(_.t.ttFsLi,{reward:y})}({quest:n,locale:ea,isQuestExpired:L,sharedQuestFields:er,withCopySimplification:en,collectibleQuestRewardDescription:ei,formattedCompletionDate:z})})]}),eo?(0,r.jsxs)("div",{className:o()(D.ctaButtonContainer,D.gridCtaButtons),children:[(0,r.jsx)(l.zxk,{color:l.Ttl.PRIMARY,disabled:!0,className:D.questEnrollmentBlockedButton,children:_.intl.string(_.t.V293qq)}),(0,r.jsx)(l.zxk,{color:l.Ttl.BRAND,onClick:()=>(0,E.openQuestMinorEnrollmentBlockModal)(n,i),className:D.questEnrollmentBlockedButton,children:_.intl.string(_.t.vY9GgI)})]}):(0,r.jsxs)("div",{className:o()(D.ctaButtonContainer,D.gridCtaButtons),children:[!Y&&(0,r.jsx)(k,{containerSize:c,onClick:()=>{(0,E.navigateToQuestHome)({fromContent:i,questId:n.id}),et({questId:n.id,questContent:i,questContentPosition:Q,questContentCTA:x.jZ.LEARN_MORE})},children:_.intl.string(_.t.LLLLPD)}),L&&!F?null:(0,r.jsx)(Z,{quest:n,progressState:W,isCollectibleQuest:X,location:i,inGiftInventory:Y})]}),J&&(0,r.jsx)(O.Z,{className:D.gridProgressBar,color:F?l.TVs.colors.TEXT_POSITIVE:l.TVs.colors.BG_BRAND,quest:n,isInventory:Y})]}),ed&&(0,r.jsxs)("div",{className:D.microphoneContainer,children:[(0,r.jsx)("div",{className:D.separator}),(0,r.jsx)(q.Z,{quest:n,location:i})]})]})}},206044:function(e,t,n){n.d(t,{Z:()=>I}),n(388685);var r=n(255367),s=n(73800),i=n(120356),o=n.n(i),a=n(524979),l=n(722770),c=n(846519),u=n(481060),d=n(393238),m=n(393903),x=n(448986),g=n(572004),p=n(617136),h=n(113434),j=n(497505),f=n(918701),b=n(566078),C=n(685613),v=n(611855),y=n(644646),O=n(968435),T=n(670638),N=n(87894),E=n(46140),q=n(231338),S=n(388032),P=n(491821);function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function R(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let _=(0,a.animated)(u.CJ0),D=e=>{var{quest:t,location:n,questContentPosition:i}=e,o=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,["quest","location","questContentPosition"]);let[a,l]=s.useState(!1),d=s.useRef(new c.V7),m=(0,p.O5)();s.useEffect(()=>{let e=d.current;return function(){e.stop()}},[]);let x=()=>{m({questId:t.id,questContent:n,questContentCTA:p.jZ.COPY_QUEST_URL,questContentPosition:i}),(0,g.JG)((0,f.Rs)(t.id),()=>{l(!0),d.current.start(1e3,()=>l(!1))})};return(0,r.jsx)(u.ua7,{forceOpen:a,shouldShow:a,color:u.ua7.Colors.GREEN,text:S.intl.string(S.t.MSaeTU),children:()=>(0,r.jsx)(u.zxk,R(w({},o),{className:P.shareButton,color:u.zxk.Colors.PRIMARY,size:u.zxk.Sizes.SMALL,onClick:x,children:S.intl.string(S.t["5Z6rz8"])}))})},I=e=>{var t;let{isQuestExpired:n,quest:i,location:c,size:g,expansionSpring:f,isAnimating:I,isExpanded:M,contentPosition:A,toggleExpanded:k}=e,{ref:Z,height:L}=(0,d.ZP)(),[B,U]=s.useState(null),[Q,W]=s.useState(null),z=(0,x.Z)(e=>{let t=e.target;U(t.offsetWidth),W(t.scrollWidth)}),G=(0,m.y)(z),F=(0,N.uq)(c),H=c===j.jn.QUESTS_EMBED,X=(0,h.t5)(i,E.dr.QUESTS_CARD,c),Y=(null==(t=i.userStatus)?void 0:t.completedAt)!=null,V=(0,p.O5)(),K=(0,h.B6)(i.config.expiresAt,{year:"numeric",month:"long",day:"numeric"}),J=(0,h.B6)(b.r.build(i.config).rewardsExpireAt,{year:"numeric",month:"long",day:"numeric"}),$=s.useMemo(()=>null!=i.config.cosponsorMetadata,[i]),ee=e=>{e.stopPropagation(),e.currentTarget.blur(),k(),V({questId:i.id,questContent:c,questContentCTA:M?p.jZ.COLLAPSE:p.jZ.EXPAND,questContentPosition:A})},et=(0,r.jsx)(C.ZP,{className:P.partnerBranding,logotypeClassName:$?P.partnerBrandingLogotypes:void 0,gameTileSize:C.fF.MEDIUM,quest:i,separatorSpacing:C.US.MEDIUM,theme:q.BR.DARK,withGameTile:!H||null==i.config.cosponsorMetadata});return(0,r.jsxs)("div",{className:o()(P.outerContainer,{[P.outerContainerGiftInventory]:F,[P.outerContainerEmbed]:H,[P.outerContainerXs]:"xs"===g}),"aria-label":S.intl.string(S.t.dcl9MT),style:{height:F?L:void 0},children:[(0,r.jsx)(O.Z,{quest:i,dimensions:{width:660,height:185},className:P.questSplash}),(0,r.jsxs)("div",{className:P.header,"aria-expanded":M,children:[(0,r.jsxs)(a.animated.div,{className:o()(P.headerContent,{[P.headerContentEmbed]:H}),style:{y:F?f.to({range:[0,1],output:[N.DJ,0]}):void 0},children:[F&&(0,r.jsx)(a.animated.div,{className:P.headerCollapsedContent,style:{opacity:f.to({range:[0,1],output:[1,0]}),visibility:I||!M?"inherit":"hidden"},"aria-hidden":!I&&M,children:(0,r.jsxs)(u.kL8,{"aria-label":S.intl.string(S.t.dcl9MT),onClick:ee,className:P.headerCollapsedClickableContainer,children:[(0,r.jsx)("div",{className:P.headerCollapsedContentRewardWrapper,children:(0,r.jsx)(y.Z,{quest:i,questContent:c,className:P.headerCollapsedRewardTile,location:E.dr.QUESTS_CARD})}),(0,r.jsxs)("div",{className:P.headerCollapsedContentCopyWrapper,children:[(0,r.jsxs)("div",{className:P.headerCollapsedContentCopyLogos,children:[et,(0,r.jsx)(v.Z,{color:"always-white"})]}),(0,r.jsx)(u.Text,{variant:"text-xs/medium",children:X})]})]})}),(0,r.jsxs)(a.animated.div,{ref:e=>{Z.current=e},className:o()(P.headerExpandedContent,{[P.outerContainerGiftInventory]:F,[P.outerContainerEmbed]:H}),style:{opacity:f.to({range:[0,1],output:[0,1]}),visibility:I||M?"inherit":"hidden"},"aria-hidden":!I&&!M,children:[(0,r.jsxs)("div",{className:P.headerExpandedWrapper,children:[(0,r.jsxs)("div",{className:P.iconLogotypeContainer,children:[et,H?null:(0,r.jsx)(v.Z,{color:"always-white"})]}),(0,r.jsxs)("div",{className:P.questInfo,children:[(0,r.jsx)(u.ua7,{text:i.config.messages.questName,shouldShow:null!=B&&null!=Q&&B<Q,children:e=>(0,r.jsx)(u.X6q,R(w({ref:G,variant:"lg"===g?"heading-xxl/bold":"sm"===g?"heading-xl/bold":"heading-lg/bold",className:P.heading,color:"always-white"},e),{children:S.intl.format(S.t.EAYZAg,{questName:i.config.messages.questName})}))}),(0,r.jsx)(u.Text,{variant:"text-xs/normal",color:"always-white",children:Y?S.intl.formatToPlainString(S.t.APddvL,{expirationDate:J}):n?S.intl.formatToPlainString(S.t.v7xMw8,{expirationDate:K}):S.intl.formatToPlainString(S.t["pX+fmp"],{expirationDate:K})})]})]}),!n&&F&&(0,r.jsx)(D,{quest:i,location:c,questContentPosition:A})]})]}),(0,r.jsxs)(a.animated.div,{className:P.iconsContainer,style:{top:F?f.to({range:[0,1],output:[N.DJ/2-N.Z$/2,N.jc]}):N.jc},children:[(0,r.jsx)(T.r,{questContent:c,quest:i,questContentPosition:A,shouldShowDisclosure:!0,hideLearnMore:F,showShareLink:!n&&H,children:e=>(0,r.jsx)(a.animated.div,{style:{opacity:f,visibility:I||M?"inherit":"hidden"},"aria-hidden":!I&&!M,children:(0,r.jsx)(u.P3F,R(w({},e),{className:P.iconWrapper,"aria-label":S.intl.string(S.t.DEoVWV),children:(0,r.jsx)(u.xhG,{size:"md",color:l.Z.WHITE})}))})}),!(0,N.W_)(c)&&(0,r.jsx)(u.P3F,{onClick:ee,className:P.iconWrapper,"aria-label":M?S.intl.string(S.t.iTcumZ):S.intl.string(S.t.dcl9MT),children:(0,r.jsx)(_,{style:{rotate:f.to({range:[0,1],output:[0,180]})},color:l.Z.WHITE})})]})]})]})}},266843:function(e,t,n){n.d(t,{O:()=>c,h:()=>l}),n(388685);var r=n(73800),s=n(481060),i=n(393903),o=n(448986),a=n(87894);function l(){let[e,t]=r.useState("lg"),[n,s]=r.useState(void 0),l=(0,o.Z)(e=>{let n=e.target,r=e.contentRect.width;return(s(n.scrollHeight),null==r||r>a.j2)?t("lg"):r>a.Z0?t("sm"):t("xs")});return{containerRef:(0,i.y)(l),size:e,height:n}}function c(e){let{initiallyExpanded:t}=e,[n,i]=r.useState(t),[o,a]=r.useState(!1),l=r.useCallback(()=>{i(e=>!e),a(!0)},[]),{expansionSpring:c}=(0,s.q_F)({expansionSpring:+!!n,config:{tension:450,friction:45},onRest:()=>a(!1)});return{expansionSpring:c,isAnimating:o,isExpanded:n,toggleExpanded:l}}},2660:function(e,t,n){n.d(t,{Z:()=>m});var r=n(255367);n(73800);var s=n(442837),i=n(481060),o=n(204418),a=n(594174),l=n(113434),c=n(182294),u=n(723781);let d=e=>{let{questConfig:t,fallback:n,isFocused:d}=e,m=(0,s.e7)([a.default],()=>a.default.getCurrentUser()),{avatarDecoration:x,isFetching:g}=(0,l.DU)(t);return g?(0,r.jsx)("div",{className:u.questsCollectibleReward,children:(0,r.jsx)(i.$jN,{})}):null==m||null==x?n:(0,r.jsx)("div",{className:u.questsCollectibleReward,children:(0,r.jsx)(o.Z,{avatarSize:c.EF.SIZE_56,user:m,guildId:null,avatarDecorationOverride:x,animateOnHover:!d})})},m=e=>(0,r.jsx)(d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))},683650:function(e,t,n){n.d(t,{X:()=>j,o:()=>f});var r,s=n(255367);n(73800);var i=n(120356),o=n.n(i),a=n(481060),l=n(617136),c=n(497505),u=n(266843),d=n(341907),m=n(46140),x=n(388032),g=n(444879),p=n(87181);function h(){return(0,s.jsx)("div",{className:g.buttonContainer,children:(0,s.jsx)(a.zxk,{className:g.button,color:a.Ttl.BRAND,onClick:()=>{(0,d.navigateToQuestHome)({fromContent:c.jn.QUESTS_EMBED})},children:x.intl.string(x.t.GURBQk)})})}var j=((r={}).NOT_FOUND="not_found",r.MOBILE_ONLY="mobile_only",r);function f(e){let{questId:t,reason:n="not_found"}=e,{containerRef:r,size:i}=(0,u.h)();return(0,l.Zk)(m.V_.UNKNOWN_QUEST,t),(0,s.jsxs)("div",{ref:e=>{r.current=e},className:o()(g.container,{[g.wide]:"lg"===i,[g.tall]:"lg"!==i}),children:[(0,s.jsxs)("div",{className:g.contentContainer,children:[(0,s.jsx)(a.X6q,{variant:"lg"===i?"heading-xl/bold":"heading-lg/bold",color:"header-primary",children:x.intl.string(x.t.vnP31d)}),(0,s.jsx)(a.Text,{variant:"lg"===i?"text-sm/medium":"text-xs/medium",color:"text-normal",className:g.__invalid_mobileWebCopy,children:x.intl.string("mobile_only"===n?x.t.Pag1gY:x.t.CTn0yc)}),(0,s.jsx)(h,{})]}),(0,s.jsx)("div",{className:g.imgContainer,children:(0,s.jsx)("img",{src:p,alt:"",className:g.missingQuestImage})})]})}},670638:function(e,t,n){n.d(t,{r:()=>q});var r=n(255367),s=n(73800),i=n(442837),o=n(481060),a=n(239091),l=n(479531),c=n(390322),u=n(572004),d=n(63063),m=n(617136),x=n(915750),g=n(272008),p=n(113434),h=n(569984),j=n(497505),f=n(918701),b=n(341907),C=n(46140),v=n(981631),y=n(231338),O=n(388032);function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function N(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function E(e){var t;let n=(0,i.e7)([h.Z],()=>h.Z.questDeliveryOverride,[]),c=(0,f.GN)(e.questContent),T=[j.jn.QUEST_BAR_V2,j.jn.QUEST_BAR].includes(e.questContent),N=(0,m.O5)(),E=(0,x.aM)(),q=(0,p.Yj)(e.quest),{handleComplete:S,handleProgress:P,handleResetDismissibilityClick:w,handleResetStatusClick:R,handleOverrideDeliveryClick:_}=(0,p.kJ)(e.quest.id),D=s.useCallback(()=>{if(e.quest.id===C.V6)return void window.open(d.Z.getArticleURL(v.BhN.VIRTUAL_CURRENCY_LEARN_MORE));(0,f.nc)(e.quest,{content:e.questContent,ctaContent:m.jZ.CONTEXT_MENU_OPEN_GAME_LINK,impressionId:E})},[E,e.quest,e.questContent]),I=s.useCallback(()=>{(0,f.f2)(e.quest.id,{content:e.questContent,position:e.questContentPosition,ctaContent:m.jZ.CONTEXT_MENU_COPY_LINK,impressionId:E}),(0,o.showToast)((0,o.createToast)(O.intl.string(O.t["+5kSoa"]),o.ToastType.SUCCESS))},[E,e.quest.id,e.questContent,e.questContentPosition]),M=e=>(0,o.showToast)((0,o.createToast)(new l.Z(e,e.status).message,o.ToastType.FAILURE)),A=()=>(0,g.is)(e.quest.id).catch(M),k=s.useMemo(()=>(0,r.jsx)(o.S89,{id:"delivery",label:"Show in Quest Bar",checked:(null==n?void 0:n.id)===e.quest.id,action:_}),[_,e.quest.id,null==n?void 0:n.id]),Z=e.shouldShowDisclosure&&e.quest.id!==C.V6;return(0,r.jsxs)(o.v2r,{variant:"fixed",onSelect:()=>{null!=e.onSelect?e.onSelect():(0,a.Zy)()},navId:"quests-entry","aria-label":O.intl.string(O.t.ogxXGh),onClose:null!=(t=null==e?void 0:e.onClose)?t:y.dG,children:[(0,r.jsxs)(o.kSQ,{children:[(0,r.jsx)(o.sNh,{id:"play-game",label:q,action:D,icon:o.zFc}),!0===e.showShareLink&&(0,r.jsx)(o.sNh,{id:"share-link",label:O.intl.string(O.t.RDE0SU),action:I,icon:o.TIy}),!1]},"major-actions"),(0,r.jsxs)(o.kSQ,{children:[!e.hideLearnMore&&(0,r.jsx)(o.sNh,{id:"learn-more",label:O.intl.string(O.t.Ws2Bl5),action:()=>{N({questId:e.quest.id,questContent:e.questContent,questContentPosition:e.questContentPosition,questContentCTA:m.jZ.CONTEXT_MENU_LEARN_MORE}),(0,b.navigateToQuestHome)({fromContent:e.questContent,questId:e.quest.id})},icon:o.qDn}),Z&&(0,r.jsx)(o.sNh,{id:"display-disclosure",label:O.intl.string(O.t.GcsZKC),action:()=>{(0,b.openDisclosureModal)(e.quest,{content:e.questContent,position:e.questContentPosition,ctaContent:m.jZ.CONTEXT_MENU_OPEN_DISCLOSURE,impressionId:E})}}),c&&(0,r.jsx)(o.sNh,{id:"hide-entrypoint",label:O.intl.string(O.t.NN79Ex),action:()=>{N({questId:e.quest.id,questContent:e.questContent,questContentPosition:e.questContentPosition,questContentCTA:m.jZ.CONTEXT_MENU_HIDE_CONTENT}),(0,f.GN)(e.questContent)&&((0,g.gl)(e.quest.id,e.questContent),T&&(0,b.maybeShowSurveyForQuest)(e.quest))},subtext:O.intl.string(O.t["1u3YPD"])})]},"minor-actions"),e.quest.preview&&(0,r.jsxs)(o.kSQ,{label:"Preview Controls",children:[k,(0,r.jsx)(o.sNh,{id:"dismiss",label:"Reset Dismissibility",action:w}),(0,r.jsx)(o.sNh,{id:"enrollment",label:"Reset Quest",action:()=>{R(),A()}}),(0,r.jsx)(o.sNh,{id:"progress",label:"Set Random Quest Progress",action:()=>{P(.9*Math.random()+.03)}}),(0,r.jsx)(o.sNh,{id:"complete",label:"Complete Quest",action:S}),(0,f.$J)(e.quest)&&(0,r.jsxs)(o.sNh,{id:"console",label:"Console Heartbeat",children:[(0,r.jsx)(o.sNh,{disabled:!0,id:"status",label:"Status: ".concat((0,f.Bz)(e.quest)?"alive":"dead")}),(0,r.jsx)(o.sNh,{id:"start",label:"Start heartbeat (cheatmode)",action:()=>(0,g.CS)(e.quest.id,!0).catch(M)}),(0,r.jsx)(o.sNh,{id:"stop",label:"Stop heartbeat",action:A})]}),(0,r.jsx)(o.sNh,{id:"copy-quest-id",label:"Copy Quest ID",action:()=>{(0,u.JG)(e.quest.id)}})]},"preview-controls")]})}function q(e){let{children:t,onOpen:n,onClose:i,preventIdle:a,quest:l,questContent:u,questContentPosition:d}=e,x=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,["children","onOpen","onClose","preventIdle","quest","questContent","questContentPosition"]),g=(0,m.O5)(),p=s.useRef(null),h=s.useCallback(()=>{g({questId:l.id,questContent:u,questContentCTA:m.jZ.OPEN_CONTEXT_MENU,questContentPosition:d}),null!=n&&n()},[n,l.id,u,d,g]);return(0,r.jsx)(o.yRy,{targetElementRef:p,onRequestOpen:h,onRequestClose:i,renderPopout:e=>{let{closePopout:t}=e;return a?(0,r.jsx)(c.Z,{children:(0,r.jsx)(E,N(T({},x),{quest:l,questContent:u,questContentPosition:d,onClose:t}))}):(0,r.jsx)(E,N(T({},x),{quest:l,questContent:u,questContentPosition:d,onClose:t}))},animation:o.yRy.Animation.NONE,children:e=>(0,r.jsx)("div",{ref:p,children:t(e)})})}},26650:function(e,t,n){n.d(t,{Z:()=>l});var r=n(255367),s=n(73800),i=n(481060),o=n(377171),a=n(332173);let l=s.forwardRef(function(e,t){let{isInventory:n,style:s,children:l}=e;return(0,r.jsxs)("div",{ref:t,className:a.desktopTooltip,style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({marginTop:8*!!n},s),children:[(0,r.jsx)(i.d3s,{size:"custom",className:a.infoIcon,height:n?16:12,width:n?16:12,color:n?o.Z.TEXT_MUTED:o.Z.WHITE}),(0,r.jsx)(i.Text,{color:n?"text-muted":"always-white",variant:n?"text-xs/normal":"text-xxs/normal",children:l})]})})},390322:function(e,t,n){n.d(t,{Z:()=>i});var r=n(73800),s=n(618158);function i(e){let{children:t}=e,{preventIdle:n,allowIdle:i}=(0,s.Y)("popup");return r.useEffect(()=>(n(),()=>i()),[i,n]),t}}}]);
//# sourceMappingURL=a3394d329db74480.js.map