"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["77564"],{32750:function(n,e,t){t.d(e,{Z:()=>d});var i=t(255367);t(73800);var r=t(481060),a=t(216572),l=t(346479),o=t(665906),s=t(388032);function d(n){var e;let t=(0,a.HL)(n),d=(0,o.C7)(n),u=(0,o.tc)(n);if((n.isArchivedThread()?u:d)&&!t)return(null==(e=n.threadMetadata)?void 0:e.archived)?(0,i.jsx)(r.sNh,{id:"unarchive-thread",label:n.isForumPost()?s.intl.string(s.t.cnRubW):s.intl.string(s.t.S9E4Gx),action:()=>l.Z.unarchiveThread(n,!1)}):(0,i.jsx)(r.sNh,{id:"archive-thread",label:n.isForumPost()?s.intl.string(s.t.BTs4KS):s.intl.string(s.t.wiIevb),action:()=>l.Z.archiveThread(n,!1)})}},109764:function(n,e,t){t.d(e,{Z:()=>f});var i=t(255367);t(73800);var r=t(399606),a=t(481060),l=t(228392),o=t(592125),s=t(934415),d=t(572004),u=t(981631),c=t(388032);function f(n,e,t){let f=(0,r.e7)([o.Z],()=>null!=n?o.Z.getChannel(n.parent_id):null);return null==n?null:(0,i.jsx)(a.sNh,{id:"channel-copy-link",label:c.intl.string(c.t.WqhZsr),action:()=>{n.isForumPost()&&(0,l.B)({postId:n.id,location:{section:u.jXE.CONTEXT_MENU}}),(0,d.JG)((0,s.EO)(n,f,e,t))}})}},323597:function(n,e,t){t.d(e,{Z:()=>Z});var i=t(255367);t(73800);var r=t(442837),a=t(481060),l=t(787014),o=t(904245),s=t(787263),d=t(660189),u=t(216572),c=t(144140),f=t(314897),h=t(496675),v=t(709054),p=t(981631),g=t(388032);function Z(n){let e=n.isForumPost(),t=(0,r.e7)([f.default],()=>n.isOwner(f.default.getId()),[n]),Z=(0,u.HL)(n),{canManageChannel:C,canAccessChannel:b}=(0,r.cj)([h.Z],()=>({canAccessChannel:h.Z.can(n.accessPermissions,n),canManageChannel:h.Z.can(n.isThread()?p.Plq.MANAGE_THREADS:p.Plq.MANAGE_CHANNELS,n)}),[n]),m=(0,r.e7)([c.Z],()=>{var e;return null!=(e=c.Z.getCount(n.id))?e:0},[n.id]),{firstMessage:E}=(0,r.e7)([d.Z],()=>d.Z.getMessage(n.id),[n.id]),y=e&&(C||t&&m<1),_=e&&t&&!C&&m>0&&null!=E;return b&&!Z&&(C||y||_)?(0,i.jsx)(a.sNh,{id:"delete-channel",label:n.type===p.d4z.GUILD_CATEGORY?g.intl.string(g.t.ifbXnJ):n.isForumPost()?y?g.intl.string(g.t.nEOg1N):g.intl.string(g.t.xwMqDw):n.isThread()?g.intl.string(g.t.H7vTe3):g.intl.string(g.t["8D8Rsb"]),color:"danger",action:()=>{(0,s.w)(n,function(){_?o.Z.deleteMessage(n.id,v.default.castChannelIdAsMessageId(n.id)):l.ZP.deleteChannel(n.id)})}}):null}},251746:function(n,e,t){t.d(e,{Z:()=>v});var i=t(255367),r=t(73800),a=t(392711),l=t.n(a),o=t(442837),s=t(481060),d=t(66999),u=t(665906),c=t(979651),f=t(557135),h=t(388032);function v(n){let e=(0,u.Y)(n),t=(0,o.e7)([c.Z],()=>c.Z.isInChannel(n.id)),a=(0,o.e7)([c.Z],()=>!l().isEmpty(c.Z.getVoiceStatesForChannel(n.id))),{needSubscriptionToAccess:v}=(0,d.Z)(n.id),p=r.useCallback(()=>{f.Z.handleVoiceConnect({channel:n,connected:t,needSubscriptionToAccess:v,locked:!1})},[n,t,v]);return t||!e?null:(0,i.jsx)(s.sNh,{id:"join-thread-voice",label:a?h.intl.string(h.t["0D/6R0"]):h.intl.string(h.t.My50nZ),action:p})}},193987:function(n,e,t){t.d(e,{Z:()=>s});var i=t(255367);t(73800);var r=t(481060),a=t(346479),l=t(665906),o=t(388032);function s(n){let e=(0,l.Xb)(n),t=n.isLockedThread();if(!(!e||n.isModeratorReportChannel()))return t?(0,i.jsx)(r.sNh,{id:"unlock-thread",label:n.isForumPost()?o.intl.string(o.t["/OKSxs"]):o.intl.string(o.t["jeyb/f"]),action:()=>a.Z.unlockThread(n)}):(0,i.jsx)(r.sNh,{id:"lock-thread",label:n.isForumPost()?o.intl.string(o.t["Ur/0NT"]):o.intl.string(o.t.HoCqm5),action:()=>a.Z.lockThread(n)})}},933793:function(n,e,t){t.d(e,{Z:()=>h});var i=t(255367);t(73800);var r=t(442837),a=t(481060),l=t(240872),o=t(456269),s=t(346479),d=t(665906),u=t(592125),c=t(176505),f=t(388032);function h(n){let e=(0,r.e7)([u.Z],()=>u.Z.getChannel(n.parent_id)),t=(0,d.Xb)(n),h=(0,o.kF)(n);return(null==e?void 0:e.isForumLikeChannel())&&t?n.hasFlag(c.zZ.PINNED)?(0,i.jsx)(a.sNh,{id:"unpin-thread",label:f.intl.string(f.t.trD8am),action:()=>s.Z.unpin(n)}):(0,i.jsx)(a.sNh,{id:"pin-thread",label:f.intl.string(f.t.EnaWho),action:function(){null!=h?l.Z.show({title:f.intl.string(f.t.IMbjxs),body:f.intl.string(f.t["mi5+Vl"]),onConfirm:async()=>{await s.Z.unpin(h),s.Z.pin(n)}}):s.Z.pin(n)}}):null}},13736:function(n,e,t){t.d(e,{Z:()=>s});var i=t(255367);t(73800);var r=t(481060),a=t(787014),l=t(665906),o=t(388032);function s(n){let e=(0,l.C7)(n),t=(0,l.$R)(n),s=(0,l.Gu)(n);return!e||!t||s||n.isModeratorReportChannel()||__OVERLAY__?null:(0,i.jsx)(r.sNh,{id:"edit-thread",label:n.isForumPost()?o.intl.string(o.t.NP1yHB):o.intl.string(o.t["2Mk1TE"]),action:()=>{(0,r.pTH)(),a.ZP.open(n.id)}})}},732393:function(n,e,t){t.d(e,{Z:()=>Z}),t(388685);var i=t(255367);t(73800);var r=t(442837),a=t(481060),l=t(239091),o=t(596454),s=t(339085),d=t(883429),u=t(456269),c=t(665906),f=t(592125),h=t(710352),v=t(388032),p=t(939852);function g(n){let{tag:e}=n,{name:t,emojiId:a,emojiName:l}=e,d=(0,r.e7)([s.ZP],()=>null!=a?s.ZP.getUsableCustomEmojiById(a):null);return(0,i.jsxs)(i.Fragment,{children:[null!=l||null!=a?(0,i.jsx)(o.Z,{className:p.emoji,emojiId:a,emojiName:l,animated:!!(null==d?void 0:d.animated)}):null,t]})}function Z(n){let e=(0,r.e7)([f.Z],()=>f.Z.getChannel(n),[n]),t=(0,c.C7)(e),o=(0,r.e7)([f.Z],()=>f.Z.getChannel(null==e?void 0:e.parent_id),[e]),s=(0,u.Vm)(o),p=(0,u.eV)(e),Z=p.length>=h.Cn,C=(0,c.$R)(e);if(null==e)return(0,l.Zy)(),null;if(!t||__OVERLAY__||!e.isForumPost()||(null==s?void 0:s.length)===0||!C||e.isModeratorReportChannel())return null;let b=n=>{let t=new Set(p);if(t.has(n))t.delete(n);else{if(Z)return;t.add(n)}let i=Array.from(t).map(n=>n.id);d.Z.updateForumPostTags(e.id,i)},m=null==s?void 0:s.map(n=>{let e=p.includes(n);return(0,i.jsx)(a.S89,{id:n.id,label:(0,i.jsx)(g,{tag:n}),disabled:Z&&!e,action:()=>b(n),checked:e},n.id)});return(0,i.jsx)(a.sNh,{id:"edit-tags",label:v.intl.string(v.t["436ZFx"]),children:m})}},612856:function(n,e,t){t.d(e,{Z:()=>c});var i=t(255367);t(73800);var r=t(442837),a=t(481060),l=t(569471),o=t(346479),s=t(723170),d=t(124368),u=t(388032);function c(n){let e=(0,s.B)(n);return(0,r.e7)([l.Z],()=>l.Z.hasJoined(n.id))?(0,i.jsx)(a.sNh,{id:"thread-notifications",label:u.intl.string(u.t.h850Sk),children:(0,d.zb)().map(t=>{let{setting:r,label:l}=t;return(0,i.jsx)(a.k5B,{group:"thread-notifications",id:"".concat(r),label:l,action:()=>o.Z.setNotificationSettings(n,{flags:r}),checked:r===e},r)})}):(0,i.jsx)(a.sNh,{id:"notifications-disabled",label:u.intl.string(u.t.h850Sk),disabled:!0})}},137591:function(n,e,t){t.d(e,{Z:()=>d});var i=t(255367);t(73800);var r=t(481060),a=t(346479),l=t(665906),o=t(981631),s=t(388032);function d(n){var e,t;if(!(0,l.Xb)(n)||n.type!==o.d4z.PRIVATE_THREAD)return null;let d=null==(t=null==(e=n.threadMetadata)?void 0:e.invitable)||t;return(0,i.jsx)(r.S89,{id:"toggle-thread-invitable",label:s.intl.string(s.t.s2rpNT),checked:d,action:()=>a.Z.setInvitable(n,!d)})}},787263:function(n,e,t){t.d(e,{w:()=>a});var i=t(255367);t(73800);var r=t(481060);function a(n,e){return(0,r.ZDy)(async()=>{let{default:r}=await Promise.all([t.e("42743"),t.e("30557")]).then(t.bind(t,207540));return t=>{var a,l;return(0,i.jsx)(r,(a=function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.forEach(function(e){var i;i=t[e],e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i})}return n}({},t),l=l={onConfirm:()=>{t.onClose(),e()},channel:n},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):(function(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t.push.apply(t,i)}return t})(Object(l)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(l,n))}),a))}})}},117984:function(n,e,t){t.d(e,{CM:()=>p,UT:()=>v,_Z:()=>b,kj:()=>f,oC:()=>h,s3:()=>Z,uA:()=>C,xh:()=>g}),t(388685);var i=t(524437),r=t(675478),a=t(592125),l=t(496675),o=t(709054),s=t(853856),d=t(231338);function u(){let n=s.Z.getFavoriteChannels(),e=1;for(let t in n)e=Math.max(e,n[t].order);return e+1}function c(n){for(let e in n){let t=n[e];if(null==t){delete n[e];continue}if(t.type===i.Dd.CATEGORY)continue;let r=a.Z.getChannel(e);if(null==r||!r.isPrivate()&&!l.Z.can(d.Pl.VIEW_CHANNEL,r)){delete n[e];continue}}}function f(n,e){s.Z.isFavorite(n)||r.hW.updateAsync("favorites",t=>{t.favoriteChannels[n]=i.aV.create({nickname:"",type:i.Dd.REFERENCE_ORIGINAL,position:u(),parentId:null!=e?e:"0"}),c(t.favoriteChannels)},r.fy.FREQUENT_USER_ACTION)}function h(n){let e=s.Z.getFavorite(n);null!=e&&r.hW.updateAsync("favorites",t=>{if(delete t.favoriteChannels[n],e.type===i.Dd.CATEGORY)for(let e in t.favoriteChannels)t.favoriteChannels[e].parentId===n&&(t.favoriteChannels[e].parentId="0");c(t.favoriteChannels)},r.fy.INFREQUENT_USER_ACTION)}function v(n,e){s.Z.isFavorite(n)&&r.hW.updateAsync("favorites",t=>{t.favoriteChannels[n].nickname=null!=e?e:""},r.fy.INFREQUENT_USER_ACTION)}function p(n){let e=o.default.fromTimestamp(Date.now());r.hW.updateAsync("favorites",t=>{t.favoriteChannels[e]=i.aV.create({nickname:n,type:i.Dd.CATEGORY,position:u(),parentId:"0"})},r.fy.FREQUENT_USER_ACTION)}function g(n){h(n)}function Z(n){r.hW.updateAsync("favorites",e=>{for(let i of n)if(null!=i.position&&(e.favoriteChannels[i.id].position=i.position),void 0!==i.parent_id){var t;e.favoriteChannels[i.id].parentId=null!=(t=i.parent_id)?t:"0"}},r.fy.FREQUENT_USER_ACTION)}function C(n,e){r.hW.updateAsync("favorites",t=>{t.favoriteChannels[n].parentId=null!=e?e:"0"},r.fy.FREQUENT_USER_ACTION)}function b(){r.hW.updateAsync("favorites",n=>{n.muted=!n.muted},r.fy.INFREQUENT_USER_ACTION)}},593214:function(n,e,t){t.d(e,{Mt:()=>p,li:()=>f,s4:()=>h,up:()=>g,zv:()=>v}),t(388685),t(539854);var i=t(73800),r=t(106351),a=t(442837);t(592125);var l=t(984933),o=t(914010);t(709054);var s=t(853856),d=t(362658),u=t(434065),c=t(981631);function f(n){let{favoritesEnabled:e,hasStaffPrivileges:t}=(0,d.z)("useCanFavoriteChannel"),i=(0,a.e7)([s.Z],()=>s.Z.isFavorite(n.id)),r=n.isDM()||n.isThread();return e&&!__OVERLAY__&&!i&&(!r||t)}function h(n){return(0,a.e7)([s.Z],()=>s.Z.getFavorite(n))}function v(){return(0,a.e7)([l.ZP],()=>l.ZP.getChannels(c.I_8))[r.d.GUILD_CATEGORY].map(n=>({id:"null"===n.channel.id?null:n.channel.id,name:n.channel.name}))}function p(){return(0,a.e7)([o.Z],()=>o.Z.getGuildId())===c.I_8}function g(){let{isFavoritesPerk:n}=(0,d.z)("useFavoriteAdded"),e=(0,u.r)(),t=i.useCallback(()=>{n&&e.notifyFavoriteAdded()},[e,n]),r=i.useCallback(()=>{n&&e.clearFavoriteAdded()},[e,n]);return{favoriteAdded:e.favoriteAdded,notifyFavoriteAdded:t,clearFavoriteAdded:r}}},434065:function(n,e,t){t.d(e,{r:()=>a});var i=t(97519),r=t(731965);let a=(0,i.U)(n=>({favoriteAdded:!1,notifyFavoriteAdded:()=>(0,r.j)(()=>n({favoriteAdded:!0})),clearFavoriteAdded:()=>(0,r.j)(()=>n({favoriteAdded:!1}))}))},216572:function(n,e,t){t.d(e,{Cv:()=>h,HL:()=>c,KK:()=>v,Q_:()=>u,nw:()=>f});var i=t(73800),r=t(442837),a=t(904245),l=t(232567),o=t(430824),s=t(375954),d=t(982168);function u(n){return(0,r.e7)([o.Z],()=>{if(null==n)return!1;let e=o.Z.getGuild(n);return null!=e&&e.getModeratorReportingEnabled()&&null!=e.getModeratorReportChannelId()})}function c(n){return(0,d.P0)(n)}function f(n){return(0,d.gT)(n)}function h(n){let{messageReference:e}=n,t=(0,r.e7)([s.Z],()=>null!=e?s.Z.getMessage(e.channel_id,e.message_id):null);(0,i.useEffect)(()=>{null==t&&null!=e&&a.Z.fetchMessages({channelId:e.channel_id,jump:{messageId:e.message_id},limit:10})},[t,e])}function v(n){var e,t;let i=null==n||null==(t=n.messageSnapshots[0])||null==(e=t.moderatorReport)?void 0:e.reported_user_id;null!=i&&(0,l.PR)(i)}}}]);
//# sourceMappingURL=bd4d4947c41f43d0.js.map