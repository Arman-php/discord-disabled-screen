"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["37220"],{332148:function(e,t,n){n.d(t,{Z:()=>d}),n(784620),n(973216);var i=n(544891),r=n(570140),l=n(346479),a=n(624453),o=n(668781),s=n(981631),c=n(388032);let u={async pinMessage(e,t){let{id:n,name:r}=e;await l.Z.unarchiveThreadIfNecessary(e.id),i.tn.put({url:s.ANM.PIN(n,t),oldFormErrors:!0,rejectWithError:!0}).catch(()=>{let t;t=e.isPrivate()?c.intl.formatToPlainString(c.t.Q89oQU,{maxPins:s.tG9}):c.intl.formatToPlainString(c.t.NnO1S0,{maxPins:s.tG9,channelName:r}),o.Z.show({title:c.intl.string(c.t.HI88Q0),body:t,confirmText:c.intl.string(c.t.BddRzc)})})},async unpinMessage(e,t){await l.Z.unarchiveThreadIfNecessary(e.id),i.tn.del({url:s.ANM.PIN(e.id,t),oldFormErrors:!0,rejectWithError:!0}).catch(()=>o.Z.show({title:c.intl.string(c.t.xFjBys),body:c.intl.string(c.t["0R/Toa"]),confirmText:c.intl.string(c.t["7NqTJi"]),cancelText:c.intl.string(c.t["ETE/oK"]),onConfirm:u.unpinMessage.bind(u,e,t)}))},ackPins(e){r.Z.dispatch({type:"CHANNEL_PINS_ACK",channelId:e})},fetchPins(e,t){var n,l;let o=null!=(n=null==t?void 0:t.reset)&&n,c=null!=(l=null==t?void 0:t.limit)?l:25,u=null==t?void 0:t.before;(o||function(e,t){let n=a.Z.getPins(e);if(null==n)return!0;switch(n.state){case a.M.FAILED:return!0;case a.M.LOADING:case a.M.LOADED_FINISHED:return!1;case a.M.LOADED_HAS_MORE:if(null==t)return 0===n.items.length;return n.items.at(-1).pinnedAt===t}}(e,u))&&(r.Z.dispatch({type:"LOAD_PINNED_MESSAGES",channelId:e,reset:o}),i.tn.get({url:s.ANM.PINS(e),query:{limit:c,before:null==u?void 0:u.toISOString()},retries:2,oldFormErrors:!0,rejectWithError:!0}).then(t=>{r.Z.dispatch({type:"LOAD_PINNED_MESSAGES_SUCCESS",pins:t.body.items,channelId:e,hasMore:t.body.has_more})},()=>{r.Z.dispatch({type:"LOAD_PINNED_MESSAGES_FAILURE",channelId:e})}))}},d=u},257559:function(e,t,n){n.d(t,{Z:()=>Z}),n(997841),n(388685);var i=n(255367),r=n(73800),l=n(120356),a=n.n(l),o=n(481060),s=n(332148),c=n(904245),u=n(933557),d=n(576855),f=n(372900),g=n(726521),m=n(294218),p=n(501517),h=n(699516),b=n(594174),O=n(630388),E=n(970257),y=n(981631),v=n(388032),j=n(130883),S=n(739788);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){_(e,t,n[t])})}return e}function N(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class I extends r.PureComponent{render(){let e,t,{report:n,resolveFlag:r}=this.state,l=this.props,{channel:a,message:s,showContextMenuHint:c,moderatorReportData:u}=l,g=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(l,["channel","message","showContextMenuHint","moderatorReportData"]),p=a.type===y.d4z.GUILD_ANNOUNCEMENT&&(0,O.yE)(s.flags,y.iLy.CROSSPOSTED);c&&(e=(0,i.jsx)(d.Z,{className:S.spacingTop,children:v.intl.format(v.t.IxY7Ex,{})})),(0,E.vc)(s)&&(t=(0,i.jsx)(o.j7V,{value:n,onChange:this.handleToggleReport,hideBorder:!0,className:S.spacingTop,children:v.intl.string(v.t.x0jzo6)}));let h=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.X6q,{variant:"heading-md/medium",className:S.spacing,children:p?v.intl.string(v.t["2kHABQ"]):v.intl.string(v.t.AMvpS0)}),(0,i.jsx)("div",{className:S.message,children:(0,i.jsx)(m.Z,{channel:a,message:s,disableInteraction:!0})}),t,e]});if((null==u?void 0:u.moderatorReportChannelId)!=null){let{isFlagResolved:e}=u;return(0,i.jsx)(f.Z.Provider,{value:a.guild_id,children:(0,i.jsxs)(o.Y0X,N(P({parentComponent:"DeleteModal"},g),{children:[(0,i.jsx)(o.xBx,{separator:!1,children:(0,i.jsxs)(o.Kqy,{direction:"vertical",justify:"space-between",children:[(0,i.jsx)(o.olH,{className:S.closeButton,onClick:g.onClose}),(0,i.jsx)(o.X6q,{variant:"heading-xl/bold",children:v.intl.string(v.t.MWMcg4)})]})}),(0,i.jsx)(o.hzk,{children:h}),(0,i.jsxs)(o.mzw,{children:[(0,i.jsx)(o.zxk,{type:"submit",color:o.zxk.Colors.RED,size:o.zxk.Sizes.SMALL,onClick:this.handleDelete,children:v.intl.string(v.t.oyYWHB)}),!e&&(0,i.jsx)(o.XZJ,{value:r,onChange:(e,t)=>this.handleToggleResolveFlag(t),children:v.intl.string(j.default["8yIKen"])})]})]}))})}return(0,i.jsx)(f.Z.Provider,{value:a.guild_id,children:(0,i.jsx)(o.ConfirmModal,N(P({header:p?v.intl.string(v.t.aIz1oa):v.intl.string(v.t.MWMcg4),confirmText:v.intl.string(v.t.oyYWHB),cancelText:v.intl.string(v.t["ETE/oK"]),onConfirm:this.handleDelete},g),{children:h}))})}constructor(...e){super(...e),_(this,"state",{report:!1,resolveFlag:!1}),_(this,"handleDelete",()=>{let{report:e,resolveFlag:t}=this.state,{channel:n,message:i,moderatorReportData:r}=this.props,{moderatorReportChannelId:l,isFlagResolved:a}=null!=r?r:{};e?(0,g.ak)(i,"message_delete_alert",()=>c.Z.deleteMessage(n.id,i.id).then(()=>{if(null!=l){var e,n;t&&!a&&p.Z.resolveFlag(l),null==(e=(n=this.props).onClose)||e.call(n)}})):c.Z.deleteMessage(n.id,i.id).then(()=>{if(null!=l){var e,n;t&&!a&&p.Z.resolveFlag(l),null==(e=(n=this.props).onClose)||e.call(n)}})}),_(this,"handleToggleReport",e=>{this.setState({report:e})}),_(this,"handleToggleResolveFlag",e=>{this.setState({resolveFlag:e})})}}let Z={confirmPin:function(e,t){(0,o.h7j)(n=>{let r,l=(0,u.F6)(e,b.default,h.Z);return r=e.isPrivate()?v.intl.string(v.t.hMRngI):v.intl.formatToPlainString(v.t["3IRluL"],{channelName:l}),(0,i.jsx)(f.Z.Provider,{value:e.guild_id,children:(0,i.jsxs)(o.ConfirmModal,N(P({header:v.intl.string(v.t.bKMaZW),confirmText:v.intl.string(v.t.rOQ5BQ),cancelText:v.intl.string(v.t["ETE/oK"]),confirmButtonColor:o.zxk.Colors.BRAND,onConfirm:()=>s.Z.pinMessage(e,t.id)},n),{children:[(0,i.jsx)(o.Text,{variant:"text-md/normal",className:S.spacing,children:r}),(0,i.jsx)("div",{className:S.message,children:(0,i.jsx)(m.Z,{channel:e,message:t,animateAvatar:!1,disableInteraction:!0})})]}))})})},confirmUnpin:function(e,t){(0,o.h7j)(n=>(0,i.jsx)(f.Z.Provider,{value:e.guild_id,children:(0,i.jsxs)(o.ConfirmModal,N(P({header:v.intl.string(v.t.CFF2vL),confirmText:v.intl.string(v.t.lAU5jI),cancelText:v.intl.string(v.t["ETE/oK"]),onConfirm:()=>s.Z.unpinMessage(e,t.id)},n),{children:[(0,i.jsx)(o.Text,{variant:"text-md/normal",className:S.spacing,children:v.intl.string(v.t.NjEPp6)}),(0,i.jsx)("div",{className:a()(S.message,S.spacing),children:(0,i.jsx)(m.Z,{channel:e,message:t,disableInteraction:!0})}),(0,i.jsx)(d.Z,{children:v.intl.format(v.t.oCVB3d,{})})]}))}))},confirmDelete:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;(0,o.h7j)(l=>(0,i.jsx)(I,P({channel:e,message:t,showContextMenuHint:n,moderatorReportData:r},l)))},confirmEdit:function(e,t,n){(0,o.h7j)(r=>(0,i.jsx)(o.ConfirmModal,N(P({header:v.intl.string(v.t.aIz1oa),confirmText:v.intl.string(v.t["cY+Ooa"]),cancelText:v.intl.string(v.t["ETE/oK"]),confirmButtonColor:o.zxk.Colors.BRAND,onConfirm:()=>c.Z.editMessage(e,t,{content:n})},r),{children:(0,i.jsx)(o.Text,{variant:"text-md/normal",className:S.spacing,children:v.intl.string(v.t.grBcMz)})})))}}},112554:function(e,t,n){n.d(t,{Z:()=>c,v:()=>s});var i=n(399606),r=n(375954),l=n(991621),a=n(629710),o=n(262777);let s=(e,t,n)=>{var s,c;let u=(0,i.e7)([r.Z],()=>r.Z.getMessage(e,t)),d=(0,o.v)(u);if(null==u)return[];let f=void 0!==n?e=>e.url===n||e.id===n:e=>(0,a.g4)({type:l.l.Attachment,media:e},d);return null!=(c=null==u||null==(s=u.attachments)?void 0:s.filter(f))?c:[]},c=(e,t,n)=>{var s,c;let u=(0,i.e7)([r.Z],()=>r.Z.getMessage(e,t)),d=(0,o.v)(u);if(null==u)return[];let f=void 0!==n?e=>e.id===n:e=>(0,a.g4)({type:l.l.Embed,media:e},d);return null!=(c=null==u||null==(s=u.embeds)?void 0:s.filter(f))?c:[]}},788679:function(e,t,n){n.r(t),n.d(t,{default:()=>d});var i=n(255367);n(73800);var r=n(481060),l=n(522664),a=n(247206),o=n(668058),s=n(112554),c=n(160877),u=n(388032);function d(e){let{channelId:t,messageId:n,mediaItemUrl:d,embedId:f,transitionState:g,onClose:m}=e,p=(0,s.v)(t,n,d),h=(0,s.Z)(t,n,f),{reportFalsePositive:b,isReportFalsePositiveLoading:O}=(0,o.$)({onSuccess:()=>(0,c.s)(m),onError:()=>{(0,r.showToast)((0,r.createToast)(u.intl.string(u.t.R0RpRU),r.ToastType.FAILURE))},report:()=>{(0,l.Uj)(t,n,p.map(e=>e.id),h.map(e=>e.id))}});return p.length>0||h.length>0||m(),(0,i.jsx)(c.$,{messageId:n,channelId:t,isReportFalsePositiveLoading:O,analyticsContext:a.UU.EXPLICIT_MEDIA_OBSCURED_FALSE_POSITIVE_FLOW,onConfirmPress:b,attachmentPreview:1===p.length&&0===h.length?p[0]:void 0,embedPreview:1===h.length&&0===p.length?h[0]:void 0,transitionState:g,onClose:m})}},822869:function(e,t,n){n.d(t,{Ad:()=>m,Lb:()=>c,ZF:()=>f,gP:()=>d,mh:()=>g,sF:()=>u});var i=n(73800),r=n(392711),l=n(367907),a=n(592125),o=n(626135),s=n(981631);function c(e,t,n){o.default.track(s.rMx.FORWARD_MESSAGE_STARTED,{channel_id:e,message_id:t,source:n})}function u(e){let{channelId:t,messageId:n,numDestinationChanges:i,numQueryChanges:r}=e;o.default.track(s.rMx.FORWARD_MESSAGE_CANCELLED,{channel_id:t,message_id:n,num_destination_changes:i,num_query_changes:r})}function d(e){let{channelId:t,messageId:n,hasError:i,hasContextMessage:r,numDestinations:c,numDestinationChanges:u,numQueryChanges:d,anyDestinationHasSlowmode:f,source:g}=e;if(o.default.track(s.rMx.FORWARD_MESSAGE_SENT,{channel_id:t,message_id:n,has_error:i,has_context_message:r,num_destinations:c,num_destination_changes:u,num_query_changes:d,any_destination_has_slowmode:f}),"message-shortcut"===g){let e=a.Z.getChannel(t);o.default.track(s.rMx.MESSAGE_SHORTCUT_ACTION_SENT,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({action:"forward",original_message_id:n},(0,l.hH)(null==e?void 0:e.guild_id),(0,l.v_)(e)))}}function f(){return i.useMemo(()=>(0,r.once)((e,t,n)=>{o.default.track(s.rMx.FORWARD_ADD_RECIPIENT,{channel_id:e,message_id:t,has_query:n})}),[])}function g(){return i.useMemo(()=>(0,r.once)((e,t)=>{o.default.track(s.rMx.FORWARD_EDIT_SEARCH,{channel_id:e,message_id:t})}),[])}function m(){return i.useMemo(()=>(0,r.once)((e,t)=>{o.default.track(s.rMx.FORWARD_EDIT_CONTEXT_MESSAGE,{channel_id:e,message_id:t})}),[])}},868643:function(e,t,n){n.d(t,{a:()=>g,h:()=>f}),n(997841);var i=n(73800),r=n(442837),l=n(430198),a=n(592125),o=n(430824),s=n(630388),c=n(981631);let u=c.iLy.CROSSPOSTED|c.iLy.FAILED_TO_MENTION_SOME_ROLES_IN_THREAD|c.iLy.GUILD_FEED_HIDDEN|c.iLy.HAS_SNAPSHOT|c.iLy.HAS_THREAD|c.iLy.IS_CROSSPOST|c.iLy.IS_VOICE_MESSAGE|c.iLy.SHOULD_SHOW_LINK_NOT_DISCORD_WARNING|c.iLy.SUPPRESS_EMBEDS|c.iLy.SUPPRESS_NOTIFICATIONS|c.iLy.URGENT|c.iLy.IS_COMPONENTS_V2;function d(e){return e.state!==c.yb.SEND_FAILED&&!!c.V$x.FORWARDABLE.has(e.type)&&null==e.poll&&null==e.activity&&null==e.call&&null==e.activityInstance&&0===(0,s.Ge)(e.flags,u)&&!0}function f(e){var t;if(!d(e))return!1;let n=null==(t=a.Z.getChannel(e.channel_id))?void 0:t.guild_id;return!(null!=n&&l.Z.isChannelOrThreadParentGated(n,e.channel_id))}function g(e){let t=(0,r.e7)([o.Z,l.Z,a.Z],()=>{var t,n,i;if(null==e)return!0;let r=null==(t=a.Z.getChannel(e.channel_id))?void 0:t.guild_id;if(null!=r&&(null==(n=o.Z.getGuild(r))?void 0:n.hasFeature(c.oNc.FORWARDING_DISABLED)))return!0;let s=null!=r&&l.Z.isChannelOrThreadParentGated(r,e.channel_id),u=null!=e&&(null==(i=a.Z.getChannel(e.channel_id))?void 0:i.isModeratorReportChannel());return s||u});return i.useMemo(()=>!t&&null!=e&&d(e),[t,e])}},912332:function(e,t,n){n.d(t,{Np:()=>d,l8:()=>c,mc:()=>u,so:()=>s});var i=n(255367);n(73800);var r=n(481060),l=n(822869);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let s="forward-modal";function c(e){let{message:t,source:c,initialSelectedDestinations:u=[],forwardOptions:d,onRequestSent:f}=e;(0,l.Lb)(t.channel_id,t.id,c),(0,r.ZDy)(async()=>{let{ForwardModal:e}=await Promise.all([n.e("25292"),n.e("6380"),n.e("16967")]).then(n.bind(n,930864));return n=>(0,i.jsx)(e,o(a({},n),{message:t,initialSelectedDestinations:u,forwardOptions:d,onRequestSent:f}))},{modalKey:s})}function u(){(0,r.Mr3)(s)}function d(e){let{message:t,failedDestinations:l,forwardOptions:s}=e;(0,r.ZDy)(async()=>{let{ForwardFailedAlertModal:e}=await n.e("86590").then(n.bind(n,384331));return n=>(0,i.jsx)(e,o(a({},n),{message:t,failedDestinations:l,forwardOptions:s}))})}},111618:function(e,t,n){n.d(t,{Z:()=>u});var i,r,l,a=n(442837),o=n(570140);let s={};class c extends(l=a.ZP.Store){getOptions(e){return s[e]}}r="SendMessageOptionsStore",(i="displayName")in c?Object.defineProperty(c,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):c[i]=r;let u=new c(o.Z,{MESSAGE_CREATE:function(e){let{message:t,sendMessageOptions:n}=e;null!=n&&(s[t.id]=n),null!=t.nonce&&t.nonce in s&&delete s[t.nonce]}})},151007:function(e,t,n){n.d(t,{Z:()=>a});var i=n(665906),r=n(901461),l=n(981631);function a(e,t,n){return!t.isSystemDM()&&!(0,r.Z)(e)&&(n||t.isPrivate())&&(0,i.RG)(t)&&t.type!==l.d4z.GUILD_VOICE&&t.type!==l.d4z.GUILD_STAGE_VOICE}},730954:function(e,t,n){n.d(t,{Z:()=>l}),n(997841);var i=n(904245),r=n(667204);function l(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(i.Z.deleteMessage(e.id,t.id,!0),t.isCommandType()){null!=t.interactionData&&null!=l.applicationId&&(0,r.d)(t,e,l);return}let{content:a,tts:o,messageReference:s,flags:c,nonce:u}=t;i.Z.sendMessage(e.id,{content:a,tts:o,invalidEmojis:[],validNonShortcutEmojis:[]},void 0,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({nonce:u,flags:c,messageReference:null!=s?s:void 0},l))}},996861:function(e,t,n){n.d(t,{$Z:()=>N,B8:()=>Z,F4:()=>_,HH:()=>A,Hd:()=>I,Xl:()=>D,dF:()=>C,eM:()=>R,fB:()=>P,gK:()=>M,mG:()=>T,qe:()=>w,rY:()=>x,ts:()=>L,zW:()=>S}),n(255367),n(73800),n(481060);var i=n(332148),r=n(904245),l=n(257559),a=n(143740),o=n(912332),s=n(434404);n(726521);var c=n(623292),u=n(324701),d=n(488131),f=n(314897),g=n(592125),m=n(626135),p=n(934415),h=n(572004),b=n(585483),O=n(709054),E=n(111618),y=n(50284),v=n(730954),j=n(981631);function S(e){let t=e.getGuildId();null!=t&&s.Z.open(t,j.pNK.ENGAGEMENT)}function _(e,t,n){(0,h.JG)(n.shiftKey?"".concat(t.channel_id,"-").concat(t.id):t.id)}function P(e,t){m.default.track(j.rMx.MESSAGE_LINK_COPIED,{message_id:t.id,channel:t.channel_id}),(0,h.JG)((0,p.wR)(e.guild_id,e.id,t.id))}function N(e,t,n){t.state===j.yb.SEND_FAILED||n.shiftKey?r.Z.deleteMessage(e.id,t.id,t.state===j.yb.SEND_FAILED):l.Z.confirmDelete(e,t)}function I(e,t){r.Z.startEditMessage(e.id,t.id,t.content)}function Z(e,t){(0,y.Z)(e.id,t.id)}function x(e,t,n){if(!1===t.pinned)return void(n.shiftKey?i.Z.pinMessage(e,t.id):l.Z.confirmPin(e,t));n.shiftKey?i.Z.unpinMessage(e,t.id):l.Z.confirmUnpin(e,t)}function D(e,t){(0,a.Z)(e.id,t.id)}function T(e,t){(0,v.Z)(e,t,void 0,E.Z.getOptions(t.id))}function A(e,t,n){let i=e.isPrivate(),r=t.author.id===f.default.getId();(0,c.fE)({channel:e,message:t,shouldMention:!n.shiftKey&&!r,showMentionToggle:!i&&!r}),b.S.dispatch(j.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:e.id})}function M(e,t){(0,d.R6)(e,t,"Message")}function w(e,t){let n=g.Z.getChannel(O.default.castMessageIdAsChannelId(t.id));null!=n&&(0,d.ok)(n)}function C(e,t){(0,u.z)({channelId:e.id,messageId:t.id})}function R(e,t){(0,u.x)({channelId:e.id,messageId:t.id})}function L(e,t){(0,o.l8)({message:t,source:"message-actions"})}},225138:function(e,t,n){n.d(t,{S:()=>B,default:()=>z});var i=n(255367);n(73800);var r=n(374470),l=n(481060),a=n(239091),o=n(911969),s=n(100527),c=n(906732),u=n(299206),d=n(26737),f=n(29264),g=n(905041),m=n(89013),p=n(988500),h=n(570870),b=n(786095),O=n(268623),E=n(986240),y=n(667922),v=n(941389),j=n(449751),S=n(749339),_=n(601184),P=n(6148),N=n(519110),I=n(759875),Z=n(168405),x=n(536639),D=n(720904),T=n(88791),A=n(385302),M=n(873699),w=n(134323),C=n(429260),R=n(1626),L=n(279329),G=n(627938),k=n(512303),U=n(481300),F=n(975368),H=n(388032);function z(e){var t,n;let l,o,u,d,{channel:f,message:g,target:m,mediaItem:p,shouldHideMediaOptions:h,onSelect:b,onHeightUpdate:O}=e,{analyticsLocations:E}=(0,c.ZP)([s.Z.MESSAGE_CONTEXT_MENU]),y=m,v=m.getAttribute("data-type"),j=m.getAttribute("data-id"),S=m.getAttribute("data-name");if(null!=p)o=l=u=p.url;else for(;(0,r.k)(y);)(0,r.k)(y,HTMLImageElement)&&null!=y.src&&(o=y.src),(0,r.k)(y,HTMLAnchorElement)&&null!=y.href&&(l=y.href,d=y.textContent,null==o&&"img"===y.getAttribute("data-role")&&(o=l,y.hasAttribute("data-safe-src")&&""!==y.getAttribute("data-safe-src")&&(u=y.getAttribute("data-safe-src")))),y=y.parentNode;let _=null!=(n=null==(t=document.getSelection())?void 0:t.toString())?n:"";return(0,i.jsx)(c.Gt,{value:E,children:B({message:g,channel:f,mediaItem:p,textSelection:_,favoriteableType:v,favoriteableId:j,favoriteableName:S,itemHref:l,itemSrc:o,itemSafeSrc:u,itemTextContent:d,canReport:!0,onHeightUpdate:O,onSelect:b,onClose:a.Zy,navId:"message",ariaLabel:H.intl.string(H.t.ChPNkJ),shouldHideMediaOptions:h})})}function B(e){let{message:t,channel:n,mediaItem:r,textSelection:a,favoriteableType:s,favoriteableId:c,favoriteableName:z,itemHref:B,itemSrc:K,itemSafeSrc:X,itemTextContent:W,canReport:q,onHeightUpdate:V,onSelect:Q,onClose:J,navId:Y,ariaLabel:$,shouldHideMediaOptions:ee=!1}=e,et=(0,d.Z)(a),en=(0,m.Z)(a),ei=(0,D.Z)(t,n),er=(0,y.Z)(t,n),el=(0,P.Z)(t,n),ea=(0,x.Z)(t,n),eo=(0,N.Z)({type:s,id:c,name:z}),es=(0,R.Z)(t,n),ec=(0,Z.Z)(t,n),eu=(0,T.Z)(t),ed=(0,v.Z)(t,n),ef=(0,j.Z)(t,n),eg=(0,A.Z)(t,n),em=(0,M.Z)(t,n),ep=(0,_.Z)(t,n),eh=(0,C.ZP)(t),eb=(0,C.wY)(t),eO=(0,C.eH)(t),eE=(0,L.Z)(t,n),ey=(0,g.Z)(null!=B?B:K,W,t,{shouldHideMediaOptions:ee}),ev=(0,f.Z)(X,t,{shouldHideMediaOptions:ee,contentType:null==r?void 0:r.contentType}),ej=(0,U.Z)(t,r),eS=(0,u.Z)({id:t.id,label:H.intl.string(H.t.zBoHlZ),shiftId:"".concat(t.channel_id,"-").concat(t.id)}),e_=(0,w.Z)(t,n),eP=(0,I.Z)(t,n),eN=(0,G.Z)(t,n),eI=(0,b.Z)(a,n.getGuildId()),eZ=(0,O.Z)(t),ex=(0,S.Z)(t),eD=(0,F.Z)(t),eT=(0,E.Z)(t,n),eA=(0,h.Z)({commandType:o.yU.MESSAGE,commandTargetId:t.id,channel:n,guildId:void 0,onHeightUpdate:V}),eM=(0,k.Z)(t),ew=(0,p.Z)(t);return(0,i.jsxs)(l.v2r,{navId:Y,onClose:J,"aria-label":$,onSelect:Q,children:[(0,i.jsx)(l.kSQ,{children:et}),(0,i.jsx)(l.kSQ,{children:en}),(0,i.jsxs)(l.kSQ,{children:[""===a?ei:null,er,eu,eT]}),(0,i.jsxs)(l.kSQ,{children:[el,e_,eP,eN]}),(0,i.jsxs)(l.kSQ,{children:[ex,ea,eZ,eA,es,ec,ed,ef,eE,ew,eM]}),(0,i.jsxs)(l.kSQ,{children:[em,eg,ep,q&&eh,q&&eO,eb]}),(0,i.jsxs)(l.kSQ,{children:[eo,eI,ev,ej,eD]}),(0,i.jsx)(l.kSQ,{children:ey}),(0,i.jsx)(l.kSQ,{children:eS})]})}},786095:function(e,t,n){n.d(t,{Z:()=>j}),n(388685),n(35282);var i=n(255367),r=n(73800),l=n(481060),a=n(239091),o=n(236413),s=n(727072),c=n(85960),u=n(676317),d=n(65912),f=n(556012),g=n(572456),m=n(434404),p=n(981631),h=n(273504),b=n(388032),O=n(466745);function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let v=h.fX.KEYWORD;function j(e,t){let{perGuildMaxCount:n}=c.I6[v],{isLoading:j,saveRule:S,errorMessage:_}=(0,d.w)(),{createNewEditingRule:P}=(0,d.V)(),[N,I]=r.useState(!1),[Z,x]=(0,s.I2)(t),{rulesByTriggerType:D,updateRule:T}=(0,s.pH)(t),A=r.useMemo(()=>{var e;return null!=(e=D[v])?e:[]},[D]),M=0===A.length,w=n>A.length&&!M;if(!r.useMemo(()=>(0,u.ze)(t),[t])||null==e||0===e.length||null==t)return null;let C=e.split(" "),R=C.length;try{(0,o.km)(C,h.RH)}catch(e){return null}let L=()=>{null!=t&&((0,a.Zy)(),m.Z.open(t,p.pNK.GUILD_AUTOMOD),setTimeout(()=>{P(t,v,{triggerMetadata:{keywordFilter:[e],regexPatterns:[],allowList:[]}})},400))},G=async t=>{var n,i;if((0,a.Zy)(),!await (0,g.XN)(t.name,e))return;let r=y(E({},t),{triggerMetadata:y(E({},t.triggerMetadata),{keywordFilter:[...null!=(i=null==(n=t.triggerMetadata)?void 0:n.keywordFilter)?i:[],e]})});await S(r,A),T(r),null!=_?(0,l.showToast)((0,l.createToast)(b.intl.string(b.t.wH6L0t),l.ToastType.FAILURE)):(0,l.showToast)((0,l.createToast)(b.intl.string(b.t["0rdYm5"]),l.ToastType.SUCCESS))},k=(0,i.jsx)(l.sNh,{id:"automod-rules-loading",label:b.intl.string(b.t.ZTNur6)});return Z||(k=(0,i.jsxs)(i.Fragment,{children:[M&&(0,i.jsx)(l.sNh,{id:"add-first-rule",label:b.intl.string(b.t.f72Zqa),action:L,disabled:j}),A.map(e=>{let t=(0,c.V9)(v).reduce((t,n)=>{let i=e.actions.find(e=>{let{type:t}=e;return n===t});if(null==i)return t;let r=(0,f.c)(n,i);return t+", ".concat(null==r?void 0:r.headerText)},"");return(0,i.jsx)(l.k5B,{id:e.id,label:e.name,subtext:(0,i.jsx)(l.Text,{color:"text-muted",className:O.actionTextHeader,variant:"text-xs/normal",children:t.slice(2)}),group:"automod-rule-selection",checked:!1,disabled:j,action:()=>G(e)},e.id)}),w&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Clw,{}),(0,i.jsx)(l.sNh,{id:"add-another-rule",label:b.intl.string(b.t["0K5jDA"]),action:L,disabled:j})]})]})),(0,i.jsx)(l.sNh,{id:"guild-automod-add-selection",label:b.intl.formatToPlainString(b.t.Kkjv1t,{keywordCount:R}),onFocus:()=>{N||(I(!0),x())},children:k})}},268623:function(e,t,n){n.d(t,{Z:()=>h,x:()=>b}),n(388685);var i=n(255367),r=n(73800),l=n(442837),a=n(481060),o=n(436774),s=n(2818),c=n(324701),u=n(575016),d=n(768943),f=n(175006),g=n(898150),m=n(70956),p=n(388032);function h(e){let{enabled:t}=s.Z.useExperiment({location:"LongPressMessageActionSheet"}),n=(0,l.e7)([d.Z],()=>d.Z.getSavedMessage(e.channel_id,e.id)),r=b({message:e,savedMessage:n});return t?null!=n||(0,f.Z)()?(0,i.jsxs)(a.sNh,{id:"save-for-later",label:p.intl.string(p.t.tpxJtr),action:()=>null==n?(0,c.z)({channelId:e.channel_id,messageId:e.id,displayToast:!0}):(0,c.x)({channelId:e.channel_id,messageId:e.id,dueAt:n.saveData.dueAt,displayToast:!0}),children:[null!=n?(0,i.jsx)(a.sNh,{id:"remove-from-for-later",label:p.intl.string(p.t.SvXS1d),icon:a.plf,action:()=>(0,c.x)({channelId:e.channel_id,messageId:e.id,dueAt:n.saveData.dueAt,displayToast:!0})}):(0,i.jsx)(a.sNh,{id:"create-bookmark",label:p.intl.string(p.t["9p3D9v"]),icon:a.gt9,action:()=>(0,c.z)({channelId:e.channel_id,messageId:e.id,displayToast:!0})}),(0,i.jsx)(a.Clw,{}),r]}):(0,i.jsx)(a.sNh,{id:"save-for-later-upsell",label:p.intl.string(p.t.tpxJtr),icon:a.SrA,iconProps:{color:o.JX.PREMIUM_TIER_2},action:()=>(0,c.z)({channelId:e.channel_id,messageId:e.id,displayToast:!0})}):null}function b(e){let{message:t,savedMessage:n}=e,[l,o]=r.useState(new Date);r.useEffect(()=>{let e=setInterval(()=>o(new Date),m.Z.Millis.MINUTE);return()=>{clearInterval(e)}},[]);let s=r.useCallback(e=>(0,c.z)({channelId:t.channel_id,messageId:t.id,dueAt:e,displayToast:!0}),[t.channel_id,t.id]),d=(0,g.r)({createReminder:s}),{dueInText:f}=(0,u.AT)({dueAt:null==n?void 0:n.saveData.dueAt,now:l,type:u.hQ.LONG});return(null==n?void 0:n.saveData.dueAt)==null?(0,i.jsx)(a.kSQ,{label:p.intl.string(p.t.roMu1N),children:d}):(0,i.jsxs)(a.kSQ,{label:f,children:[(0,i.jsx)(a.sNh,{id:"mark-complete",label:p.intl.string(p.t.yjGtdH),icon:a.kmB,action:()=>(0,c.z)({channelId:t.channel_id,messageId:t.id,dueAt:void 0})}),(0,i.jsx)(a.sNh,{id:"edit-reminder",label:p.intl.string(p.t.vrbqs7),children:d})]})}},986240:function(e,t,n){n.d(t,{Z:()=>p});var i=n(255367),r=n(73800),l=n(481060),a=n(980463),o=n(328908),s=n(992970),c=n(135793),u=n(576645),d=n(84040),f=n(626135),g=n(981631),m=n(388032);function p(e,t){let n=(0,d.Z)(t,e),p=e.hasPotions(),h=(0,u.Nt)(),b=r.useCallback(n=>{try{(0,a.qc)(t.id,e.id,n)}catch(e){(0,l.showToast)((0,l.createToast)(m.intl.string(m.t.xsfC2d),l.ToastType.FAILURE))}},[t.id,e.id]),O=r.useCallback(()=>{f.default.track(g.rMx.CONFETTI_POTION_ENTRYPOINT_CLICKED,{location:s.MG.MessageContextMenu}),(0,c.s)({channelId:t.id,message:e,onRedeem:b,onClose:o.Qy,source:s.YD.MessageContextMenu})},[t.id,e,b]);return n&&!p&&h?(0,i.jsx)(l.sNh,{id:"add-confetti-potion",label:m.intl.string(m.t.icaJW1),icon:l.l22,action:O}):null}},667922:function(e,t,n){n.d(t,{Z:()=>E});var i=n(255367),r=n(73800),l=n(442837),a=n(481060),o=n(543241),s=n(222677),c=n(995774),u=n(665906),d=n(695346),f=n(496675),g=n(768581),m=n(585483),p=n(176354),h=n(981631),b=n(185923),O=n(388032);function E(e,t){let{reducedMotion:n}=r.useContext(a.Sfi),g=(0,u.$R)(t),E=(0,l.e7)([f.Z],()=>(t.isPrivate()||f.Z.can(h.Plq.ADD_REACTIONS,t))&&g,[t,g]),v=(0,o.MZ)(t.getGuildId());if(!d.nc.getSetting()||!E||e.type===h.uaV.GUILD_INVITE_REMINDER)return null;let j=v.filter(e=>!p.ZP.isEmojiFilteredOrLocked({emoji:e,channel:t,intention:b.Hz.REACTION})).slice(0,12).map((r,l)=>{var o,u;return(0,i.jsx)(a.sNh,{color:"default",id:null!=(u=null!=(o=r.id)?o:r.optionallyDiverseSequence)?u:r.name,label:":".concat(r.name,":"),icon:e=>{var t,l;return(0,i.jsx)(y,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},e),l=l={reducedMotionEnabled:n.enabled,emoji:r},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(l)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(l,e))}),t))},action:()=>{(0,s.rU)(t.id,e.id,(0,c.g1)(r),s.TW.MESSAGE_CONTEXT_MENU)},dontCloseOnActionIfHoldingShiftKey:!0},l)});return(0,i.jsx)(a.sNh,{id:"add-reaction",label:O.intl.string(O.t.lfIHs7),action:()=>{m.S.dispatchKeyed(h.LPv.TOGGLE_REACTION_POPOUT,e.id,{emojiPicker:!0})},color:"default",children:(0,i.jsxs)(i.Fragment,{children:[j,(0,i.jsx)(a.Clw,{}),(0,i.jsx)(a.sNh,{color:"default",id:"other-reactions",label:O.intl.string(O.t["OBCR+v"]),icon:a.EO4,action:()=>{m.S.dispatchKeyed(h.LPv.TOGGLE_REACTION_POPOUT,e.id,{emojiPicker:!0})}})]})})}function y(e){var t;let{emoji:n,reducedMotionEnabled:r,className:l="",isFocused:a=!1}=e;return(0,i.jsx)("img",{className:l,src:null!=n.id?g.ZP.getEmojiURL({id:n.id,animated:n.animated&&(!r||a),size:18}):p.ZP.getURL(null!=(t=n.optionallyDiverseSequence)?t:""),alt:""})}},941389:function(e,t,n){n.d(t,{Z:()=>c});var i=n(255367);n(73800);var r=n(481060),l=n(496675),a=n(996861),o=n(981631),s=n(388032);function c(e,t){let n=t.getGuildId();return null!=n&&(e.type===o.uaV.USER_JOIN||e.type===o.uaV.GUILD_INVITE_REMINDER)&&l.Z.canWithPartialContext(o.Plq.MANAGE_GUILD,{guildId:n})?(0,i.jsx)(r.sNh,{id:"configure",label:s.intl.string(s.t.NpHUi4),icon:r.idN,action:()=>(0,a.zW)(t)}):null}},449751:function(e,t,n){n.d(t,{Z:()=>c});var i=n(255367);n(73800);var r=n(481060),l=n(626135),a=n(572004),o=n(981631),s=n(388032);function c(e,t){return a.wS&&e.type!==o.uaV.GUILD_INVITE_REMINDER?(0,i.jsx)(r.sNh,{id:"copy-link",label:s.intl.string(s.t.Xrt5Pj),icon:r.xPt,action:()=>{(0,a.JG)("".concat(location.protocol,"//").concat(location.host).concat(o.Z5c.CHANNEL(t.guild_id,t.id,e.id))),l.default.track(o.rMx.MESSAGE_LINK_COPIED,{message_id:e.id,channel:e.channel_id})}}):null}},749339:function(e,t,n){n.d(t,{Z:()=>c});var i=n(255367);n(73800);var r=n(481060),l=n(39154),a=n(292419),o=n(572004),s=n(388032);function c(e){return o.wS?(0,i.jsx)(r.sNh,{id:"copy-text",label:s.intl.string(s.t.JrGD7O),icon:r.TIy,action:()=>{if((e=(0,l.Z)(e)).isComponentsV2()){let t=(0,a.np)(e.components);null!=t&&(0,o.JG)(t)}else(0,o.JG)(e.content)}}):null}},601184:function(e,t,n){n.d(t,{Z:()=>g});var i=n(255367);n(73800);var r=n(442837),l=n(481060),a=n(904245),o=n(257559),s=n(665906),c=n(496675),u=n(594174),d=n(981631),f=n(388032);function g(e,t){let n=(0,r.e7)([u.default],()=>u.default.getCurrentUser()),g=(0,s.$R)(t),m=(0,r.e7)([c.Z],()=>c.Z.can(d.Plq.MANAGE_MESSAGES,t),[t])||null!=n&&e.canDeleteOwnMessage(n.id);return e.state===d.yb.SENDING||!m||d.V$x.UNDELETABLE.has(e.type)||!g?null:(0,i.jsx)(l.sNh,{id:"delete",label:f.intl.string(f.t.xwMqDw),action:function(n){e.state===d.yb.SEND_FAILED?a.Z.deleteMessage(t.id,e.id,!0):n.shiftKey?a.Z.deleteMessage(t.id,e.id):o.Z.confirmDelete(t,e,!0)},color:"danger",icon:l.XHJ})}},6148:function(e,t,n){n.d(t,{Z:()=>d});var i=n(255367);n(73800);var r=n(442837),l=n(481060),a=n(904245),o=n(665906),s=n(314897),c=n(418476),u=n(388032);function d(e,t){let n=(0,r.e7)([s.default],()=>s.default.getId()),d=(0,o.$R)(t),f=(0,o.Gu)(t);return(0,c.Z)(e,n)&&d&&!f?(0,i.jsx)(l.sNh,{id:"edit",label:u.intl.string(u.t.fsBWmZ),action:()=>a.Z.startEditMessage(t.id,e.id,e.content),icon:l.vdY}):null}},519110:function(e,t,n){n.d(t,{Z:()=>S}),n(704826),n(35282);var i=n(255367),r=n(73800),l=n(442837),a=n(481060),o=n(80932),s=n(2052),c=n(543241),u=n(339085),d=n(633302),f=n(691251),g=n(268350),m=n(217590),p=n(453070),h=n(926491),b=n(378233),O=n(981631),E=n(388032);function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function j(e){return d.ZP.getByName(e.replace(/(^:|:$)/g,""))}function S(e){let{type:t,id:n,name:S,isInExpressionPicker:_=!1}=e,{location:P}=(0,s.O)(),N=r.useMemo(()=>v(y({},P),{section:_?O.jXE.EXPRESSION_PICKER:O.jXE.CONTEXT_MENU}),[P,_]),I=(0,p.Go)(),Z=(0,l.e7)([h.Z],()=>t===f.S.STICKER&&null!=n?h.Z.getStickerById(n):null),x=null!=Z&&I.includes(Z.id),D=(0,l.e7)([u.ZP],()=>{if(t===f.S.EMOJI){if(null!=n)return u.ZP.getDisambiguatedEmojiContext().getById(n);else if(null!=S){var e;return null!=(e=j(S))?e:j(d.ZP.convertSurrogateToName(S))}}}),T=(0,c.C1)(null,D);return null!=Z&&t===f.S.STICKER?(0,b.J8)(Z)&&!(0,b.V9)(Z)?null:x?(0,i.jsx)(a.sNh,{id:"unfavorite",action:()=>(0,g.hW)(Z.id),label:E.intl.string(E.t.XhzKyM)}):(0,i.jsx)(a.sNh,{id:"favorite",action:()=>{(0,m.cQ)({sticker:Z,location:v(y({},N),{object:O.qAy.STICKER})}),(0,g.SA)(null==Z?void 0:Z.id)},label:E.intl.string(E.t.kWmiPT)}):null!=D&&t===f.S.EMOJI?T?(0,i.jsx)(a.sNh,{id:"unfavorite",action:()=>(0,o.Xe)(D),label:E.intl.string(E.t.Ay49KC)}):(0,i.jsx)(a.sNh,{id:"favorite",action:()=>{(0,c.J1)({emoji:D,location:v(y({},N),{object:O.qAy.EMOJI})}),(0,o.$K)(D)},label:E.intl.string(E.t["nNsr6+"])}):void 0}},759875:function(e,t,n){n.d(t,{Z:()=>c});var i=n(255367);n(73800);var r=n(481060),l=n(868643),a=n(245216),o=n(996861),s=n(388032);function c(e,t){return(0,l.a)(e)?(0,i.jsx)(r.sNh,{id:"forward",label:s.intl.string(s.t.I3ltXF),icon:a.Z,action:()=>{(0,o.ts)(t,e)}}):null}},168405:function(e,t,n){n.d(t,{Z:()=>s});var i=n(255367);n(73800);var r=n(481060),l=n(665906),a=n(50284),o=n(388032);function s(e,t){return(0,l.$R)(t)?(0,i.jsx)(r.sNh,{id:"mark-unread",label:o.intl.string(o.t.RpE9k5),action:()=>(0,a.Z)(t.id,e.id),icon:r.z7b}):null}},536639:function(e,t,n){n.d(t,{Z:()=>f});var i=n(255367);n(73800);var r=n(442837),l=n(481060),a=n(332148),o=n(257559),s=n(496675),c=n(151007),u=n(981631),d=n(388032);function f(e,t){let n=(0,r.e7)([s.Z],()=>s.Z.can(u.Plq.MANAGE_MESSAGES,t),[t]);return e.state!==u.yb.SEND_FAILED&&(0,c.Z)(e,t,n)?!1===e.pinned?(0,i.jsx)(l.sNh,{id:"pin",action:function(n){n.shiftKey?a.Z.pinMessage(t,e.id):o.Z.confirmPin(t,e)},label:d.intl.string(d.t["CvQ18/"]),icon:l.qQX}):(0,i.jsx)(l.sNh,{id:"unpin",action:function(n){n.shiftKey?a.Z.unpinMessage(t,e.id):o.Z.confirmUnpin(t,e)},label:d.intl.string(d.t["Bse+Fx"]),icon:l.qQX}):null}},720904:function(e,t,n){n.d(t,{Z:()=>_}),n(781311);var i=n(255367);n(73800);var r=n(120356),l=n.n(r),a=n(442837),o=n(481060),s=n(543241),c=n(222677),u=n(995774),d=n(665906),f=n(695346),g=n(496675),m=n(768581),p=n(176354),h=n(981631),b=n(185923),O=n(388032),E=n(933070);function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let j=["slight_smile","frowning","smile","stuck_out_tongue","wink"];function S(e){var t;let{emoji:n,isFocused:r}=e,{animated:a,src:s,surrogates:c}=n;return null==s&&null!=n.id?s=m.ZP.getEmojiURL({id:n.id,animated:!!a,size:20}):null==s&&(s=p.ZP.getURL(c)),(0,i.jsx)(o.ua7,{text:n.allNamesString,hideOnClick:!0,spacing:16,forceOpen:r,children:e=>(0,i.jsx)("div",v(y({"aria-label":O.intl.formatToPlainString(O.t["/iYSo6"],{emojiName:n.name}),className:l()(E.button,{[E.focused]:r})},e),{children:null==s||""===s.trim()?(0,i.jsx)("span",v(y({className:l()("emoji","emoji-text",E.icon)},e),{children:c})):(0,i.jsx)("img",{className:E.icon,src:s,alt:""})}))},null!=(t=n.id)?t:n.name)}function _(e,t){let n=(0,s.MZ)(t.guild_id).filter(e=>{var n;return!(e.useSpriteSheet&&j.indexOf(null!=(n=e.uniqueName)?n:"")>=0)&&!p.ZP.isEmojiPremiumLocked({emoji:e,channel:t,intention:b.Hz.REACTION})});n.length>4&&(n.length=4);let r=f.nc.useSetting(),l=(0,d.$R)(t),m=(0,a.e7)([g.Z],()=>r&&l&&(t.isPrivate()||g.Z.can(h.Plq.ADD_REACTIONS,t)),[t,l,r]),O=n=>{(0,c.rU)(t.id,e.id,(0,u.g1)(n),c.TW.MESSAGE_CONTEXT_MENU)};return m&&n.length>0?(0,i.jsx)(o.kSQ,{className:E.wrapper,children:n.map((e,t)=>{var n;return(0,i.jsx)(o.sNh,{id:"quickreact-".concat(null!=(n=e.id)?n:t),render:t=>{let{isFocused:n}=t;return(0,i.jsx)(S,{emoji:e,isFocused:n})},action:()=>O(e),dontCloseOnActionIfHoldingShiftKey:!0},t)})}):null}},88791:function(e,t,n){n.d(t,{Z:()=>o});var i=n(255367);n(73800);var r=n(481060),l=n(79390),a=n(388032);function o(e){return null==e.reactions||0===e.reactions.length||e.isPoll()&&!(0,l.eQ)(e)?null:(0,i.jsx)(r.sNh,{id:"reactions",label:a.intl.string(a.t.wikODg),icon:r.EO4,action:()=>(0,r.ZDy)(async()=>{let{default:t}=await Promise.resolve().then(n.bind(n,785388));return n=>{var r,l;return(0,i.jsx)(t,(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},n),l=l={message:e},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(l)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(l,e))}),r))}})})}},385302:function(e,t,n){n.d(t,{Z:()=>g});var i=n(255367);n(73800);var r=n(442837),l=n(481060),a=n(668781),o=n(79390),s=n(222677),c=n(665906),u=n(496675),d=n(981631),f=n(388032);function g(e,t){let n=(0,c.$R)(t);return!(0,r.e7)([u.Z],()=>u.Z.can(d.Plq.MANAGE_MESSAGES,t)&&n,[t,n])||null==e.reactions||0===e.reactions.length||e.isPoll()&&!(0,o.eQ)(e)?null:(0,i.jsx)(l.sNh,{id:"remove-reactions",label:f.intl.string(f.t.ZbtGBg),action:function(n){n.shiftKey?(0,s.wX)(t.id,e.id):a.Z.show({title:f.intl.string(f.t.iz3vYW),body:f.intl.string(f.t.VpjOCg),confirmText:f.intl.string(f.t.p89ACg),cancelText:f.intl.string(f.t.gm1Ven),onConfirm:()=>{(0,s.wX)(t.id,e.id)}})},color:"danger"})}},873699:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var i=n(255367),r=n(73800),l=n(442837),a=n(481060),o=n(668781),s=n(79390),c=n(222677),u=n(665906),d=n(496675),f=n(768581),g=n(176354),m=n(981631),p=n(388032);function h(e,t){let{reducedMotion:n}=r.useContext(a.Sfi),f=(0,u.$R)(t),g=(0,l.e7)([d.Z],()=>d.Z.can(m.Plq.MANAGE_MESSAGES,t)&&f,[t,f]),h=e.reactions.reduce((e,t)=>{var n;return(null==(n=t.count_details)?void 0:n.vote)!=null||null!=e.find(e=>null!=e.id&&e.id===t.emoji.id||e.name===t.emoji.name)?e:[...e,t.emoji]},[]),O=(n,i)=>{n.shiftKey?(0,c.$E)(t.id,e.id,i):o.Z.show({title:p.intl.string(p.t["73GqT0"]),body:p.intl.string(p.t.dmy5bm),confirmText:p.intl.string(p.t.p89ACg),cancelText:p.intl.string(p.t.gm1Ven),onConfirm:()=>{(0,c.$E)(t.id,e.id,i)}})};return!g||null==e.reactions||0===e.reactions.length||e.isPoll()&&!(0,s.eQ)(e)?null:(0,i.jsx)(a.sNh,{id:"remove-emoji-reactions",label:p.intl.string(p.t["zx/e4O"]),color:"danger",children:h.map(e=>{var t,r;return(0,i.jsx)(a.sNh,{id:"remove-emoji-reactions-".concat(null!=(t=e.name)?t:e.id),label:null==e.id?e.name:":".concat(e.name,":"),action:t=>O(t,e),icon:t=>{var r,l;return(0,i.jsx)(b,(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},t),l=l={reducedMotionEnabled:n.enabled,emoji:e},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(l)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(l,e))}),r))},dontCloseOnActionIfHoldingShiftKey:!0},null!=(r=e.name)?r:e.id)})})}function b(e){var t;let{emoji:n,reducedMotionEnabled:r,className:l="",isFocused:a=!1}=e;return(0,i.jsx)("img",{className:l,src:null!=n.id?f.ZP.getEmojiURL({id:n.id,animated:n.animated&&(!r||a),size:18}):g.ZP.getURL(null!=(t=n.name)?t:""),alt:""})}},134323:function(e,t,n){n.d(t,{Z:()=>s});var i=n(255367);n(73800);var r=n(481060),l=n(280845),a=n(996861),o=n(388032);function s(e,t){return(0,l.U)(t,e)?(0,i.jsx)(r.sNh,{id:"reply",label:o.intl.string(o.t["5IEsGx"]),icon:r.n$P,action:n=>{(0,a.HH)(t,e,n)}}):null}},429260:function(e,t,n){n.d(t,{ZP:()=>j,eH:()=>P,wY:()=>_});var i=n(255367);n(73800);var r=n(442837),l=n(704215),a=n(481060),o=n(493773),s=n(377171),c=n(432877),u=n(605236),d=n(243778),f=n(726521),g=n(993706),m=n(982168),p=n(216572),h=n(914010),b=n(594174),O=n(970257),E=n(921944),y=n(388032),v=n(130883);function j(e){let t=(0,r.e7)([h.Z],()=>h.Z.getGuildId()),n=(0,p.Q_)(t);return(0,O.a4)(e)?(0,i.jsx)(a.sNh,{id:"report",label:n?y.intl.string(y.t.n5EBAA):y.intl.string(y.t.GwbdGR),action:()=>(0,f.ak)(e,"web_message_context_menu"),icon:n?a.gw7:a.U65,color:"danger"}):null}function S(){return(0,i.jsx)(d.ZP,{contentTypes:[l.z.REPORT_TO_MOD_NEW_TAG],children:e=>{let{visibleContent:t}=e;return t===l.z.REPORT_TO_MOD_NEW_TAG?(0,i.jsx)(a.IGR,{color:s.Z.BG_BRAND,text:y.intl.string(y.t.y2b7CA)}):(0,i.jsx)(a.U65,{color:"currentColor",size:"refresh_sm"})}})}function _(e){let t=(0,r.e7)([g.Z],()=>g.Z.hasReportedMessage(e.channel_id,e.id)),n=(0,m.sP)(e);return((0,o.zq)(()=>{n&&(0,u.EW)(l.z.REPORT_TO_MOD_NEW_TAG,{dismissAction:E.L.AUTO_DISMISS})}),n)?(0,i.jsx)(a.sNh,{id:"report-to-mod",label:t?y.intl.string(v.default["8wsdnp"]):y.intl.string(v.default["1D+vq6"]),action:()=>{(0,u.EW)(l.z.REPORT_TO_MOD_NEW_TAG,{dismissAction:E.L.USER_DISMISS}),(0,f.tV)(e)},icon:(0,i.jsx)(S,{}),disabled:t}):null}function P(e){let t=(0,r.e7)([c.ZP],()=>c.ZP.get("iar_testing")),n=(0,r.e7)([b.default],()=>b.default.getCurrentUser());return(0,O.a4)(e)&&null!=n&&n.isStaff()&&t?(0,i.jsx)(a.sNh,{id:"staff-test-message-report",label:"[STAFF] Test Message Report",action:()=>(0,f.Jw)(e,"web_message_context_menu"),icon:a.U65,color:"danger"}):null}},1626:function(e,t,n){n.d(t,{Z:()=>c});var i=n(255367);n(73800);var r=n(481060),l=n(111618),a=n(730954),o=n(981631),s=n(388032);function c(e,t){return e.state!==o.yb.SEND_FAILED?null:(0,i.jsx)(r.sNh,{id:"resend",label:s.intl.string(s.t.lXHojo),action:()=>(0,a.Z)(t,e,void 0,l.Z.getOptions(e.id))})}},279329:function(e,t,n){n.d(t,{Z:()=>c});var i=n(255367);n(73800);var r=n(442837),l=n(481060),a=n(196051),o=n(441729),s=n(388032);function c(e,t){let n=(0,r.e7)([o.Z],()=>o.Z.isSpeakingMessage(t.id,e.id),[t,e]);return""===e.content?null:(0,i.jsx)(l.sNh,{id:"tts",label:n?s.intl.string(s.t.CJ30BA):s.intl.string(s.t.yGLjXF),icon:l.J2R,action:()=>n?(0,a.NB)():(0,a.LA)(t,e)})}},627938:function(e,t,n){n.d(t,{Z:()=>s});var i=n(255367);n(73800);var r=n(481060),l=n(665906),a=n(996861),o=n(388032);function s(e,t){return(0,l.NE)(t,e)?(0,i.jsx)(r.sNh,{id:"thread",label:o.intl.string(o.t.rBIGBA),icon:r.or_,action:()=>{(0,a.gK)(t,e)}}):null}},512303:function(e,t,n){n.d(t,{Z:()=>y});var i=n(255367),r=n(73800),l=n(373793),a=n(442837),o=n(481060),s=n(232567),c=n(700582),u=n(906732),d=n(592180),f=n(565138),g=n(892001),m=n(598077),p=n(592125),h=n(430824),b=n(594174),O=n(388032),E=n(274693);function y(e){var t,n,y,v;let{analyticsLocations:j}=(0,u.ZP)(),S=null==(t=e.interactionMetadata)?void 0:t.authorizing_integration_owners[l.Y.USER_INSTALL],_=null==(n=e.interactionMetadata)?void 0:n.authorizing_integration_owners[l.Y.GUILD_INSTALL],P=null==(y=e.interactionMetadata)?void 0:y.user.id,N=(0,a.e7)([b.default],()=>b.default.getUser(S)),I=(0,a.e7)([h.Z],()=>h.Z.getGuild(_)),Z=p.Z.getChannel(e.channel_id),x=null==Z?void 0:Z.getGuildId(),D=(0,a.e7)([b.default],()=>b.default.getUser(P));if(r.useEffect(()=>{null==N&&null!=S&&(0,s.PR)(S)},[N,S]),!(0,d.a)(e))return null;null==D&&(D=new m.Z(null==(v=e.interactionMetadata)?void 0:v.user));let T=null;return null!=I?T=(0,i.jsx)(o.sNh,{className:E.interactionInfoMenuItem,disabled:!0,iconLeft:()=>(0,i.jsx)(f.Z,{guild:I,size:f.Z.Sizes.MINI}),id:"integration-owner",label:I.name,subtext:O.intl.formatToPlainString(O.t.ShLXXF,{application:e.author.username})}):null!=N&&(T=(0,i.jsx)(o.sNh,{action:()=>(0,g.openUserProfileModal)({userId:N.id,guildId:x,channelId:e.channel_id,sourceAnalyticsLocations:j}),className:E.interactionInfoMenuItem,iconLeft:()=>(0,i.jsx)(c.Z,{user:N,size:o.EFr.SIZE_20}),id:"integration-owner",label:N.username,subtext:O.intl.formatToPlainString(O.t.ShLXXF,{application:e.author.username})})),(0,i.jsxs)(o.sNh,{id:"view-interaction-info",label:O.intl.string(O.t.Rjezb2),children:[T,null!=D?(0,i.jsx)(o.sNh,{action:()=>(0,g.openUserProfileModal)({userId:D.id,guildId:x,channelId:e.channel_id,sourceAnalyticsLocations:j}),className:E.interactionInfoMenuItem,iconLeft:()=>(0,i.jsx)(c.Z,{user:D,size:o.EFr.SIZE_20}),id:"interaction-user",label:D.username,subtext:O.intl.string(O.t["04gxNj"])}):null]})}},481300:function(e,t,n){n.d(t,{Z:()=>s});var i=n(255367);n(73800);var r=n(481060),l=n(991621),a=n(629710),o=n(388032);function s(e,t){let s=(0,a.rb)(e),c=null!=t&&(0,a.g4)({type:l.l.GenericMedia,media:t},s);return null!=t&&c?(0,i.jsx)(r.sNh,{id:"report-image-false-positive",label:o.intl.string(o.t.ZH7P2t),action:()=>{(0,r.ZDy)(async()=>{let{default:r}=await n(788679);return n=>(0,i.jsx)(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({channelId:e.channel_id,messageId:e.id,mediaItemUrl:t.url},n))})},icon:r.fFY},"report-image-false-positive"):null}},975368:function(e,t,n){n.d(t,{Z:()=>d}),n(997841);var i=n(255367);n(73800);var r=n(481060),l=n(296182),a=n(630388),o=n(49012),s=n(694859),c=n(981631),u=n(388032);function d(e){let t=(0,s.X)("use-save-voice-message-audio");return(0,a.yE)(e.flags,c.iLy.IS_VOICE_MESSAGE)&&t?(0,i.jsx)(r.sNh,{id:"save-voice-message-audio",label:u.intl.string(u.t.vbAEaG),icon:r._8t,action:()=>{let t=(0,l.s$)(e.attachments[0].url);(0,o.q)({href:t})}}):null}},694859:function(e,t,n){n.d(t,{X:()=>r});let i=(0,n(818083).B)({kind:"user",id:"2024-12_save_voice_message_menu_item",label:"Save voice message menu item on web",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Save voice message menu item active",config:{enabled:!0}}]});function r(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return i.useExperiment({location:e},{autoTrackExposure:t}).enabled}},36998:function(e,t,n){n.d(t,{v:()=>l});var i=n(944486),r=n(176505);function l(){var e;let t=null!=(e=i.Z.getCurrentlySelectedChannelId())?e:void 0;return null!=t&&(0,r.AB)(t)?{channel_static_route:t}:{channel_id:t}}},26737:function(e,t,n){n.d(t,{Z:()=>s});var i=n(255367);n(73800);var r=n(481060),l=n(358085),a=n(998502),o=n(388032);function s(e,t){return l.isPlatformEmbedded&&(null==e?void 0:e.length)!==0?(0,i.jsx)(r.sNh,{id:"copy",label:o.intl.string(o.t.OpuAlJ),hint:(0,l.isMac)()?"âŒ˜C":"Ctrl+C",action:()=>{a.ZP.copy(e),null==t||t.focus()}}):null}},29264:function(e,t,n){n.d(t,{Z:()=>h});var i=n(255367);n(73800);var r=n(481060),l=n(296182),a=n(976853),o=n(626135),s=n(358085),c=n(960048),u=n(998502),d=n(36998),f=n(981631),g=n(388032);function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}function p(e,t){(0,r.showToast)((0,r.createToast)(e,r.ToastType.FAILURE)),c.Z.captureException(t)}function h(e,t,n){if((0,a.Z)(null==t?void 0:t.getChannelId())||(null==n?void 0:n.shouldHideMediaOptions)===!0||!s.isPlatformEmbedded||null==e||!(0,l.gS)(e,null==n?void 0:n.contentType))return null;let c=(0,l.s$)(e,null==n?void 0:n.contentType,l.wV),h=async()=>{try{await u.ZP.saveImage(c,null==n?void 0:n.contentType,l.wV),o.default.track(f.rMx.CONTEXT_MENU_IMAGE_SAVED,m({},(0,d.v)())),(0,r.showToast)((0,r.createToast)(g.intl.string(g.t.cqpdJS),r.ToastType.SUCCESS))}catch(e){o.default.track(f.rMx.CONTEXT_MENU_IMAGE_SAVE_FAILED,m({},(0,d.v)())),p(g.intl.string(g.t["8Ve/S0"]),e)}},b=async()=>{try{await u.ZP.copyImage(c,null==n?void 0:n.contentType),o.default.track(f.rMx.CONTEXT_MENU_IMAGE_COPIED,m({},(0,d.v)())),(0,r.showToast)((0,r.createToast)(g.intl.string(g.t.bhUpvL),r.ToastType.SUCCESS))}catch(e){p(g.intl.string(g.t.PTPbj4),e),o.default.track(f.rMx.CONTEXT_MENU_IMAGE_COPY_FAILED,m({},(0,d.v)()))}};return[(0,l.Lz)(e,null==n?void 0:n.contentType)?(0,i.jsx)(r.sNh,{id:"copy-image",label:g.intl.string(g.t.tvUqWl),action:b},"copy-image"):null,(0,i.jsx)(r.sNh,{id:"save-image",label:g.intl.string(g.t.PeXhgI),action:h},"save-image")]}},905041:function(e,t,n){n.d(t,{Z:()=>b}),n(704826),n(35282),n(539854),n(388685);var i=n(255367);n(73800);var r=n(481060),l=n(296182),a=n(976853),o=n(902676),s=n(626135),c=n(49012),u=n(358085),d=n(998502),f=n(36998),g=n(981631),m=n(388032);function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}let h=/^(tel|sms|mailto):([^?;]+)/;function b(e,t,n,b){let O=(0,a.Z)(null==n?void 0:n.getChannelId());if(!u.isPlatformEmbedded||null==e||""===e||O||(null==b?void 0:b.shouldHideMediaOptions)===!0||!(0,l.Jj)(e))return null;let E=(0,o.F)(e),y=e=>{s.default.track(g.rMx.CONTEXT_MENU_LINK_COPIED,p({hostname:E},(0,f.v)())),d.ZP.copy(e),(0,r.showToast)((0,r.createToast)(m.intl.string(m.t["L/PwZW"]),r.ToastType.SUCCESS))},v=(n,i)=>{let r=!0===i?e.replace("tel:","sms:"):e;s.default.track(g.rMx.CONTEXT_MENU_LINK_OPENED,p({hostname:E},(0,f.v)())),(0,c.q)({href:r,trusted:(0,c.r)(e,t),shouldConfirm:!0},n)},j=[],S=e.match(h);if(null!=S){let e=m.intl.string("mailto"===S[1]?m.t.ZYLVKi:m.t["3zozoa"]);j.push((0,i.jsx)(r.sNh,{id:"copy-native-contact",label:e,action:()=>{y(S[2])}},"copy-native-contact")),"tel"===S[1]&&j.push((0,i.jsx)(r.sNh,{id:"native-send-sms",label:m.intl.string(m.t["+wbjMT"]),action:e=>v(e,!0)},"native-send-sms"))}return[(0,i.jsx)(r.sNh,{id:"copy-native-link",label:m.intl.string(m.t.WqhZsr),action:()=>{y(e)}},"copy-native-link"),...j,(0,i.jsx)(r.sNh,{id:"open-native-link",label:m.intl.string(m.t.wuRE8P),action:e=>v(e)},"open-native-link")]}},89013:function(e,t,n){n.d(t,{Z:()=>f});var i=n(255367),r=n(73800),l=n(512722),a=n.n(l),o=n(481060),s=n(626135),c=n(358085),u=n(981631),d=n(388032);function f(e){let t=r.useCallback(()=>{a()(null!=e,"text cannot be null"),s.default.track(u.rMx.MESSAGE_MENU_GOOGLE_SEARCHED),window.open("https://www.google.com/search?q=".concat(encodeURIComponent(e)),"_blank")},[e]);return c.isPlatformEmbedded&&null!=e&&(null==e?void 0:e.length)!==0?[(0,i.jsx)(o.sNh,{id:"search-google",label:d.intl.string(d.t["Rd/Mkp"]),action:t},"search-google")]:null}},615669:function(e,t,n){n.d(t,{Z:()=>s,z:()=>a}),n(539854);var i,r=n(442837),l=n(314897),a=((i={})[i.END_EARLY=0]="END_EARLY",i);let o=[];function s(e){let t=(0,r.e7)([l.default],()=>l.default.getId()),{poll:n}=e;if(!e.isPoll()||null==n)return o;let i=[];return n.expiry.isSameOrBefore(Date.now())||e.author.id!==t||i.push(0),i}},988500:function(e,t,n){n.d(t,{Z:()=>c});var i=n(255367);n(73800);var r=n(481060),l=n(203143),a=n(615669),o=n(388032);let s={[a.z.END_EARLY]:e=>(0,i.jsx)(r.sNh,{id:"end-poll-early",label:o.intl.string(o.t.grdwws),icon:r.e0C,action:()=>{l.Z.endPollEarly({channelId:e.channel_id,messageId:e.id})},iconProps:{color:"currentColor"}})};function c(e){let t=(0,a.Z)(e);return 0===t.length?null:(0,i.jsx)(i.Fragment,{children:t.map(t=>s[t](e))})}},84040:function(e,t,n){n.d(t,{Z:()=>u});var i=n(275726),r=n(442837),l=n(665906),a=n(695346),o=n(496675),s=n(981631),c=n(231338);let u=(e,t)=>{let n=(0,l.$R)(e),u=(0,r.e7)([o.Z],()=>(e.isPrivate()||o.Z.can(c.Pl.ADD_REACTIONS,e))&&n,[e,n]),d=(null==t?void 0:t.type)!==i.u.GUILD_INVITE_REMINDER&&e.type!==s.d4z.GUILD_ANNOUNCEMENT;return a.nc.getSetting()&&u&&d}},280845:function(e,t,n){n.d(t,{U:()=>g,o:()=>m}),n(388685);var i=n(275726),r=n(442837),l=n(71619),a=n(665906),o=n(496675),s=n(594174),c=n(981631),u=n(231338);function d(e,t,n){let r;return(e.isPrivate()?!e.isSystemDM():n.can(u.Pl.SEND_MESSAGES,e)&&n.can(u.Pl.READ_MESSAGE_HISTORY,e))&&i.V.REPLYABLE.has(t.type)}function f(e,t,n,i,r){let l=t.hasFlag(c.iLy.EPHEMERAL),a=t.state===c.yb.SENT,o=!e.isArchivedThread()||r;return n&&a&&!l&&!i&&o}function g(e,t){var n;let i=(0,a.tc)(e),[,s]=(0,l.AB)(null!=(n=null==e?void 0:e.getGuildId())?n:void 0),c=(0,r.e7)([o.Z],()=>null!=e&&null!=t&&d(e,t,o.Z));return null!=e&&null!=t&&f(e,t,c,s,i)}function m(e,t){var n;let i=(0,a.kn)(e),r=d(e,t,o.Z),c=s.default.getCurrentUser(),[,u]=(0,l.s5)(null==c?void 0:c.id,null!=(n=e.getGuildId())?n:void 0);return f(e,t,r,u,i)}},501517:function(e,t,n){n.d(t,{Z:()=>l});var i=n(544891),r=n(981631);let l={resolveFlag:e=>i.tn.post({url:r.ANM.MODERATOR_REPORT_CLOSE(e),body:{},rejectWithError:!0}),reopenModReport:e=>i.tn.put({url:r.ANM.REPORT_TO_MOD_REOPEN(e),rejectWithError:!0})}},993706:function(e,t,n){n.d(t,{Z:()=>g}),n(388685),n(467055);var i,r=n(442837),l=n(570140),a=n(914010);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s=null,c=null,u={reportedMessages:{}};function d(){let e=a.Z.getLastSelectedGuildId();e!==s&&(c=null,s=null!=e?e:null)}class f extends(i=r.ZP.PersistedStore){initialize(e){null!=e&&(u.reportedMessages=Object.fromEntries(Object.entries(e.reportedMessages).map(e=>{let[t,n]=e;return[t,new Set(n)]}))),this.syncWith([a.Z],d)}getState(){return u}isUserBanned(e){var t;return null!=(t=null==c?void 0:c.get(e))?t:null}getReportedMessages(){return u.reportedMessages}hasReportedMessage(e,t){var n,i;return null!=(i=null==(n=u.reportedMessages[e])?void 0:n.has(t))&&i}}o(f,"displayName","ReportToModStore"),o(f,"persistKey","ReportToModStore"),o(f,"migrations",[e=>{var t;return{reportedMessages:null!=(t=null==e?void 0:e.reportedMessages)?t:{}}}]);let g=new f(l.Z,{REPORT_TO_MOD_REPORT_MESSAGE_SUCCESS:function(e){let{channelId:t,messageId:n}=e;null==u.reportedMessages[t]&&(u.reportedMessages[t]=new Set),u.reportedMessages[t].add(n)},GUILD_BAN_ADD:function(e){let{user:t,guildId:n}=e;n===s&&null!=c&&c.set(t.id,!0)},GUILD_BAN_REMOVE:function(e){let{user:t,guildId:n}=e;n===s&&null!=c&&c.set(t.id,!1)},GUILD_SETTINGS_LOADED_BANS_BATCH:function(e){let{bans:t,guildId:n,userIds:i}=e;if(n!==s)return;let r=new Set(t.map(e=>{var t;return null==(t=e.user)?void 0:t.id})),l=Array.from(new Set(null!=i?i:[])).filter(e=>!r.has(e));null==c&&(c=new Map),r.forEach(e=>{null==c||c.set(e,!0)}),l.forEach(e=>{null==c||c.set(e,!1)})},LOGOUT:function(){s=null,c=null,u.reportedMessages={}}})},550727:function(e,t,n){n.d(t,{B:()=>a});var i=n(913527),r=n.n(i),l=n(388032);let a=[{getDueAt:()=>r()().add(30,"minutes").toDate(),getLabel:()=>l.intl.string(l.t["OV8l/P"])},{getDueAt:()=>r()().add(1,"hour").toDate(),getLabel:()=>l.intl.string(l.t["zf0R+/"])},{getDueAt:()=>r()().add(4,"hour").toDate(),getLabel:()=>l.intl.string(l.t["5gztZG"])},{getDueAt:()=>r()().add(1,"day").startOf("day").add(9,"hours").toDate(),getLabel:()=>l.intl.string(l.t["7MKr2N"])},{getDueAt:()=>r()().day(8).startOf("day").add(9,"hours").toDate(),getLabel:()=>l.intl.string(l.t["q+Ls09"])}]},898150:function(e,t,n){n.d(t,{MessageReminderEditMenu:()=>d,r:()=>u}),n(539854);var i=n(255367),r=n(73800),l=n(481060),a=n(239091),o=n(324701),s=n(550727),c=n(388032);function u(e){let{createReminder:t}=e,a=r.useCallback(()=>{(0,l.ZDy)(async()=>{let{default:e}=await n.e("43866").then(n.bind(n,423639));return n=>{var r,l;return(0,i.jsx)(e,(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},n),l=l={createReminder:t},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(l)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(l,e))}),r))}})},[t]);return r.useMemo(()=>{let e=s.B.map(e=>{let{getDueAt:n,getLabel:r}=e;return(0,i.jsx)(l.sNh,{id:"create-reminder-".concat(r()),label:r(),action:()=>t(n())},"create-reminder-".concat(r()))});return e.push((0,i.jsx)(l.sNh,{id:"create-reminder-custom",label:c.intl.string(c.t.OLA8Zm),action:a},"custom")),e},[t,a])}function d(e){let{message:t,label:n}=e,r=u({createReminder:e=>(0,o.z)({channelId:t.channel_id,messageId:t.id,dueAt:e})});return(0,i.jsx)(l.v2r,{navId:"message-reminder-create",onClose:a.Zy,"aria-label":c.intl.string(c.t.mJ3P0N),onSelect:()=>null,children:(0,i.jsx)(l.kSQ,{label:n,children:r})})}},624453:function(e,t,n){n.d(t,{M:()=>y,Z:()=>P}),n(388685),n(290780);var i,r,l,a,o=n(392711),s=n.n(o),c=n(442837),u=n(570140),d=n(247206),f=n(786761),g=n(706454),m=n(592125),p=n(271383),h=n(430824),b=n(375954),O=n(699516),E=n(594174),y=((r={}).LOADING="LOADING",r.LOADED_HAS_MORE="LOADED_HAS_MORE",r.LOADED_FINISHED="LOADING_FINISHED",r.FAILED="FAILED",r);let v={};function j(e){let{channel:t}=e;delete v[t.id]}function S(){s().forEach(v,e=>{e.items.forEach(e=>{let{message:t}=e;t.set("blocked",O.Z.isBlockedForMessage(t)),t.set("ignored",O.Z.isIgnoredForMessage(t))}),e.items=e.items.slice()})}class _ extends(i=c.ZP.Store){initialize(){this.waitFor(m.Z,h.Z,p.ZP,b.Z,E.default,g.default)}getPins(e){return v[e]}}a="ChannelPinsStore",(l="displayName")in _?Object.defineProperty(_,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):_[l]=a;let P=new _(u.Z,{CONNECTION_OPEN:function(){v={}},LOAD_PINNED_MESSAGES:function(e){var t,n;let{channelId:i,reset:r}=e;if(!r&&null!=v[i]){v[i].state="LOADING";return}let l=null!=(n=null==(t=m.Z.getChannel(i))?void 0:t.getGuildId())?n:void 0;v[i]={id:i,items:[],state:"LOADING",guildId:l}},LOAD_PINNED_MESSAGES_SUCCESS:function(e){let{channelId:t,pins:n,hasMore:i}=e,r=v[t];if(null==r)return!1;let l=n.map(e=>{let{pinned_at:t,message:n}=e;return{pinnedAt:new Date(Date.parse(t)),message:(0,f.e5)(n)}});r.items=[...r.items,...l],r.state=i?"LOADED_HAS_MORE":"LOADING_FINISHED"},LOAD_PINNED_MESSAGES_FAILURE:function(e){let{channelId:t}=e,n=v[t];if(null==n)return!1;n.state="FAILED"},CHANNEL_DELETE:j,THREAD_DELETE:j,GUILD_DELETE:function(e){let{guild:t}=e;v=s()(v).filter(e=>e.guildId!==t.id).keyBy("id").value()},MESSAGE_DELETE:function(e){let{id:t,channelId:n}=e,i=v[n];if(null==i||0===s().remove(i.items,e=>{let{message:n}=e;return n.id===t}).length)return!1;i.items=i.items.slice(),v[n]=i},MESSAGE_DELETE_BULK:function(e){let{ids:t,channelId:n}=e,i=v[n];if(null==i)return!1;i.items=i.items.filter(e=>{let{message:n}=e;return!t.includes(n.id)})},MESSAGE_UPDATE:function(e){let t=e.message.id,n=e.message.channel_id;if(null==n)return!1;let i=v[n];if(null==i)return!1;if(null==e.message.author){let r=s().findIndex(i.items,e=>{let{message:n}=e;return n.id===t});if(-1===r)return;let{pinnedAt:l,message:a}=i.items[r],o=(0,f.wi)(a,e.message);if(o!==a){let e=i.items.slice();e[r]={pinnedAt:l,message:o},v[n].items=e}return}if(e.message.pinned){i.items=i.items.slice();let n=s().findIndex(i.items,e=>{let{message:n}=e;return n.id===t});-1===n?i.items.unshift({message:(0,f.e5)(e.message),pinnedAt:new Date}):i.items[n].message=(0,f.wi)(i.items[n].message,e.message);return}let r=s().findIndex(i.items,e=>{let{message:n}=e;return n.id===t});if(-1===r)return!1;i.items=i.items.slice(),i.items.splice(r,1)},RELATIONSHIP_ADD:S,RELATIONSHIP_REMOVE:S,RELATIONSHIP_UPDATE:S,MESSAGE_EXPLICIT_CONTENT_SCAN_TIMEOUT:function(e){let{messageId:t,channelId:n}=e,i=v[n];if(null==i)return!1;let r=s().findIndex(i.items,e=>{let{message:n}=e;return n.id===t});if(-1===r)return!1;i.items=i.items.slice(),i.items[r].message=(0,d.Cm)(i.items[r].message)}})}}]);
//# sourceMappingURL=ff0927b35caa8588.js.map