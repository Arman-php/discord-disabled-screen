"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["1272"],{863181:function(e){e.exports="/assets/30a680768c7a9813.svg"},442519:function(e){e.exports="/assets/66d9417d99573939.svg"},466389:function(e){e.exports="/assets/eaaec668caed688e.svg"},943935:function(e){e.exports="/assets/ab63b30e9bc8855c.svg"},356634:function(e){e.exports="/assets/5800882047a89a6a.svg"},459505:function(e){e.exports="/assets/1db388f3c58dbb7d.svg"},67764:function(e){e.exports="/assets/d44b0727db0c5052.svg"},900933:function(e){e.exports="/assets/d7b6acd15c57ef27.svg"},917847:function(e){e.exports="/assets/390f0abb99b8c8a1.svg"},55346:function(e){e.exports="/assets/f81f7017b15478cc.svg"},138715:function(e){e.exports="/assets/4e11cf8e80a816c6.svg"},979770:function(e){e.exports="/assets/a09cfd7678b20f8c.svg"},349181:function(e){e.exports="/assets/25c27c1328c986f6.svg"},755386:function(e){e.exports="/assets/c47298d5d6eac3b2.svg"},589148:function(e){e.exports="/assets/f59ed15bef9f5c18.svg"},511189:function(e){e.exports="/assets/5cc728db4badfc0e.svg"},510342:function(e){e.exports="/assets/74690dbe995fcda0.svg"},211827:function(e){e.exports="/assets/58188da2d047938e.svg"},497726:function(e){e.exports="/assets/9f7360ed1fb65a5a.svg"},839999:function(e){e.exports="/assets/148cf7732ca0f3d8.svg"},127869:function(e){e.exports="/assets/95e823d78e994238.svg"},571472:function(e){e.exports="/assets/cf6d121495d60751.svg"},241626:function(e){e.exports="/assets/9b7fadd75ade640d.svg"},932478:function(e){e.exports="/assets/1b763dab67be227b.svg"},498973:function(e){e.exports="/assets/625f813befac2f1e.svg"},592859:function(e){e.exports="/assets/9daa18150ba7418f.svg"},837758:function(e){e.exports="/assets/27ff09832b8a5062.svg"},239660:function(e){e.exports="/assets/4613be06562668a7.svg"},846064:function(e){e.exports="/assets/fc451c7fd580b692.svg"},156834:function(e){e.exports="/assets/0129c482e263a9bf.svg"},895101:function(e){e.exports="/assets/23cd3d91b54c025b.svg"},686969:function(e){e.exports="/assets/3ad9c67e984da7ef.svg"},238173:function(e){e.exports="/assets/d71b4a11b638071e.svg"},468042:function(e){e.exports="/assets/555f2e7a9e2a3ba6.svg"},251458:function(e){e.exports="/assets/838c728f09c1c921.svg"},157476:function(e){e.exports="/assets/061504eb3d226883.png"},420569:function(e){e.exports="/assets/f7ead7c3a969ed19.png"},837753:function(e){e.exports="/assets/6b450d698584e501.svg"},968153:function(e){e.exports="/assets/c4cc60770e7dcef2.svg"},741160:function(e){e.exports="/assets/5f193fca1275dd5b.png"},829972:function(e){e.exports="/assets/323d7001427dbb82.svg"},31932:function(e){e.exports="/assets/ab506c0744811f37.svg"},930128:function(e){e.exports="/assets/d611c6cf03ca4eff.svg"},882977:function(e){e.exports="/assets/0b9061ca8185c832.svg"},297806:function(e){e.exports="/assets/5ff66aff7c573955.svg"},642301:function(e){e.exports="/assets/6657820fc2640a40.png"},146714:function(e){e.exports="/assets/2c647a351877be20.svg"},659429:function(e,t,n){n.d(t,{$:()=>o});var r=n(544891),i=n(570140),l=n(34756),a=n(981631);async function o(e){i.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_START",applicationId:e});try{let t=(await r.tn.get({url:a.ANM.APPLICATION_ACTIVITY_STATISTICS(e),oldFormErrors:!0,rejectWithError:!1})).body;return i.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS",statistics:t,applicationId:e}),t}catch(t){throw i.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL",applicationId:e}),new l.Z(t)}}},930118:function(e,t,n){n.d(t,{Y:()=>i});var r=n(570140);function i(e){r.Z.wait(()=>r.Z.dispatch({type:"APPLICATION_STORE_LOCATION_CHANGE",location:e}))}},120960:function(e,t,n){n.d(t,{N:()=>i});var r=n(570140);function i(e,t){r.Z.dispatch({type:"CERTIFIED_DEVICES_SET",applicationId:e,devices:t})}},949389:function(e,t,n){n.d(t,{GO:()=>i,K7:()=>l,xm:()=>a});var r=n(570140);function i(e){r.Z.dispatch({type:"BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS",guildId:e})}function l(e){r.Z.dispatch({type:"PUBLIC_UPSELL_NOTICE_DISMISS",guildId:e})}function a(e){r.Z.dispatch({type:"MAX_MEMBER_COUNT_NOTICE_DISMISS",guildId:e})}},943094:function(e,t,n){n.d(t,{W:()=>o});var r=n(481060),i=n(812206),l=n(710845),a=n(51025);function o(e,t,o){!function(e,t){let a=i.Z.getApplication(e);if(null==a)return new l.Z("DispatchUninstallActionCreators").log("Application not found for game ".concat(e));(0,r.ZDy)(async()=>{let{default:e}=await n.e("70061").then(n.bind(n,764998));return n=>e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({game:a,onConfirmUninstall:t},n))})}(e,()=>(0,a.pC)(e,t,o))}},287259:function(e,t,n){n.d(t,{JZ:()=>l,fS:()=>i,wX:()=>a});var r=n(570140);function i(e,t){r.Z.dispatch({type:"LIBRARY_TABLE_SORT_UPDATE",key:e,direction:t})}function l(e){r.Z.dispatch({type:"LIBRARY_APPLICATION_FILTER_UPDATE",query:e})}function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.Z.dispatch({type:"LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE",key:e,isKeyboardEvent:t})}},325432:function(e,t,n){n.d(t,{RY:()=>l,Tb:()=>o,ec:()=>s,iD:()=>a}),n(388685);var r=n(570140),i=n(830168);function l(e){i.Z.queryDirectory(e,(t,n)=>{null==t&&null!=n&&r.Z.dispatch({type:"INSTALLATION_LOCATION_ADD",path:e,metadata:n})})}function a(e){r.Z.dispatch({type:"INSTALLATION_LOCATION_REMOVE",path:e})}function o(e,t){let{label:n,isDefault:i}=t;r.Z.dispatch({type:"INSTALLATION_LOCATION_UPDATE",path:e,label:n,isDefault:i})}function s(e){let t={},n=0;for(let l of e)null!=l&&"string"==typeof l&&i.Z.queryDirectory(l,(i,a)=>{++n,null==i&&null!=a&&(t[l]=a),n===e.length&&r.Z.dispatch({type:"INSTALLATION_LOCATION_FETCH_METADATA",metadataPayload:t})})}},115849:function(e,t,n){n.d(t,{Z:()=>T}),n(388685),n(781311),n(35282);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(481060),u=n(194359),d=n(313201),p=n(540059),h=n(657682),f=n(981631),g=n(420212),m=n(388032),b=n(28898),_=n(20493);function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let y=n(349181),I={canSend:!1,hint:null,success:null,error:null},v=(0,d.hQ)(),C="".concat(v,"-decription"),S="".concat(v,"-error");function N(e,t){switch(t.type){case"RESET":return I;case"SUCCESS":return O(E({},I),{success:t.text});case"HINT":return O(E({},I),{canSend:!0,hint:t.text});case"ERROR":return O(E({},e),{canSend:!0,error:t.text})}}function T(e){let{placeholder:t=m.intl.string(m.t["Rn/sLi"])}=e,n=i.useRef(null),l=i.useRef(null),[o,d]=i.useReducer(N,I),{canSend:E,hint:O,success:T,error:P}=o,j=(0,p.Q3)("AddFriendInput");return i.useEffect(()=>{null!=T&&(s()(null!=n.current,"Input is submitting when not mounted"),n.current.value="",n.current.focus())},[T,n]),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s()(null!=n.current,"Input is submitted when not mounted");let t=n.current.value.trim();!t.includes("#")&&t.startsWith("@")&&(t=t.substring(1));let r=(0,h.Zy)(t);if(null!=r)return void d({type:"ERROR",text:r});u.Z.sendRequest({discordTag:t,context:{location:"Add Friend"}}).then(()=>d({type:"SUCCESS",text:m.intl.format(m.t.Rtl1Eh,{discordTag:t})}),e=>{var n;return d({type:"ERROR",text:(0,h.NF)(null==(n=e.body)?void 0:n.code,t)})})},autoComplete:"off",children:[(0,r.jsxs)("div",{className:b.addFriendWumpusWrapper,children:[(0,r.jsx)(c.R94,{id:C,type:c.R94.Types.DESCRIPTION,children:(0,r.jsx)(c.Text,{tag:"div",variant:"heading-md/normal",children:m.intl.string(m.t["Rn/sLi"])})}),j?(0,r.jsx)("img",{src:y,alt:"Wumpus Waving"}):null]}),(0,r.jsx)(c.tEY,{focusTarget:n,ringTarget:l,ringClassName:b.ring,children:(0,r.jsxs)("div",{ref:l,className:a()(b.addFriendInputWrapper,{[b.success]:T,[b.error]:P}),children:[(0,r.jsx)(c.oil,{id:v,inputRef:n,className:b.addFriendInput,inputClassName:b.input,onKeyPress:e=>{let t=e.currentTarget.value;if(e.key!==g.mR.Enter&&t.includes("#")){s()(null!=n.current,"Input is handling keypress when not mounted");let r=t.indexOf("#"),i=n.current.selectionStart,l=e.key===g.mR.Backspace||e.key===g.mR.ArrowRight||e.key===g.mR.ArrowLeft,a=e.which>=48&&e.which<=57;null!=i&&i>r&&/^(.+?#\d{4})$/.test(t)&&!l?e.preventDefault():null==i||!(i>r)||a||l||e.preventDefault()}},onChange:e=>{if(e.length<=0)return void d({type:"RESET"});let t="",[,n]=e.split("#");null!=n&&(t=e+f.LYt.slice(null!=n?n.length+1:0)),d({type:"HINT",text:t})},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-form-type":"other","data-lpignore":!0,"data-1p-ignore":!0,placeholder:t,"aria-label":t,"aria-invalid":null!=P||void 0,"aria-describedby":null!=P?S:C}),null!=O&&(0,r.jsx)("div",{className:b.addFriendHint,"aria-hidden":!0,children:O}),(0,r.jsx)(c.zxk,{size:c.zxk.Sizes.SMALL,disabled:!E,type:"submit",children:m.intl.string(m.t["PMsq/f"])})]})}),null!=P&&(0,r.jsx)(c.R94,{role:"alert",id:S,type:c.R94.Types.ERROR,className:_.marginTop8,children:P}),null!=T&&(0,r.jsx)(c.R94,{role:"status",type:c.R94.Types.SUCCESS,className:_.marginTop8,children:T})]})}},374005:function(e,t,n){n.d(t,{b:()=>I});var r=n(255367),i=n(73800),l=n(708816),a=n(393238),o=n(100527),s=n(906732),c=n(540059),u=n(720734),d=n(840780),p=n(235555),h=n(746508),f=n(210724),g=n(905423),m=n(316173),b=n(410575),_=n(981631),E=n(388032),O=n(128654);function y(e){var t,n;let{analyticsLocations:i}=(0,s.ZP)(o.Z.ACTIVITY_PANEL),l=(0,g.Z)(e=>{let{guildId:t}=e;return t});return(0,r.jsx)(s.Gt,{value:i,children:(0,r.jsx)(d.Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={guildId:l},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})}let I=i.memo(function(){let e=(0,c.Q3)("AppPanels"),t=i.useRef(null);return(0,a.PM)(t,e=>{let{height:t}=e;document.body.style.setProperty("--custom-app-panels-height","".concat(t,"px"))},[]),(0,r.jsx)("section",{ref:t,className:O.panels,"aria-label":E.intl.string(E.t.StREWF),children:(0,r.jsxs)(l.Jc,{containerRef:t,children:[e&&(0,r.jsx)(m.Z,{}),(0,r.jsx)(f.Z,{}),(0,r.jsx)(p.Z,{}),(0,r.jsx)(b.Z,{section:_.jXE.ACTIVITY_PANEL,children:(0,r.jsx)(y,{className:O.activityPanel})}),(0,r.jsx)(b.Z,{section:_.jXE.RTC_CONNECTION_PANEL,children:(0,r.jsx)(h.Z,{})}),(0,r.jsx)(b.Z,{section:_.jXE.ACCOUNT_PANEL,children:(0,r.jsx)(u.Z,{})})]})})})},176299:function(e,t,n){n.d(t,{Z:()=>e3}),n(35282),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(593473),s=n(114858),c=n(990547),u=n(608787),d=n(873546),p=n(442837),h=n(433517),f=n(481060),g=n(773244),m=n(711237),b=n(532835),_=n(347469),E=n(169382),O=n(290297),y=n(244317),I=n(765717),v=n(358221),C=n(823748),S=n(626421),N=n(118379),T=n(267161),P=n(652515),j=n(544978),A=n(540059),Z=n(724383),x=n(135864),L=n(372900),w=n(6039),R=n(637853),D=n(326145),k=n(269675),M=n(242601),U=n(416568),G=n(613609),V=n(160404),B=n(225675),H=n(927723),F=n(745052),z=n(285865),W=n(659971),Y=n(821020),K=n(147341),q=n(82409),Q=n(664608),X=n(270759),J=n(918701),$=n(982168),ee=n(905423),et=n(304445),en=n(893607),er=n(703656),ei=n(210887),el=n(592125),ea=n(896797),eo=n(271383),es=n(430824),ec=n(944486),eu=n(933429),ed=n(626135),ep=n(823379),eh=n(709054),ef=n(374005),eg=n(409292),em=n(316173),eb=n(256638),e_=n(663701),eE=n(697309),eO=n(425369),ey=n(715702),eI=n(981631),ev=n(176505),eC=n(215023),eS=n(290511),eN=n(186901),eT=n(128654);function eP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function ej(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let eA=(0,u.Un)({createPromise:()=>Promise.resolve().then(n.bind(n,267161)),webpackId:267161}),eZ=()=>(0,r.jsx)("div",{className:eT.loader,children:(0,r.jsx)(f.$jN,{})}),ex=(0,u.Un)({createPromise:()=>n.e("78431").then(n.bind(n,650788)),webpackId:650788,name:"GuildShopPage",renderLoader:eZ}),eL=(0,u.Un)({createPromise:()=>n.e("12009").then(n.bind(n,231588)),webpackId:231588,name:"GuildHomePage",renderLoader:eZ}),ew=(0,u.Un)({createPromise:()=>Promise.all([n.e("6850"),n.e("9924")]).then(n.bind(n,545918)),webpackId:545918,name:"MemberSafetyPage",renderLoader:eZ}),eR=(0,u.Un)({createPromise:()=>Promise.all([n.e("44156"),n.e("58227"),n.e("58121")]).then(n.bind(n,603072)),webpackId:603072,name:"ChannelsAndRolesPage",renderLoader:eZ}),eD=(0,u.Un)({createPromise:()=>Promise.all([n.e("44156"),n.e("19878"),n.e("37709")]).then(n.bind(n,599263)),webpackId:599263,name:"GuildOnboardingPage",renderLoader:eZ}),ek=(0,u.Un)({createPromise:()=>n.e("44799").then(n.bind(n,393357)),webpackId:393357,name:"GuildPowerupsPage",renderLoader:eZ}),eM=e=>{let{match:t}=e,n=(0,E.l)(),i=(0,p.e7)([el.Z,ec.Z],()=>{let e=ec.Z.getChannelId();return el.Z.getChannel(e)}),{guildId:l,channelId:a,messageId:o,threadId:c}=t.params,u=(0,p.e7)([es.Z],()=>es.Z.getGuild(l)),d=(0,p.e7)([eo.ZP],()=>null==l?null:eo.ZP.getSelfMember(l)),h=(0,p.e7)([V.Z],()=>{if(null==l)return;let e=V.Z.getData(l);if((null==e?void 0:e.type)===B.z.SERVER_SHOP)switch(e.initialTab){case"role_subscriptions":return j.y.GUILD_ROLE_SUBSCRIPTIONS;case"guild_products":return j.y.GUILD_PRODUCTS;default:return}});(0,$.WF)(a)&&(0,$.WF)(c)||((0,er.uL)(eI.Z5c.CHANNEL(null==u?void 0:u.id,null==u?void 0:u.getModeratorReportChannelId())),(0,H.V)());let f=(0,P.C4)(l,"channel_renderer");if(null!=l&&null!=a&&(0,ev.AB)(a))switch(a){case ev.oC.ROLE_SUBSCRIPTIONS:return f?(0,r.jsx)(ex,{guildId:l,initialTab:j.y.GUILD_ROLE_SUBSCRIPTIONS}):(0,r.jsx)(k.Z,{guildId:l});case ev.oC.GUILD_SHOP:return(0,r.jsx)(ex,{guildId:l,productId:o,initialTab:h});case ev.oC.MEMBER_APPLICATIONS:return(0,r.jsx)(s.l_,{to:eI.Z5c.CHANNEL(l,ev.oC.MEMBER_SAFETY)});case ev.oC.GUILD_HOME:return(0,r.jsx)(eL,{guildId:l});case ev.oC.CHANNEL_BROWSER:return(0,r.jsx)(eR,{guildId:l,selectedSection:eS.l7.BROWSE});case ev.oC.GUILD_ONBOARDING:return(0,r.jsx)(eD,{guildId:l});case ev.oC.CUSTOMIZE_COMMUNITY:return(0,r.jsx)(eR,{guildId:l,selectedSection:eS.l7.CUSTOMIZE});case ev.oC.MEMBER_SAFETY:return(0,r.jsx)(ew,{guildId:l});case ev.oC.GUILD_BOOSTS:return(0,r.jsx)(ek,{guildId:l,powerupSkuId:n.get("powerupSkuId")});case ev.oC.REPORT_TO_MOD:return(0,r.jsx)(C.Z,{});default:(0,ep.vE)(a)}if((0,R.p3)(u,d))return(0,r.jsx)(D.Z,{guildId:l,channelId:a});if((null==i?void 0:i.type)===eI.d4z.GUILD_STORE){let e=eh.default.cast(t.params.messageId);return(0,r.jsx)(eg.Z,{channel:i,inputSkuId:e},i.id)}return(0,r.jsx)(C.Z,{})},eU=i.memo(function(){let{guildId:e,channelId:t}=(0,ee.Z)(),{notificationCenterVariant:n}=Y.L.useExperiment({location:"Sidebar"}),i=(0,p.e7)([ec.Z],()=>null!=t?t:ec.Z.getChannelId(e));return window.location.pathname.startsWith(eI.Z5c.NOTIFICATIONS_INBOX())?("sidebar"!==n&&(0,er.dL)(ea.Z.defaultRoute),(0,r.jsx)(q.Z,{includePanelSpacing:!0})):window.location.pathname.startsWith(eI.Z5c.GLOBAL_DISCOVERY)||window.location.pathname.startsWith(eI.Z5c.GUILD_DISCOVERY)||(0,J.OG)()?(0,r.jsx)(x.Z,{}):null!=e?(0,r.jsx)(M.Z,{selectedChannelId:i,guildId:e},e):(0,r.jsx)(e_.Z,{})}),eG=e=>(0,r.jsx)(eM,eP({},e)),eV=()=>(0,r.jsx)(Z.Z,{}),eB=e=>null!=e.match.params.channelId?eG(e):(0,r.jsx)(K.Z,{}),eH=e=>{let{match:t}=e;return null!=t.params.guildId?(0,r.jsx)(w.Z,{guildId:t.params.guildId}):null},eF=e=>{let{match:t}=e;return null!=t.params.guildId?(0,r.jsx)(G.Z,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},ez=()=>(0,r.jsx)(eO.Z,{}),eW=()=>(0,r.jsx)(ey.Z,{}),eY=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){let{tab:n}=(0,o.parse)(t.location.search);return Object.values(eC.AW).includes(n)?(0,r.jsx)(N.Z,eP({isFullScreen:e,tab:n},t)):(0,r.jsx)(N.Z,eP({isFullScreen:e},t))}},eK=e=>(0,r.jsx)(y.Z,eP({},e)),eq=()=>(0,r.jsx)(X.Z,{}),eQ=()=>(0,r.jsx)(F.Z,{}),eX=()=>(0,r.jsx)(Q.Z,{}),eJ=e=>{let{match:t}=e;switch(t.params.feature){case"friends":return(0,r.jsx)(X.Z,{initialSection:eI.pJs.ONLINE});case"addFriends":return(0,r.jsx)(X.Z,{initialSection:eI.pJs.ADD_FRIEND});case"pendingFriends":return(0,r.jsx)(X.Z,{initialSection:eI.pJs.PENDING});case"sessionManagement":return(0,r.jsx)(s.l_,{to:eI.Z5c.SETTINGS("sessions")});case"connections":return(0,r.jsx)(s.l_,{to:{pathname:eI.Z5c.SETTINGS("connections"),search:e.location.search}});case"family-center":return(0,r.jsx)(s.l_,{to:eI.Z5c.FAMILY_CENTER});case"account-standing":return(0,r.jsx)(s.l_,{to:eI.Z5c.SETTINGS("account","account-standing")});case"authorized-apps":return(0,r.jsx)(s.l_,{to:eI.Z5c.SETTINGS("authorized-apps")});case"open-shop":return(0,r.jsx)(s.l_,{to:eI.Z5c.COLLECTIBLES_SHOP_FULLSCREEN});case"editProfile":return(0,r.jsx)(s.l_,{to:{pathname:eI.Z5c.SETTINGS("profile-customization")}});case"gift":case"store":return(0,r.jsx)(s.l_,{to:{pathname:eI.Z5c.NITRO_HOME}});case"connected-games":return(0,r.jsx)(s.l_,{to:eI.Z5c.SETTINGS("content-and-social","connected-games")});case"boost":let n=t.params.guildId;return(0,r.jsx)(s.l_,{to:eI.Z5c.POWERUP_STORE(n)});case"boost-settings":return(0,r.jsx)(s.l_,{to:eI.Z5c.SETTINGS("guild-boosting")});default:return(0,r.jsx)(s.l_,{to:eI.Z5c.ME})}},e$=e=>{let t=e.location.pathname;return(0,r.jsx)(g.Z,{deepLinkType:eN.jE.FEATURES,path:t,children:eJ(e)})};function e0(e){document.body.style.setProperty("--custom-guild-sidebar-width","".concat(e,"px"))}function e1(e){let{hasNotice:t,sidebarTheme:n,hideSidebar:l,hideChannelList:o,isSidebarOpen:s,isOnFullScreenCollectiblesShopRoute:c}=e;(0,b.t)(!0);let u="app view user trigger debugging";m.R6.useExperiment({location:u},{autoTrackExposure:!1}),m.R6.trackExposure({location:u});let g=(0,p.e7)([v.Z],()=>v.Z.isFullscreenInContext()),E=(0,A.TH)("ChannelSidebar"),O=(0,A.Q3)("ChannelSidebar"),y=(0,T.useAppSidebarState)(e=>!e.isOpen)&&E;i.useLayoutEffect(()=>{if(E){var e;let t=parseInt(null!=(e=h.K.get(eE.nT))?e:"");Number.isNaN(t)&&(t=eE.qO),t=Math.min(Math.max(t,eE.li),eE.zx),!E&&t<=eE.p8&&(t=eE.qO),e0(t);let n=e=>{e.metaKey&&"b"===e.key&&T.useAppSidebarState.setState(e=>({isOpen:!e.isOpen}))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}}},[E]),i.useLayoutEffect(()=>{if(y)e0(eE.p8);else{var e;let t=parseInt(null!=(e=h.K.get(eE.nT))?e:"");Number.isNaN(t)&&(t=eE.qO),e0(t)}},[y]);let I=i.useRef(null),C=i.useCallback((e,t)=>{var n;e0(e);let r=t<eE.li/3;t<=eE.li?document.body.classList.add(eT.draggingMin):document.body.classList.remove(eT.draggingMin),t>=eE.zx?document.body.classList.add(eT.draggingMax):document.body.classList.remove(eT.draggingMax);let i=t-e;null==(n=I.current)||n.style.setProperty("--custom-overdrag","".concat(1+Math.min(Math.abs(i/eE.p8),.25))),E&&(T.useAppSidebarState.setState({isOpen:!r}),r&&e0(eE.p8))},[E]),S=i.useCallback(()=>{document.body.classList.add(eT.dragging)},[]),N=i.useCallback(e=>{var t;document.body.classList.remove(eT.dragging),document.body.classList.remove(eT.draggingMin),document.body.classList.remove(eT.draggingMax),document.body.classList.remove(eT.collapsing),null==(t=I.current)||t.style.setProperty("--custom-overdrag","0px"),h.K.set(eE.nT,e),ed.default.track(eI.rMx.CHANNEL_SIDEBAR_RESIZED,{width:e})},[]),P=(0,_.Z)({minDimension:eE.li,maxDimension:eE.zx,resizableDomNodeRef:I,onElementResize:C,onElementResizeStart:S,onElementResizeEnd:N,orientation:_.y.HORIZONTAL_RIGHT,throttleDuration:0}),j=i.useCallback(()=>{T.useAppSidebarState.setState(e=>({isOpen:!e.isOpen}))},[]);if(i.useLayoutEffect(()=>{y&&e0(eE.p8)},[y]),l||!O&&o)return null;let Z=O?"div":i.Fragment,x=O?{className:a()(eT.sidebarList,{[eT.sidebarListRounded]:!t})}:{};return(0,r.jsx)(f.f6W,{theme:n,children:e=>(0,r.jsxs)("div",{ref:O?I:void 0,"data-collapsed":y,className:a()(eT.sidebar,e,{[eT.fullWidth]:d.tq,[eT.hidden]:g,[eT.channelListHidden]:o}),children:[O&&s&&!c&&(0,r.jsx)(U.Z,{className:eT.guilds,themeOverride:n}),!o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z,ej(eP({},x),{children:(0,r.jsx)(eU,{})})),O?(0,r.jsx)(f.P3F,{onClick:j,"aria-label":"Resize Sidebar",className:eT.sidebarResizeHandle,onMouseDown:P}):null,(0,r.jsx)(ef.b,{})]}),!O&&(0,r.jsx)(em.Z,{})]})})}function e3(){var e;let t=(0,p.e7)([eu.ZP],()=>eu.ZP.hasNotice()),n=(0,p.e7)([ei.Z],()=>ei.Z.darkSidebar?eI.BRd.DARK:void 0),l=function(){let[e,t]=i.useState(()=>window.location.pathname.startsWith(eI.Z5c.GUILD_MEMBER_VERIFICATION("")));return i.useEffect(()=>et.Z.addRouteChangeListener(e=>{t(e.pathname.startsWith(eI.Z5c.GUILD_MEMBER_VERIFICATION("")))}),[]),e}(),a=function(){let[e,t]=i.useState(()=>window.location.pathname.startsWith(eI.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")));return i.useEffect(()=>et.Z.addRouteChangeListener(e=>{t(e.pathname.startsWith(eI.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}),[]),e}(),o=function(){var e;let t=(0,s.TH)();return(null==(e=(0,s.LX)(t.pathname,eI.Z5c.GUILD_BOOSTING_MARKETING(en.Hw.guildId())))?void 0:e.isExact)===!0}(),u=function(){var e;let t=(0,s.TH)();return(null==(e=(0,s.LX)(t.pathname,eI.Z5c.COLLECTIBLES_SHOP_FULLSCREEN))?void 0:e.isExact)===!0}(),h=(0,p.e7)([W.Z],()=>W.Z.getIsOpen()),{notificationCenterVariant:f}=Y.L.useExperiment({location:"Sidebar"}),g=(0,s.$B)([eI.Z5c.CHANNEL(eI.ME,en.Hw.channelId()),eI.Z5c.CHANNEL(en.Hw.guildId(),en.Hw.channelId({optional:!0}),":messageId?")]),m=(null==g||null==(e=g.params)?void 0:e.channelId)===ev.oC.GUILD_ONBOARDING,b=l||a||o||u||m,_=i.useCallback(()=>z.Z.openSidebar(),[]),E=(0,A.Q3)("AppView"),y=(0,A.TH)("AppView"),C=E?"div":i.Fragment,N=(0,T.useAppSidebarState)(e=>!e.isOpen),P=(0,p.e7)([v.Z],()=>v.Z.isFullscreenInContext()),j=E?{className:eT.page,"data-collapsed":!!y&&N}:{};return(0,r.jsxs)("div",{className:eT.container,children:[h&&!u&&!E&&(0,r.jsx)(U.Z,{className:eT.guilds,themeOverride:n}),(0,r.jsx)(L.Z.Provider,{value:(null==g?void 0:g.params.guildId)===eI.ME||null==g?void 0:g.params.guildId,children:(0,r.jsxs)("div",{className:eT.base,"data-fullscreen":P,children:[E&&!P&&(0,r.jsx)(eA,{}),d.tq?null:(0,r.jsx)(eb.Z,{}),(0,r.jsxs)("div",{className:eT.content,children:[(0,r.jsx)(S.Z,{}),(0,r.jsx)(e1,{isOnFullScreenCollectiblesShopRoute:u,isSidebarOpen:h,hasNotice:t,sidebarTheme:n,hideChannelList:b,hideSidebar:!h||u}),(0,r.jsx)(C,ej(eP({},j),{children:(0,r.jsx)(O.Z.Provider,{value:_,children:(0,r.jsxs)(s.rs,{children:[(0,r.jsx)(I.Z,{path:eI.Z5c.ACTIVITY,disableTrack:!0,children:(0,r.jsx)(s.l_,{to:eI.Z5c.ME})}),(0,r.jsx)(I.Z,{path:eI.Z5c.ACTIVITY_DETAILS(":applicationId"),render:eK,impressionName:c.ImpressionNames.ACTIVITY_DETAILS,impressionProperties:e=>{let{computedMatch:t}=e;return{application_id:t.params.applicationId}}}),(0,r.jsx)(I.Z,{path:eI.Z5c.APPLICATION_LIBRARY,render:ez,impressionName:c.ImpressionNames.APPLICATION_LIBRARY,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.APPLICATION_STORE,render:eW,impressionName:c.ImpressionNames.APPLICATION_STORE,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.COLLECTIBLES_SHOP_FULLSCREEN,render:eY(!0),disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.COLLECTIBLES_SHOP_WITH_TAB(":tab"),render:eY(!1),disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.COLLECTIBLES_SHOP,render:eY(!1),disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.COLLECTIBLES_SHOP_PRODUCT_DETAIL(":skuId"),render:eY(!1),disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.MESSAGE_REQUESTS,render:eQ,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.FAMILY_CENTER,render:eX,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.ME,exact:!0,render:eq,impressionName:c.ImpressionNames.FRIENDS,disableTrack:!0}),"sidebar"===f&&(0,r.jsx)(I.Z,{path:eI.Z5c.NOTIFICATIONS_INBOX(en.Hw.channelId({optional:!0}),":messageId?"),render:eB,disableTrack:!0}),(0,r.jsx)(I.Z,{path:[eI.Z5c.CHANNEL_THREAD_VIEW(en.Hw.guildId(),en.Hw.channelId(),":threadId",":messageId?"),eI.Z5c.CHANNEL(eI.ME,en.Hw.channelId()),eI.Z5c.CHANNEL(en.Hw.guildId(),en.Hw.channelId({optional:!0}),":messageId?")],render:eG,impressionName:c.ImpressionNames.GUILD_CHANNEL,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.GLOBAL_DISCOVERY,render:eV,impressionName:c.ImpressionNames.GLOBAL_DISCOVERY,disableTrack:!0,exact:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.GLOBAL_DISCOVERY_SERVERS,render:eV,impressionName:c.ImpressionNames.GLOBAL_DISCOVERY,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.GLOBAL_DISCOVERY_APPS,render:eV,impressionName:c.ImpressionNames.GLOBAL_DISCOVERY_APPS,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.QUEST_HOME,render:eV,impressionName:c.ImpressionNames.QUEST_HOME,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.GUILD_DISCOVERY,render:eV,impressionName:c.ImpressionNames.GUILD_DISCOVERY,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.GUILD_MEMBER_VERIFICATION(en.Hw.guildId()),render:eH,impressionName:c.ImpressionNames.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(en.Hw.guildId(),":inviteCode?"),render:eF,impressionName:c.ImpressionNames.HUB_EMAIL_SIGNUP,impressionProperties:e=>{let{computedMatch:t}=e;return{has_invite:void 0!==t.params.inviteCode}}}),(0,r.jsx)(I.Z,{path:eI.Z5c.GUILD_FEATURE(":feature",en.Hw.guildId()),exact:!0,render:e$,disableTrack:!0}),(0,r.jsx)(I.Z,{path:eI.Z5c.FEATURE(":feature"),exact:!0,render:e$,disableTrack:!0})]})})}))]})]})})]})}},409292:function(e,t,n){n.d(t,{Z:()=>_}),n(388685);var r=n(255367),i=n(73800),l=n(114858),a=n(442837),o=n(493683),s=n(112724),c=n(108427),u=n(184107),d=n(410575),p=n(613311),h=n(601564),f=n(981631),g=n(681205);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{componentDidMount(){this.fetchStoreListing(),(0,c.e)("channel_store_listing")}render(){return null!=this.props.skuId?(0,r.jsx)(d.Z,{page:f.ZY5.CHANNEL_STORE_LISTING,root:!0,children:(0,r.jsx)("div",{className:g.applicationStore,children:(0,r.jsx)(l.AW,{path:"*",render:this.renderApplicationListing})})}):null}constructor(...e){super(...e),m(this,"fetchStoreListing",e=>{let{channel:t,inputSkuId:n}=this.props;return null!=e?o.Z.fetchChannelStoreListing(t.id,e):null!=n?o.Z.fetchChannelStoreListing(t.id,n):o.Z.fetchChannelStoreListing(t.id)}),m(this,"renderApplicationListing",e=>{let{location:t}=e,{channel:n,skuId:i,width:l}=this.props;return(0,r.jsx)(p.Z,{channel:n,inputSkuId:i,fetchStoreListing:this.fetchStoreListing,location:t,pageSize:(0,h.getPageSize)(l)})})}}let _=(0,s.Z)(a.ZP.connectStores([u.Z],e=>{let{channel:t,inputSkuId:n}=e;return{skuId:null!=n?n:u.Z.getSkuIdForChannel(t.id)}})(b))},316173:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(433517),c=n(481060),u=n(304761),d=n(865427),p=n(820254),h=n(388032),f=n(545549);let g="isHideDevBanner",m=()=>{var e;let[t,n]=(0,i.useState)((null==(e=s.K.get(g,"false"))?void 0:e.toString())==="true"),l=(0,o.e7)([u.C],()=>{var e;return(0,d.fD)()?null==(e=u.C.getCurrentBuildOverride().overrides)?void 0:e.discord_web:null});if(t)return null;let m=()=>{s.K.set(g,!0),n(!0)},b=()=>(0,r.jsx)(c.P3F,{onClick:m,className:f.closeButton,"aria-label":h.intl.string(h.t.WAI6xs),children:(0,r.jsx)(c.Dio,{size:"md",color:"currentColor",className:f.closeIcon})});return null!=l?(0,r.jsxs)("div",{className:a()(f.devBanner,f.buildOverride),children:[(0,r.jsx)(p.Z,{className:f.icon}),h.intl.string(h.t.Wj3LW1),(0,r.jsx)(b,{})]}):"staging"===window.GLOBAL_ENV.RELEASE_CHANNEL?(0,r.jsxs)("div",{className:a()(f.devBanner,f.staging),children:[(0,r.jsx)(p.Z,{className:f.icon}),h.intl.format(h.t.uyrfYG,{buildNumber:"410194"}),(0,r.jsx)(b,{})]}):null}},663701:function(e,t,n){n.d(t,{Z:()=>eh}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(94171),s=n(990547),c=n(91192),u=n(873546),d=n(442837),p=n(704215),h=n(952265),f=n(481060),g=n(493683),m=n(529103),b=n(607070),_=n(213609),E=n(463119),O=n(377171),y=n(540059),I=n(243778),v=n(488634),C=n(899740),S=n(28476),N=n(880257),T=n(631885),P=n(849862),j=n(522558),A=n(795448),Z=n(441623),x=n(457396),L=n(108989),w=n(51596),R=n(905423),D=n(155409),k=n(210887),M=n(695346),U=n(283595),G=n(923834),V=n(55563),B=n(774343),H=n(626135),F=n(814225),z=n(515753),W=n(831218),Y=n(339149),K=n(981631),q=n(675654),Q=n(474936),X=n(388032),J=n(916723),$=n(416350);function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function et(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function en(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let er=e=>{var{selected:t}=e,n=en(e,["selected"]);let l=(0,c.JA)("friends"),a=(0,P.If)(),o=(0,d.e7)([Z.Z],()=>Z.Z.canShowFriendsTabBadge()),u=(0,d.e7)([b.Z],()=>b.Z.useReducedMotion),{enabled:p}=j.w.useExperiment({location:"Friends Tab"},{autoTrackExposure:!1}),h=o&&p;i.useEffect(()=>{h&&(0,_.h)({name:s.ImpressionNames.GIFT_INTENT_BADGE,type:s.ImpressionTypes.VIEW,properties:{gift_intent_type:Q.hX.FRIEND_ANNIVERSARY}})},[h]);let[g,E]=i.useState(!1);return(0,r.jsxs)("div",{className:$.friendsButtonContainer,children:[(0,r.jsx)(z.Qj,et(ee({onClick:()=>{h&&(H.default.track(K.rMx.GIFT_INTENT_BADGE_CLICKED,{gift_intent_type:Q.hX.FRIEND_ANNIVERSARY}),m.Z.setSection(K.pJs.ALL),(0,A.Gk)())},interactiveClassName:h?$.friendsBadge:void 0,selected:t,route:K.Z5c.FRIENDS,icon:f.iFz,text:X.intl.string(X.t.TdEu5e),onMouseEnter:()=>{E(!0)},onMouseLeave:()=>{E(!1)}},n,l),{children:a>0?(0,r.jsx)(f.mAB,{count:a}):null})),h&&!u&&(0,r.jsx)(L.Z,{className:$.confetti,wind:0,sprites:q.CA,spriteColors:q.Br,firing:g,confettiConfig:{opacity:{type:"static",value:1},dragCoefficient:{type:"static",value:{x:100,y:100}}}})]})},ei=e=>{var{selected:t,hideGameUpdateProgressIndicator:n}=e,i=en(e,["selected","hideGameUpdateProgressIndicator"]);let l=(0,c.JA)("library");return(0,r.jsx)(z.Qj,et(ee({selected:t,route:K.Z5c.APPLICATION_LIBRARY,icon:f.vqy,text:X.intl.string(X.t.cw57am)},i,l),{children:(0,r.jsx)(Y.Z,{className:a()($.downloadProgressCircle,{[$.hideGameUpdateProgressIndicator]:n})})}))},el=()=>{let e=(0,C.q)();return e>0?(0,r.jsx)(f.mAB,{count:e}):null},ea=e=>{let{selected:t}=e,n=(0,c.JA)("messageRequests"),{channelId:i}=(0,v._)();if(!(0,S.a)())return null;let l=null==i?void 0:()=>g.Z.preload(K.ME,i);return(0,r.jsx)(z.Qj,et(ee({selected:t,route:K.Z5c.MESSAGE_REQUESTS,icon:f._XJ,text:X.intl.string(X.t.e7GWjY),onClick:l},n),{children:(0,r.jsx)(el,{})}))},eo=e=>{let{selected:t}=e,n=X.intl.string(J.default.Rkdixs),l=(0,c.JA)("family-center"),[a,o]=i.useState(!0);return(0,r.jsx)(z.Qj,et(ee({selected:t,route:K.Z5c.FAMILY_CENTER,icon:f.BFJ,text:n,onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},interactiveClassName:$.familyCenterLinkButton},l),{children:(0,r.jsx)(es,{isParentHovered:a})}))},es=e=>{let{isParentHovered:t}=e,i=(0,T.gU)();return t?(0,r.jsx)(z.PZ,{onClick:()=>{(0,h.ZD)(async()=>{let{default:e}=await n.e("44153").then(n.bind(n,760949));return t=>(0,r.jsx)(e,ee({},t))})},"aria-label":X.intl.string(X.t.cpT0Cg)}):i>0?(0,r.jsx)("div",{className:$.familyCenterPendingBadge,children:(0,r.jsx)(f.mAB,{count:i})}):(0,r.jsx)(I.ZP,{contentTypes:[p.z.FAMILY_CENTER_NEW_BADGE],children:e=>{let{visibleContent:t}=e;return t===p.z.FAMILY_CENTER_NEW_BADGE?(0,r.jsx)(f.IGR,{text:X.intl.string(X.t.y2b7CA),color:O.Z.BG_BRAND}):null}})},ec=()=>(0,w.$Z)("DM_SEARCH");function eu(e){switch(e){case K.Z5c.APPLICATION_LIBRARY:return K.ZY5.LIBRARY;case K.Z5c.FRIENDS:return K.ZY5.FRIENDS_LIST;case K.Z5c.COLLECTIBLES_SHOP:return K.ZY5.COLLECTIBLES_SHOP}return e.startsWith(K.Z5c.APPLICATION_STORE)?e===K.Z5c.APPLICATION_STORE?K.ZY5.STORE_DIRECTORY_HOME:e.startsWith(K.Z5c.APPLICATION_STORE)?K.ZY5.STORE_DIRECTORY_BROWSE:K.ZY5.STORE_LISTING:K.ZY5.DM_CHANNEL}let ed=i.memo(function(e){let{showLibrary:t,hasLibraryApplication:n,homeLink:l,premiumTabSelected:o,isVisualRefreshEnabled:s,shouldShowNitroTab:c,shouldShowMessageRequestsRow:d,shouldShowFamilyCenterRow:p,selectedChannelId:h,path:g}=e,m=i.useRef(null),b=i.useRef(null),_=i.useRef(null);return(0,r.jsxs)("nav",{className:$.privateChannels,"aria-label":X.intl.string(X.t.ZH9aPz),children:[(0,r.jsx)(D.Z,{childRef:m,tutorialId:"direct-messages",position:"right",offsetX:-52,children:(0,r.jsx)("div",{ref:m,className:a()($.searchBar,{[$.themedHeaderMobile]:u.tq}),children:s?(0,r.jsx)(f.zxk,{grow:!0,color:f.zxk.Colors.PRIMARY,size:f.zxk.Sizes.SMALL,fullWidth:!0,onClick:ec,children:X.intl.string(X.t.LzcpeX)}):(0,r.jsx)("button",{type:"button",className:a()($.searchBarComponent,{[$.themedSearchBarMobile]:u.tq}),onClick:ec,children:X.intl.string(X.t.LzcpeX)})})}),(0,r.jsxs)(W.Z,et(ee({},e),{version:g,selectedChannelId:h,showDMHeader:!0,listScrollerRef:_,children:[(0,r.jsx)(er,{selected:null!=g?g===K.Z5c.FRIENDS:l===K.Z5c.FRIENDS},"friends"),n&&t?(0,r.jsx)(ei,{selected:null==g?null!=l&&l.startsWith(K.Z5c.APPLICATION_LIBRARY):g.startsWith(K.Z5c.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:l===K.Z5c.APPLICATION_LIBRARY},"library"):null,d?(0,r.jsx)(ea,{selected:null==g?null!=l&&l.startsWith(K.Z5c.MESSAGE_REQUESTS):g===K.Z5c.MESSAGE_REQUESTS},"message-requests"):null,c?(0,r.jsx)(x.g,{selected:null==g?o:g.startsWith(K.Z5c.APPLICATION_STORE),route:K.Z5c.APPLICATION_STORE,locationState:{analyticsSource:{page:eu(l),section:K.jXE.NAVIGATION,object:K.qAy.NAVIGATION_LINK}}},"premium"):null,(0,r.jsx)(E.i,{selected:g===K.Z5c.COLLECTIBLES_SHOP||(null==l?void 0:l.startsWith(K.Z5c.COLLECTIBLES_SHOP)),listItemRef:b,listScrollerRef:_,locationState:{analyticsSource:{page:eu(l),section:K.jXE.NAVIGATION,object:K.qAy.NAVIGATION_LINK}}},"discord-shop"),p?(0,r.jsx)(eo,{selected:null!=l&&l.startsWith(K.Z5c.FAMILY_CENTER)||null!=g&&g.startsWith(K.Z5c.FAMILY_CENTER)},"family-center"):null,s?(0,r.jsx)(ep,{},"section-divider-top"):null]}))]})});function ep(){return(0,r.jsx)("div",{className:$.sectionDivider})}function eh(){let e=(0,d.e7)([B.Z],()=>B.Z.getHomeLink()),t=(0,d.e7)([V.Z],()=>{if(e===K.Z5c.APPLICATION_STORE)return!0;let t=(0,F.ZK)(e);if(null!=t){var n,r;return null!=(r=null==(n=V.Z.get(t))?void 0:n.premium)&&r}return!1},[e]),n=!M.bm.useSetting(),{theme:i}=(0,d.cj)([k.Z],()=>({theme:k.Z.theme})),l=(0,d.e7)([U.Z],()=>U.Z.hasLibraryApplication()),a=(0,d.e7)([G.Z],()=>G.Z.getCurrentPath()),s=(0,y.Q3)("PrivateChannels"),[c,u]=(0,R.Z)(e=>{let{channelId:t,path:n}=e;return[t,n]},o.X),p=(0,x.i)({selected:null==u?t:u.startsWith(K.Z5c.APPLICATION_STORE)}),h=(0,S.a)(),f=function(){let e=M.Ex.useSetting(),t=(0,N.Z)();return!0===e&&!0===t}();return(0,r.jsx)(ed,{theme:i,showLibrary:n,hasLibraryApplication:l,storeLink:a,homeLink:e,premiumTabSelected:t,isVisualRefreshEnabled:s,shouldShowNitroTab:p,shouldShowMessageRequestsRow:h,shouldShowFamilyCenterRow:f,selectedChannelId:c,path:u})}},457094:function(e,t,n){n.r(t),n.d(t,{default:()=>ts}),n(35282),n(388685);var r=n(255367),i=n(73800),l=n(593473),a=n(114858),o=n(442837),s=n(481060),c=n(893776),u=n(943094),d=n(749210),p=n(287734),h=n(401430),f=n(230711),g=n(773244),m=n(951752),b=n(607070),_=n(627845),E=n(185666),O=n(503737),y=n(513202),I=n(318891),v=n(687751),C=n(64514),S=n(912471),N=n(100527),T=n(77987),P=n(679891),j=n(491575),A=n(954709),Z=n(644679),x=n(403763),L=n(314533),w=n(9029),R=n(935347),D=n(560067),k=n(823169),M=n(845767),U=n(620360),G=n(96051),V=n(750995),B=n(696287),H=n(657030),F=n(408026),z=n(763916),W=n(306721),Y=n(531551),K=n(38618),q=n(972830),Q=n(684572),X=n(584233),J=n(15274),$=n(434404),ee=n(543842),et=n(879064),en=n(315964),er=n(495784),ei=n(975533),el=n(377400),ea=n(285865),eo=n(659971),es=n(929809),ec=n(122333),eu=n(960275),ed=n(818765),ep=n(678492),eh=n(269089),ef=n(380570),eg=n(837689),em=n(367207),eb=n(489977),e_=n(329557),eE=n(304445),eO=n(893607),ey=n(703656),eI=n(298969),ev=n(719256),eC=n(6025),eS=n(897473),eN=n(377368),eT=n(262702),eP=n(639033),ej=n(479313),eA=n(911560),eZ=n(703016),ex=n(892001),eL=n(497805),ew=n(332754),eR=n(507468),eD=n(722589),ek=n(282506),eM=n(444961),eU=n(314897),eG=n(433355),eV=n(592125),eB=n(896797),eH=n(430824),eF=n(819640),ez=n(283595),eW=n(944486),eY=n(914010),eK=n(695103),eq=n(241890),eQ=n(417363),eX=n(900974),eJ=n(358085),e$=n(998502),e0=n(346329),e1=n(981631),e3=n(176505),e8=n(701476),e5=n(186901);function e4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){e4(e,t,n[t])})}return e}n(117240),n(801077),n(967368),n(272053),n(974180),n(574254),n(551428),n(55563),n(882029),n(959457),n(653255),n(663389),n(25990),n(778825),n(999382),n(388610),n(533947),n(277053),n(371398),n(141233),n(471073),n(606206);let e7=!1;(0,S.DL)(),o.ZP.initialize(),eI.Z.loadServer(),eJ.isPlatformEmbedded&&(e$.ZP.on("USER_SETTINGS_OPEN",(e,t)=>{eF.Z.getLayers().includes(e1.S9g.USER_SETTINGS)||f.Z.open(null!=t?t:e1.oAB.ACCOUNT)}),e$.ZP.on("LAUNCH_APPLICATION",(e,t)=>{let n=ez.Z.getActiveLibraryApplication(t);e0.playApplication(t,n,{analyticsParams:{location:{page:e1.ZY5.DIRECT,object:e1.qAy.WEB_URL}}})}));let e6=(0,m.l)(e=>{let{location:t}=e,n=(0,eD.default)(t.pathname);return null!=n&&(0,q.h)(()=>f.Z.open(n.section,n.subsection,{openWithoutBackstack:!1,impressionSource:n.source})),(0,r.jsxs)(g.Z,{deepLinkType:e5.jE.USER_SETTINGS,path:t.pathname,paramsBuilder:function(e,t){let[,,n,r]=e.split("/");return{path:e,section:n,subsection:r,fingerprint:t}},children:[(0,r.jsx)(a.l_,{to:eB.Z.defaultRoute}),";"]})}),e9=o.ZP.connectStores([K.Z,eB.Z,eU.default],()=>({isConnected:K.Z.isConnected(),defaultRoute:eB.Z.defaultRoute,defaultRouteFallback:eB.Z.fallbackRoute,token:eU.default.getToken()}))(class extends i.Component{componentDidMount(){let{match:e}=this.props;null!=e&&null!=e.params.inviteCode&&(0,X.x)({code:e.params.inviteCode})}render(){let{isConnected:e,defaultRoute:t,token:n,defaultRouteFallback:i}=this.props;if(null==n)return(0,r.jsx)(a.l_,{to:e1.Z5c.DEFAULT_LOGGED_OUT});if(e){let e=tl(t);return null==e||(e.params.guildId===e1.ME||null!=eH.Z.getGuild(e.params.guildId))&&null!=eV.Z.getChannel(e.params.channelId)?(0,r.jsx)(a.l_,{to:t}):(0,r.jsx)(a.l_,{to:i})}return null}}),te=(0,m.l)((0,T.e)(j.Z,null,{passProps:!1})),tt=(0,T.e)(Q.default,null,{passProps:!1}),tn=[e1.Z5c.GUILD_BOOSTING_MARKETING(eO.Hw.guildId()),...Array.from(e3.Vg).map(e=>e1.Z5c.CHANNEL(eO.Hw.guildId(),e))];function tr(e){let{guildId:t,channelId:n=null,messageId:r=null,threadId:i=null}=e.params;return{guildId:null!=t?t:e1.ME,channelId:n,messageId:r,threadId:i}}let ti=[{path:[e1.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(":inviteCode")],render(e){let{match:t}=e;return(0,r.jsx)(e9,{match:t})},isSessionRequired:!0},{path:[e1.Z5c.APP],render:()=>(0,r.jsx)(e9,{}),isSessionRequired:!0},{path:[e1.Z5c.USERS(":id")],render:function(e){let{match:t}=e,{id:n}=t.params;return(0,q.h)(()=>(0,ex.openUserProfileModal)({userId:n,sourceAnalyticsLocations:[N.Z.URI_SCHEME]})),(0,r.jsx)(a.l_,{to:eB.Z.defaultRoute})}},{path:[e1.Z5c.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:function(e){let{match:t}=e,{gameId:n,action:i}=t.params;return eQ.Z.whenInitialized(()=>{ez.Z.whenInitialized(()=>{switch(i){case"launch":{let e=ez.Z.getActiveLibraryApplication(n);if(null==e)return;e0.playApplication(e.id,e,{analyticsParams:{location:{page:e1.ZY5.DIRECT,object:e1.qAy.WEB_URL}}});break}case"test-mode":eK.Z.whenInitialized(()=>h.Wt(n));break;case"uninstall":{let e=ez.Z.getActiveLibraryApplication(n);if(null==e)return;(0,u.W)(e.id,e.branchId,e1.Sbl.URI_SCHEME)}}})}),(0,r.jsx)(a.l_,{to:e1.Z5c.APPLICATION_LIBRARY})}},{path:[e1.Z5c.GUILD_CREATE],render:function(){return(0,q.h)(()=>D.Z.openCreateGuildModal({location:"External link"})),(0,r.jsx)(a.l_,{to:eB.Z.defaultRoute})}},{path:[e1.Z5c.PICK_GUILD_SETTINGS(":section?",":subsection?")],render:function(e){let{match:t}=e,{section:n,subsection:i}=t.params,o=(0,l.parse)(location.search).feature;return(0,q.h)(()=>et.v({section:(0,ee.Z)(e1.pNK,n),subsection:(0,ee.Z)(e1.KsC,i),feature:o})),(0,r.jsx)(a.l_,{to:eB.Z.defaultRoute})},isSessionRequired:!0},{path:[e1.Z5c.SETTINGS(":section",":subsection?")],render:e6,isSessionRequired:!0},{path:[e1.Z5c.USER_GUILD_NOTIFICATION_SETTINGS(eO.Hw.guildId())],render:function(e){let{match:t}=e,{guildId:i}=t.params;return(0,q.h)(()=>{(0,s.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("5863"),n.e("95626")]).then(n.bind(n,751212));return t=>{var n,l;return(0,r.jsx)(e,(n=e2({},t),l=l={guildId:i},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(l,e))}),n))}})}),(0,r.jsx)(a.l_,{to:e1.Z5c.CHANNEL(i)})},isSessionRequired:!0},{path:[e1.Z5c.APPLICATION_LIBRARY_INVENTORY],render:function(){return(0,q.h)(()=>f.Z.open(e1.oAB.INVENTORY)),(0,r.jsx)(a.l_,{to:eB.Z.defaultRoute})},isSessionRequired:!0},{path:[e1.Z5c.WELCOME(eO.Hw.guildId({optional:!0}),eO.Hw.channelId({optional:!0}))],render:function(e){let{match:t}=e,{guildId:n,channelId:i}=t.params;(0,es.c)(e8.M5.MARKETING_UNCLAIMED);let l=e1.Z5c.CHANNEL(n,i);return(0,r.jsx)(a.l_,{to:l})},isSessionRequired:!0},{path:[e1.Z5c.GUILD_EVENT_DETAILS(eO.Hw.guildId({optional:!0}),":guildEventId")],render:function(e){let{match:t}=e,{guildId:n,guildEventId:i}=t.params;return(0,q.h)(()=>{(0,J.bO)({eventId:i})}),(0,r.jsx)(a.l_,{to:e1.Z5c.CHANNEL(n)})},isSessionRequired:!0},{path:[e1.Z5c.GUILD_SETTINGS(eO.Hw.guildId(),":section?",":subsection?")],render:function(e){let{match:t}=e,{guildId:n,section:i,subsection:l}=t.params;return(0,q.h)(()=>{$.Z.open(n,(0,ee.Z)(e1.pNK,i),void 0,(0,ee.Z)(e1.KsC,l))}),(0,r.jsx)(a.l_,{to:e1.Z5c.CHANNEL(n)})},isSessionRequired:!0,isChatRoute:!0},{path:[e1.Z5c.CHANNEL_THREAD_VIEW(eO.Hw.guildId(),eO.Hw.channelId(),":threadId",":messageId?"),e1.Z5c.CHANNEL(eO.Hw.guildId(),eO.Hw.channelId({optional:!0}),":messageId?"),e1.Z5c.ACTIVITY,e1.Z5c.ACTIVITIES,e1.Z5c.ACTIVITIES_HAPPENING_NOW,e1.Z5c.ACTIVITY_DETAILS(":applicationId"),e1.Z5c.APPLICATION_LIBRARY,e1.Z5c.APPLICATION_STORE,e1.Z5c.MESSAGE_REQUESTS,e1.Z5c.COLLECTIBLES_SHOP,e1.Z5c.COLLECTIBLES_SHOP_FULLSCREEN,e1.Z5c.COLLECTIBLES_SHOP_PRODUCT_DETAIL(":skuId"),e1.Z5c.GUILD_DISCOVERY,e1.Z5c.QUEST_HOME,e1.Z5c.GLOBAL_DISCOVERY,e1.Z5c.GUILD_MEMBER_VERIFICATION(eO.Hw.guildId()),e1.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(eO.Hw.guildId(),":inviteCode?"),e1.Z5c.GUILD_BOOSTING_MARKETING(eO.Hw.guildId()),e1.Z5c.GUILD_FEATURE(":feature",eO.Hw.guildId()),e1.Z5c.FEATURE(":feature"),e1.Z5c.FAMILY_CENTER,e1.Z5c.NOTIFICATIONS_INBOX(eO.Hw.channelId({optional:!0}),":messageId?")],render:te,isSessionRequired:!0,isChatRoute:!0},{path:[e1.Z5c.APPLICATION_DIRECTORY],render:tt,isSessionRequired:!0}];function tl(e){for(let{path:t,isChatRoute:n}of ti){if(!n)continue;let r=(0,a.LX)(e,{path:t});if(null!=r)return r}return null}function ta(e){let{channelId:t,guildId:n,pathname:r}=e;if(!K.Z.isConnected())return;let{location:i}=(0,ey.s1)();i.pathname===r&&(null==eV.Z.getChannel(t)?(0,ey.dL)(e1.Z5c.CHANNEL(n)):(0,ey.dL)(r))}class to extends i.PureComponent{componentDidMount(){e$.ZP.setZoomFactor(b.Z.zoom),eI.Z.init(),P.Z.initialize(),ef.Z.initialize(),F.Z.initialize(),eM.Z.initialize(),z.Z.initialize(),em.Z.initialize(),M.Z.initialize(),ei.Z.initialize(),_.Z.init(),Y.Z.init(),W.Z.init(),ec.Z.initialize(),v.Z.initialize(),V.Z.initialize(),eb.Z.initialize(),I.ZP.initialize(),ek.Z.initialize(),eh.Z.initialize(),y.Z.initialize(),en.Z.init(),x.Z.init(),eX.Z.init(),O.Z.initialize(),eZ.Z.init(),eq.Z.init(),ew.Z.init(),eT.Z.initialize(),eP.Z.initialize(),eL.Z.initialize(),eR.Z.init(),G.Z.initialize(),E.Z.initialize(),ev.Z.initialize(),eN.Z.initialize(),ed.Z.initialize(),eu.Z.initialize(),ep.Z.initialize(),L.Z.initialize(),w.Z.initialize(),H.Z.initialize(),er.Z.init({hasModalOpen:s.$sL,openModal:()=>(0,s.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,r.jsx)(e,e2({},t))})}),U.Z.init(),el.Z.initialize(),e_.Z.initialize(),eg.Z.initialize(),k.Z.initialize(),A.Z.initialize(),Z.Z.initialize(),C.Z.initialize(),this.rewriterUnlisten=eE.Z.addRouteRewriter(this.ensureChannelMatchesGuild),this.historyUnlisten=eE.Z.addRouteChangeListener(this.handleHistoryChange)}componentWillUnmount(){eI.Z.terminate(),eM.Z.terminate(),em.Z.terminate(),ef.Z.terminate(),P.Z.terminate(),I.ZP.terminate(),ek.Z.terminate(),y.Z.terminate(),eb.Z.terminate(),eh.Z.terminate(),eL.Z.terminate(),O.Z.terminate(),G.Z.terminate(),el.Z.terminate(),E.Z.terminate(),e_.Z.terminate(),ev.Z.terminate(),eN.Z.terminate(),ed.Z.terminate(),eu.Z.terminate(),ep.Z.terminate(),L.Z.terminate(),w.Z.terminate(),eg.Z.terminate(),k.Z.terminate(),B.Z.terminate(),A.Z.terminate(),Z.Z.terminate(),C.Z.terminate(),H.Z.terminate(),this.historyUnlisten(),this.rewriterUnlisten()}handleHistoryChange(e){let{pathname:t,search:n}=e;!function(e){if(K.Z.isConnected()||K.Z.isTryingToConnect())return;let t=eU.default.getToken();null!=t&&null!=function(e){for(let{path:t,isSessionRequired:n}of ti){if(!n)continue;let r=(0,a.LX)(e,{path:t});if(null!=r)return r}return null}(e)&&c.Z.startSession(t)}(t),function(e,t){let n=tl(e);if(null==n)return;let{guildId:r,channelId:i,messageId:o,threadId:s}=tr(n),c=(0,eO.Ss)(r),u=(0,eO.cq)(i),h=(0,eO.cq)(s),f=eY.Z.getGuildId(),g=f!==r;if(c&&g&&d.Z.selectGuild(r),c&&u){let n=eW.Z.getChannelId(f),a=n!==i;if(!e7||g||a||null!=o){e7=!0,p.default.selectChannel({guildId:r,channelId:i,messageId:o});let{summaryId:e}=(0,l.parse)(t);null!=e&&ej.ZP.setSelectedSummary(i,e)}if(null!=s&&h){let e=eG.ZP.getCurrentSidebarChannelId(n)!==s,t=null!=eG.ZP.getGuildSidebarState(r);if(null!=i&&null!=s&&e)if(t)(0,ey.dL)(e1.Z5c.CHANNEL(r,s,o));else{let e={type:eS.Ff.THREAD};null!=o&&(e.initialMessageId=o),eC.Z.openThreadAsSidebar({guildId:r,baseChannelId:i,channelId:s,details:e})}}else null==i||a||eC.Z.closeChannelSidebar(i);let c=eo.Z.getIsOpen();if(i===e3.oC.ROLE_SUBSCRIPTIONS)ea.Z.closeSidebar();else if(g&&c){let t=null==f&&r===e1.ME,n=e===e1.Z5c.GUILD_DISCOVERY;t||n?ea.Z.closeSidebar():ea.Z.openSidebar()}else(a&&c||!g&&!a)&&ea.Z.closeSidebar()}else tn.some(t=>{var n;return(null==(n=(0,a.LX)(e,t))?void 0:n.isExact)===!0})||(0,ey.dL)(eB.Z.fallbackRoute)}(t,n)}ensureChannelMatchesGuild(e){if(!K.Z.isConnected())return null;let{pathname:t}=e,n=tl(t);if(null==n)return null;let{guildId:r,channelId:i,threadId:l}=tr(n),a=(0,eO.Ss)(r)&&r!==e1.ME&&r!==e1.I_8;if(null!=i&&(0,eO.cq)(i)&&!(0,e3.AB)(i)&&a){let n=eV.Z.getChannel(i);if(null==n)eA.Z.loadThread(i).then(()=>ta({channelId:i,guildId:r,pathname:t}));else if(n.guild_id!==r)return{path:e1.Z5c.CHANNEL(r),state:e.state};if(null!=l){if(!((0,eO.cq)(l)&&!(0,e3.AB)(i)))return null;let n=eV.Z.getChannel(l);if(null==n)eA.Z.loadThread(l).then(()=>ta({channelId:l,guildId:r,pathname:t}));else if((null==n?void 0:n.parent_id)!==i)return eC.Z.closeChannelSidebar(i),{path:e1.Z5c.CHANNEL(r,i),state:e.state}}}return null}render(){return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(a.l_,{exact:!0,from:"/channels",to:"/"}),ti.map(e=>{let{path:t,render:n}=e;return(0,r.jsx)(a.AW,{path:t,render:n},t[0])}),(0,r.jsx)(a.l_,{to:"/"})]}),(0,r.jsx)(R.Z,{})]})}constructor(...e){super(...e),e4(this,"historyUnlisten",()=>{}),e4(this,"rewriterUnlisten",()=>{})}}let ts=to},224336:function(e,t,n){n.d(t,{Z:()=>l});var r=n(255367);n(73800);var i=n(339756);function l(){return(0,r.jsx)("div",{className:i.divider})}},237919:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(570140),u=n(287259),d=n(819640),p=n(490983),h=n(799777),f=n(5967),g=n(346329),m=n(981631),b=n(388032),_=n(285915);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.Component{componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){c.Z.wait(()=>u.wX(null)),document.removeEventListener("keydown",this.handleKeyDown)}reset(){u.wX(null),u.JZ("")}focusInput(){let{searchBarRef:e}=this;null!=e&&e.focus()}updateActiveRow(e){let{applicationViewItems:t,activeRowKey:n}=this.props,r=t.findIndex(e=>e.key===n),i=0;r>=0&&(i=(r+e)%t.length)<0&&(i=t.length-1);let l=t[i];u.wX(null!=l?l.key:null,!0)}render(){let{filterQuery:e}=this.props,{focused:t}=this.state;return(0,r.jsx)("div",{className:a()({[_.libraryFilter]:!0,[_.focused]:t}),children:(0,r.jsx)(s.E1j,{className:_.searchBar,ref:this.setRef,onChange:u.JZ,onFocus:()=>this.setState({focused:!0}),onBlur:()=>this.setState({focused:!1}),name:"filter",onClear:()=>{this.reset(),this.focusInput()},maxLength:100,query:e,placeholder:b.intl.string(b.t.aSxWSk)})})}constructor(...e){super(...e),E(this,"searchBarRef",null),E(this,"state",{focused:!1}),E(this,"setRef",e=>{this.searchBarRef=e}),E(this,"handleKeyDown",e=>{var t;let{activeRowKey:n,hasModalOpen:r,applicationViewItems:i}=this.props,{searchBarRef:l}=this;if(r||e.ctrlKey||e.altKey||e.metaKey||null==l)return;let a=null==(t=(0,f.uB)(e))?void 0:t.activeElement;if(!(a!==l.inputRef.current&&(0,f.VG)(a)))switch(e.which){case m.yXg.ESCAPE:e.target!==l.inputRef.current?this.reset():null!=l.inputRef.current&&l.blur();break;case m.yXg.ENTER:if(null!=n){e.preventDefault();let t=i.find(e=>e.key===n);if(null==t)return;let r=t.libraryApplication;g.performDefaultLibraryApplicationAction(r,{analyticsParams:{source:m.Sbl.APPLICATION_LIBRARY,location:{page:m.ZY5.LIBRARY,section:m.jXE.LIBRARY_APPLICATION_LIST,object:m.qAy.BUTTON_CTA}}})}break;case m.yXg.ARROW_DOWN:case m.yXg.ARROW_UP:e.preventDefault(),e.stopPropagation(),this.updateActiveRow(e.which===m.yXg.ARROW_DOWN?1:-1);break;default:null!=l.inputRef.current&&e.target!==l.inputRef.current&&l.focus()}})}}function y(){let e=(0,o.e7)([d.Z],()=>d.Z.hasLayers()),t=(0,s.s9z)(s.JQI);return(0,r.jsx)(O,{activeRowKey:(0,o.e7)([h.Z],()=>h.Z.activeRowKey),hasModalOpen:t||e,filterQuery:(0,o.e7)([p.Z],()=>p.Z.applicationFilterQuery),applicationViewItems:(0,o.e7)([p.Z],()=>p.Z.sortedFilteredLibraryApplicationViewItems)})}},957657:function(e,t,n){n.d(t,{Z:()=>f});var r=n(255367),i=n(73800),l=n(481060),a=n(984370),o=n(703656),s=n(626135),c=n(804739),u=n(981631),d=n(388032),p=n(449160);let h=(0,c.Q)()||!1,f=i.memo(function(e){let{currentRoute:t,renderToolbar:n}=e,c=i.useContext(s.AnalyticsContext),f=h||t===u.Z5c.APPLICATION_LIBRARY_SETTINGS;return(0,r.jsxs)(a.Z,{className:p.libraryHeader,toolbar:null==n?void 0:n(),children:[(0,r.jsx)(a.Z.Icon,{icon:l.vqy,"aria-hidden":!0}),(0,r.jsx)(a.Z.Title,{children:d.intl.string(d.t.cw57am)}),(0,r.jsx)(a.Z.Divider,{}),(0,r.jsxs)(l.njP,{type:"top-pill",selectedItem:t,onItemSelect:function(e){var n,r;e!==t&&(0,o.uL)(e,{state:{analyticsSource:(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},c.location),r=r={section:u.jXE.TABS,object:u.qAy.NAVIGATION_LINK},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n)}})},children:[(0,r.jsx)(l.njP.Item,{id:u.Z5c.APPLICATION_LIBRARY,children:d.intl.string(d.t.p7ARTE)}),f?(0,r.jsx)(l.njP.Item,{id:u.Z5c.APPLICATION_LIBRARY_SETTINGS,children:d.intl.string(d.t["3D5yo6"])}):null]})]})})},425369:function(e,t,n){n.d(t,{Z:()=>m});var r=n(255367),i=n(73800),l=n(114858),a=n(410575),o=n(765717),s=n(252618),c=n(108427),u=n(895991),d=n(993977),p=n(981631),h=n(388032),f=n(714943);function g(){return(0,r.jsxs)(l.rs,{children:[(0,r.jsx)(o.Z,{path:p.Z5c.APPLICATION_LIBRARY_SETTINGS,exact:!0,children:(0,r.jsxs)(a.Z,{page:p.ZY5.LIBRARY_SETTINGS,root:!0,children:[(0,r.jsx)(s.yY,{subsection:h.intl.string(h.t["3D5yo6"])}),(0,r.jsx)(d.Z,{})]})}),(0,r.jsx)(o.Z,{path:p.Z5c.APPLICATION_LIBRARY,children:(0,r.jsxs)(a.Z,{page:p.ZY5.LIBRARY,root:!0,children:[(0,r.jsx)(s.yY,{subsection:h.intl.string(h.t.p7ARTE)}),(0,r.jsx)(u.Z,{})]})})]})}let m=i.memo(function(){return i.useEffect(()=>{(0,c.e)("application_library")},[]),(0,r.jsxs)("div",{className:f.container,children:[(0,r.jsx)(s.yY,{location:h.intl.string(h.t.cw57am)}),(0,r.jsx)(g,{})]})})},645818:function(e,t,n){n.d(t,{Z:()=>E}),n(388685);var r=n(255367),i=n(73800),l=n(442837),a=n(846519),o=n(481060),s=n(293245),c=n(863969),u=n(563593),d=n(981631),p=n(388032);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let f=(0,o.GSL)(c.Z),g=(0,o.GSL)(u.Z),m=new Set([d.TzF.PUSHING,d.TzF.PULLING]),b=Object.freeze({[d.TzF.DONE]:f,[d.TzF.PLANNING]:f,[d.TzF.PREPARING]:f,[d.TzF.PUSHING]:o.rG2,[d.TzF.PULLING]:o._8t,[d.TzF.CONFLICT]:f,[d.TzF.ERROR]:f});class _ extends i.PureComponent{componentDidMount(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()}componentDidUpdate(e){null!=this.props.cloudSyncState&&this.props.cloudSyncState.type===d.TzF.DONE&&null!=this.props.cloudSyncState.timestamp&&(null==e.cloudSyncState||null==e.cloudSyncState.timestamp)&&this.setRecentlySyncedTimeout()}componentWillUnmount(){this._doneTimer.stop()}setRecentlySyncedTimeout(){this._doneTimer.start(2e3,()=>this.forceUpdate())}getIsRecentlySynced(){let{cloudSyncState:e}=this.props;if(null!=e&&e.type===d.TzF.DONE){let t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1}getStop(e,t){if(t)return 1;if(e.type===d.TzF.PUSHING||e.type===d.TzF.PULLING){let{progress:t,total:n}=e;return t/n}return 0}getTooltip(e,t){switch(e.type){case d.TzF.DONE:if(t)return p.intl.string(p.t.atpo0d);return p.intl.string(p.t.ZCw6zs);case d.TzF.CONFLICT:case d.TzF.ERROR:return p.intl.string(p.t.ZCw6zs);case d.TzF.PLANNING:return p.intl.string(p.t.ERQ0VF);case d.TzF.PREPARING:return p.intl.string(p.t.n5feu7);case d.TzF.PUSHING:return p.intl.string(p.t.oCBh0N);case d.TzF.PULLING:return p.intl.string(p.t.RTLNqK);default:return null}}render(){let{cloudSyncState:e,libraryApplication:t,className:n}=this.props,i=null==e?{type:d.TzF.DONE}:e,l=this.getIsRecentlySynced(),a={};(m.has(i.type)||l)&&(a.gradientConfig={id:t.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(i,l)});let s=l?g:b[i.type];return(0,r.jsx)(o.ua7,{text:this.getTooltip(i,l),children:e=>(0,r.jsx)(s,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}({className:n},a,e))})}constructor(...e){super(...e),h(this,"_doneTimer",new a.V7)}}let E=l.ZP.connectStores([s.Z],e=>{let{libraryApplication:t}=e;return{cloudSyncState:s.Z.getState(t.id,t.branchId)}})(_)},34305:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(255367),i=n(73800),l=n(442837),a=n(481060),o=n(325432),s=n(570928),c=n(600164),u=n(579022),d=n(391690),p=n(424218),h=n(358085),f=n(998502),g=n(388032),m=n(512231),b=n(20493);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends i.PureComponent{renderDiskUsageCircle(){let{metadata:e}=this.props;return null!=e&&null!=e.availableKB&&null!=e.totalKB?(0,r.jsx)(u.Z,{total:e.totalKB,used:e.totalKB-e.availableKB}):null}renderViewing(){let e,t,{path:n,label:i,editingPath:l,isDefault:o,metadata:u}=this.props;return null!=u&&(e=null!=u.availableKB?(0,p.BU)(u.availableKB,{useKibibytes:!0}):null,t=null!=u.totalKB?(0,p.BU)(u.totalKB,{useKibibytes:!0}):null),(0,r.jsxs)(c.Z,{className:m.installationPath,align:c.Z.Align.CENTER,children:[this.renderDiskUsageCircle(),(0,r.jsxs)(c.Z,{direction:c.Z.Direction.VERTICAL,className:m.__invalid_descriptionWrapper,children:[(0,r.jsxs)(c.Z,{align:c.Z.Align.CENTER,children:[(0,r.jsx)(a.X6q,{className:m.rowTitle,variant:"heading-md/semibold",children:null!=i?i:d.Z.getLabelFromPath(n)}),o?(0,r.jsx)("span",{className:m.defaultIndicator,children:g.intl.string(g.t.bBvAEB)}):null]}),null!=u&&null!=e&&null!=t?(0,r.jsx)(s.Z,{className:m.rowBody,hoverText:g.intl.formatToPlainString(g.t.Fxo9e3,{available:e,total:t}),children:n}):(0,r.jsx)(a.Text,{className:m.rowBody,variant:"text-xs/normal",children:n})]}),(0,r.jsx)(a.zxk,{size:a.zxk.Sizes.SMALL,disabled:null!=l,color:a.zxk.Colors.PRIMARY,onClick:this.handleStartEditing,children:g.intl.string(g.t.bt75u7)})]})}renderEditing(){let{path:e,hasGamesInstalledInPath:t}=this.props,{label:n,isDefault:i}=this.state;return(0,r.jsx)(a.Zbd,{editable:!0,className:m.installationPathEditing,children:(0,r.jsxs)(c.Z,{children:[this.renderDiskUsageCircle(),(0,r.jsxs)(c.Z.Child,{children:[(0,r.jsx)(a.xJW,{title:g.intl.string(g.t.AJkKCA),children:(0,r.jsx)(a.oil,{value:n,placeholder:d.Z.getLabelFromPath(e),onChange:this.handleLabelChange})}),(0,r.jsx)(a.xJW,{title:g.intl.string(g.t.lnUCwc),className:b.marginTop20,children:(0,r.jsx)(a.oil,{disabled:!0,value:e})}),(0,r.jsx)(a.XZJ,{type:a.XZJ.Types.INVERTED,value:null!=i?i:this.props.isDefault,disabled:this.props.isDefault,className:m.defaultLocationCheckbox,onChange:this.handleToggleDefault,children:g.intl.string(g.t.Z2MWuL)}),(0,r.jsx)(a.$i$,{className:m.separator}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(a.zxk,{disabled:t||this.props.isDefault,size:a.zxk.Sizes.SMALL,color:a.zxk.Colors.RED,look:a.zxk.Looks.OUTLINED,onClick:this.handleRemoveLocation,children:g.intl.string(g.t.iBUzS0)}),(0,r.jsxs)(c.Z,{justify:c.Z.Justify.END,children:[(0,r.jsx)(a.zxk,{size:a.zxk.Sizes.SMALL,color:a.zxk.Colors.PRIMARY,look:a.zxk.Looks.LINK,onClick:this.handleStopEditing,children:g.intl.string(g.t["ETE/oK"])}),(0,r.jsx)(a.zxk,{disabled:e===this.props.path&&n===this.props.label&&i===this.props.isDefault,size:a.zxk.Sizes.SMALL,color:a.zxk.Colors.GREEN,onClick:this.handleSaveChanges,children:g.intl.string(g.t.R3BPHx)})]})]})]})]})})}render(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()}constructor(...e){super(...e),_(this,"state",{label:void 0,isDefault:null}),_(this,"handleStartEditing",()=>{let{path:e,label:t,isDefault:n,onToggleEditing:r}=this.props;r(e),this.setState({label:t,isDefault:n})}),_(this,"handleStopEditing",()=>{let{onToggleEditing:e}=this.props;e(null),this.setState({label:void 0,isDefault:null})}),_(this,"handleRemoveLocation",()=>{(0,a.h7j)(e=>{var t,n;return(0,r.jsx)(a.ConfirmModal,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_(e,t,n[t])})}return e}({},e),n=n={header:g.intl.string(g.t.iBUzS0),confirmText:g.intl.string(g.t.iBUzS0),cancelText:g.intl.string(g.t["ETE/oK"]),onConfirm:()=>{this.handleStopEditing(),(0,o.iD)(this.props.path)},children:(0,r.jsx)(a.Text,{variant:"text-md/normal",children:g.intl.string(g.t["1XqeW1"])})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})}),_(this,"handleSaveChanges",()=>{(0,o.Tb)(this.props.path,{label:null!=this.state.label?this.state.label:this.props.label,isDefault:null!=this.state.isDefault?this.state.isDefault:this.props.isDefault}),this.handleStopEditing()}),_(this,"handleLabelChange",e=>{this.setState({label:e})}),_(this,"handleToggleDefault",()=>{this.setState({isDefault:!this.state.isDefault})})}}class O extends i.PureComponent{componentDidMount(){(0,o.ec)(this.props.installationPaths.map(e=>{let{path:t}=e;return t}))}render(){let{installationPaths:e,installationPathsMetadata:t,defaultInstallationPath:n}=this.props,{editingPath:i}=this.state;return(0,r.jsxs)(a.hjN,{className:m.wrapper,title:g.intl.string(g.t.aLszkJ),children:[e.map(e=>{let{path:l,label:a}=e;return(0,r.jsx)(E,{path:l,label:a,metadata:t[l],isDefault:n===l,editingPath:i,hasGamesInstalledInPath:d.Z.hasGamesInstalledInPath(l),onToggleEditing:this.handleToggleEditing},l)}),(0,r.jsx)("div",{className:m.buttonRowWrapper,children:(0,r.jsx)(a.zxk,{disabled:!h.isPlatformEmbedded,onClick:this.handleAddInstallationLocation,size:a.zxk.Sizes.SMALL,children:g.intl.string(g.t.pnZ2ur)})})]})}constructor(...e){super(...e),_(this,"state",{editingPath:null}),_(this,"handleAddInstallationLocation",()=>{f.ZP.showOpenDialog(["openDirectory"]).then(e=>{null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,o.RY)(e[0])})}),_(this,"handleToggleEditing",e=>{this.setState({editingPath:e})})}}let y=l.ZP.connectStores([d.Z],()=>({installationPaths:d.Z.installationPaths,installationPathsMetadata:d.Z.installationPathsMetadata,defaultInstallationPath:d.Z.defaultInstallationPath}))(O)},895991:function(e,t,n){n.d(t,{Z:()=>I}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(481060),s=n(570140),c=n(150063),u=n(274616),d=n(827837),p=n(410575),h=n(3570),f=n(237919),g=n(957657),m=n(665307),b=n(530151),_=n(981631),E=n(186901),O=n(620282);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends i.PureComponent{componentDidMount(){c.Y(_.Z5c.APPLICATION_LIBRARY),(0,h.T)(E.jE.LIBRARY),s.Z.wait(()=>(0,u.o)()),(0,d.N)(),null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)}renderToolbar(){return(0,r.jsx)(f.Z,{})}render(){let{includeUpdatesInScroller:e}=this.state,t=(0,r.jsx)("div",{children:(0,r.jsx)(p.Z,{section:_.jXE.LIBRARY_INSTALL_MODULE,children:(0,r.jsx)(b.Z,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})})});return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(g.Z,{currentRoute:_.Z5c.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),e?null:t,(0,r.jsxs)(o.yWw,{className:a()(O.container,O.scroller),ref:this._scrollerRef,children:[e?t:null,(0,r.jsx)(p.Z,{section:_.jXE.LIBRARY_APPLICATION_LIST,children:(0,r.jsx)(m.Z,{stickyHeader:!e,scrollToRow:this.scrollToRow})})]})]})}constructor(...e){super(...e),y(this,"_scrollerRef",i.createRef()),y(this,"_scrollToOnMount",void 0),y(this,"_scrollToPadding",0),y(this,"state",{includeUpdatesInScroller:!1}),y(this,"handleHeightTallerThanHalfViewportChange",e=>{this.setState({includeUpdatesInScroller:e})}),y(this,"scrollToRow",(e,t)=>{let n=this._scrollerRef.current;null!=n?(e.focus(),n.scrollIntoViewRect({start:t,end:t}),this._scrollToOnMount=null):(this._scrollToOnMount=e,this._scrollToPadding=t)})}}},993977:function(e,t,n){n.d(t,{Z:()=>v}),n(388685);var r=n(255367),i=n(73800),l=n(442837),a=n(481060),o=n(58642),s=n(600164),c=n(695346),u=n(490983),d=n(626135),p=n(630388),h=n(804739),f=n(957657),g=n(34305),m=n(981631),b=n(388032),_=n(876733);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}function y(e){let{applicationViewItems:t,restoreApplication:n}=e;if(0===t.length)return null;let i=t.map(e=>{let t=e.libraryApplication.getDistributor();return(0,r.jsxs)("div",{className:_.hiddenLibraryApplication,children:[(0,r.jsxs)(s.Z,{direction:s.Z.Direction.VERTICAL,className:_.hiddenLibraryApplicationContent,children:[(0,r.jsx)("div",{className:_.applicationName,children:e.libraryApplication.getBranchedName(e.application)}),null!=t?(0,r.jsx)("div",{className:_.applicationSubText,children:m.EOG[t]}):null]}),(0,r.jsx)(a.P3F,{className:_.restoreButton,onClick:()=>n(e.libraryApplication),children:(0,r.jsx)(a.Dio,{size:"md",color:"currentColor",className:_.restoreIcon})})]},e.key)});return(0,r.jsxs)(a.hjN,{className:_.hiddenLibraryApplications,children:[(0,r.jsx)(a.vwX,{className:_.hiddenLibraryApplicationsTitle,children:b.intl.string(b.t["5PJtrK"])}),i]})}class I extends i.PureComponent{handleToggleShortcutDesktop(e){c.Xc.updateSetting(e)}handleToggleShortcutStartMenu(e){c.Pe.updateSetting(e)}trackRestoreApplication(e,t){d.default.track(m.rMx.APPLICATION_SETTINGS_UPDATED,O({hidden_enabled:t},e.getAnalyticsData()))}renderBody(){let{hiddenLibraryApplicationViewItems:e,installShortcutDesktop:t,installShortcutStartMenu:n}=this.props;return(0,r.jsxs)("div",{className:_.body,children:[(0,h.Q)()?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(a.j7V,{value:t,onChange:this.handleToggleShortcutDesktop,note:b.intl.string(b.t.vT61Nz),children:b.intl.string(b.t["9ID+Ki"])}),(0,r.jsx)(a.j7V,{value:n,onChange:this.handleToggleShortcutStartMenu,note:b.intl.string(b.t.cpYp0N),children:b.intl.string(b.t.vNpUMz)}),(0,r.jsx)(g.Z,{})]}):null,(0,r.jsx)(y,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:e})]})}render(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{currentRoute:m.Z5c.APPLICATION_LIBRARY_SETTINGS}),(0,r.jsx)(a.w0Z,{className:_.scroller,children:this.renderBody()})]})}constructor(...e){super(...e),E(this,"handleRestoreHiddenLibraryApplication",e=>{let t=p.x9(e.getFlags(),m.eHb.HIDDEN);o.h(e.id,e.branchId,t),this.trackRestoreApplication(e,p.yE(t,m.eHb.HIDDEN))})}}function v(){let e={installShortcutDesktop:c.Xc.useSetting(),installShortcutStartMenu:c.Pe.useSetting(),hiddenLibraryApplicationViewItems:(0,l.e7)([u.Z],()=>u.Z.hiddenLibraryApplicationViewItems)};return(0,r.jsx)(I,O({},e))}},665307:function(e,t,n){n.d(t,{Z:()=>G}),n(415506),n(388685);var r,i=n(255367),l=n(73800),a=n(120356),o=n.n(a),s=n(114858),c=n(442837),u=n(846519),d=n(477690),p=n(481060),h=n(570140),f=n(239091),g=n(287259),m=n(785547),b=n(600164),_=n(167533),E=n(925329),O=n(707409),y=n(490983),I=n(799777),v=n(626135),C=n(780570),S=n(624138),N=n(645818),T=n(981631),P=n(388032),j=n(833972);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){A(e,t,n[t])})}return e}function x(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let L=(0,S.Mg)(d.Z.GAME_LIST_ROW_MIN_HEIGHT),w=(0,S.Mg)(d.Z.GAME_LIST_LINKED_TO_GLOW_DURATION),R=Object.freeze({[T.iEv.PLATFORM]:"Platform",[T.iEv.LAST_PLAYED]:"Last Played",[T.iEv.NAME]:"Name"}),D=e=>{let{flag:t,icon:n,item:r,tooltip:l}=e,a=r.libraryApplication.hasFlag(t);return(0,i.jsx)(p.ua7,{text:l,children:e=>(0,i.jsx)(n,Z({className:o()(j.settingIcon,{[j.hidden]:!a})},e))})},k=[{key:T.iEv.NAME,renderHeader:()=>P.intl.string(P.t.dBfWfX),sort:!0,cellClassName:j.nameCell,bodyCellClassName:j.nameBodyCell,render:e=>(0,i.jsxs)(b.Z,{align:b.Z.Align.CENTER,children:[(0,i.jsx)(E.Z,{game:e.application,size:E.Z.Sizes.SMALL,className:j.gameIcon}),(0,i.jsxs)("div",{className:j.nameCellInfo,children:[(0,i.jsx)("div",{className:j.nameCellText,children:e.libraryApplication.getBranchedName(e.application)}),e.libraryApplication.hasFlag(T.eHb.PREMIUM)?(0,i.jsx)(p.ua7,{text:P.intl.string(P.t.tG2SzM),children:e=>(0,i.jsx)(p.SrA,Z({size:"md",color:"currentColor",className:j.nitroIcon},e))}):null]})]})},{key:T.iEv.PLATFORM,renderHeader:()=>P.intl.string(P.t.YR4cHB),sort:!0,cellClassName:j.platformCell,bodyCellClassName:j.textCell,render(e){let t=e.libraryApplication.getDistributor();return(0,i.jsx)(b.Z,{align:b.Z.Align.CENTER,children:null!=t?T.EOG[t]:P.intl.string(P.t["F+l3Ji"])})}},{key:T.iEv.LAST_PLAYED,renderHeader:()=>P.intl.string(P.t.FDDyjY),sort:!0,cellClassName:j.lastPlayedCell,bodyCellClassName:j.textCell,render(e){let t;return t=e.isRunning?P.intl.string(P.t.Md326u):e.isNew?P.intl.string(P.t["+F0Tho"]):0!==e.lastPlayed?(0,i.jsx)(O.ZP,{end:e.lastPlayed,location:O.ZP.Locations.GAME_LIBRARY_LAST_PLAYED}):P.intl.string(P.t.EoWLrq),(0,i.jsx)(b.Z,{align:b.Z.Align.CENTER,className:o()({[j.lastPlayedCellNew]:e.isNew}),children:t})}},{key:T.iEv.ACTIONS,renderHeader:()=>null,cellClassName:j.actionsCell,render(e,t,n){var r,a;if(null==t)throw Error("No cell props defined.");let s=e.key===t.activeRowKey;return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsxs)("div",{className:j.settingIcons,children:[(0,i.jsx)(D,{flag:T.eHb.PRIVATE,item:e,icon:p.kZF,tooltip:P.intl.string(P.t.NozAoq)}),(0,i.jsx)(D,{flag:T.eHb.OVERLAY_DISABLED,item:e,icon:p.o8v,tooltip:P.intl.string(P.t.Az9eqq)}),(0,i.jsx)(N.Z,{className:o()(j.settingIcon,{[j.hidden]:!e.supportsCloudSync}),libraryApplication:e.libraryApplication})]}),(0,C.Je)(e.libraryApplication)?(0,i.jsx)(m.Z,{analyticsListSort:(r=t.sortKey,a=t.sortDirection,"".concat(R[r]," ").concat(a===T.sHY.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:T.Sbl.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:s?p.zxk.Colors.GREEN:p.zxk.Colors.PRIMARY,isPlayShiny:s&&e.defaultAction===T.apO.PLAY,size:j.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:()=>null!=t&&t.setActiveRowKey(e),onDropdownClose:()=>null!=t&&t.clearActiveRowKey()}):(0,i.jsx)("div",{children:"deprecated!"})]})}}],M=e=>{var{item:t,activeRowKey:n,highlightedApplicationKey:r,onMouseEnter:l,onMouseLeave:a,onContextMenu:s,setRef:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"]);let d=t.key===n,p=t.key===r;return(0,i.jsx)("div",{className:o()({[j.rowWrapperActive]:d&&!p,[j.rowWrapperGlow]:p,[j.rowWrapper]:!d&&!p,[j.rowWrapperDim]:!d&&!t.isLaunchable}),ref:e=>{c(e,t.key)},onMouseEnter:()=>l(t),onMouseLeave:a,onContextMenu:e=>s(e,t),children:(0,i.jsx)("div",Z({},u))})};class U extends(r=l.PureComponent){componentDidMount(){let{fetched:e}=this.props;e&&(this.handleHighlightedApplicationKey(),this.trackViewed())}componentWillUnmount(){this._didUnmount=!0}componentDidUpdate(e){!e.fetched&&this.props.fetched&&(this.handleHighlightedApplicationKey(),this.trackViewed());let t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){let e=this._rowRefs[t];null!=e&&(h.Z.wait(f.Zy),this.props.scrollToRow(e,L))}}handleHighlightedApplicationKey(){let{highlightedApplicationKey:e}=this.state;null!=e&&null!=this._rowRefs[e]&&(this.props.scrollToRow(this._rowRefs[e],L),new u.V7().start(w,()=>{this._didUnmount||this.setState({highlightedApplicationKey:null})}))}trackViewed(){let e={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},{analyticsContext:t,applicationViewItems:n}=this.props;for(let t of n){switch(t.libraryApplication.getDistributor()){case T.GQo.DISCORD:e.num_applications_discord++;break;case T.GQo.STEAM:e.num_applications_steam++;break;case T.GQo.BATTLENET:e.num_applications_battlenet++;break;case T.GQo.TWITCH:e.num_applications_twitch++;break;case T.GQo.UPLAY:e.num_applications_uplay++;break;case T.GQo.ORIGIN:e.num_applications_origin++;break;case T.GQo.GOG:e.num_applications_gog++;break;case T.GQo.EPIC:e.num_applications_epic++}e.num_applications_total++}v.default.track(T.rMx.LIBRARY_VIEWED,x(Z({},e),{load_id:t.loadId}))}handleSort(e,t){g.fS(e,t)}renderImportHelp(){let e,{applicationViewItems:t,filterQuery:n}=this.props,r=t.length>0;return r?null:(e=""!==n?P.intl.format(P.t["4Q1TAg"],{query:n}):P.intl.string(P.t["0Y+0PT"]),(0,i.jsxs)("div",{className:r?j.emptyStateSmall:j.emptyStateLarge,children:[(0,i.jsx)("div",{className:j.emptyWumpus}),(0,i.jsx)(b.Z,{grow:0,shrink:+!!r,direction:b.Z.Direction.VERTICAL,children:(0,i.jsxs)("div",{className:j.emptyStateText,children:[(0,i.jsx)("div",{className:j.emptyStateHeader,children:P.intl.string(P.t.Lw8X2t)}),(0,i.jsx)("div",{className:j.emptyStateDescription,children:e})]})})]}))}render(){let{sortKey:e,sortDirection:t,applicationViewItems:n,activeRowKey:r,stickyHeader:a}=this.props,{overflowMenuRowKey:o,highlightedApplicationKey:s}=this.state;return(0,i.jsxs)(l.Fragment,{children:[n.length>0?(0,i.jsx)(_.Z,{columns:k,data:n,sortData:!1,rowComponent:M,className:j.table,headerClassName:a?j.stickyHeader:j.header,headerCellClassName:j.headerCell,sortedHeaderCellClassName:j.headerCellSorted,bodyCellClassName:j.bodyCell,rowClassName:j.row,sortKey:e,sortDirection:t,stickyHeader:a,rowProps:{activeRowKey:null!=o?o:r,highlightedApplicationKey:s,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:null!=o?o:r,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:e,sortDirection:t},onSort:this.handleSort}):null,this.renderImportHelp()]})}constructor(...e){super(...e),A(this,"_didUnmount",!1),A(this,"_rowRefs",{}),A(this,"state",{overflowMenuRowKey:null,highlightedApplicationKey:null!=this.props.location.state?this.props.location.state.applicationId:null}),A(this,"setActiveRowKey",e=>{this.setState({overflowMenuRowKey:e.key})}),A(this,"clearActiveRowKey",()=>{this._didUnmount||this.setState({overflowMenuRowKey:null})}),A(this,"handleRowMouseEnter",e=>{this.props.isNavigatingByKeyboard||g.wX(e.key)}),A(this,"handleRowMouseLeave",()=>{this.props.isNavigatingByKeyboard||g.wX(null)}),A(this,"setRowRef",(e,t)=>{this._rowRefs[t]=e}),A(this,"handleApplicationContextMenu",(e,t)=>{this.setActiveRowKey(t);let{analyticsContext:r}=this.props;(0,f.jW)(e,async()=>{let{default:e}=await n.e("98335").then(n.bind(n,485292));return n=>(0,i.jsx)(e,x(Z({},n),{applicationId:t.libraryApplication.id,branchId:t.libraryApplication.branchId,analyticsContext:r}))},{onClose:this.clearActiveRowKey})})}}function G(e){let t=l.useContext(v.AnalyticsContext),n=(0,s.TH)(),{applicationViewItems:r,filterQuery:a,fetched:o}=(0,c.cj)([y.Z],()=>({applicationViewItems:y.Z.sortedFilteredLibraryApplicationViewItems,filterQuery:y.Z.applicationFilterQuery,fetched:y.Z.hasFetchedApplications})),{sortKey:u,sortDirection:d,activeRowKey:p,isNavigatingByKeyboard:h}=(0,c.cj)([I.Z],()=>({sortKey:I.Z.sortKey,sortDirection:I.Z.sortDirection,activeRowKey:I.Z.activeRowKey,isNavigatingByKeyboard:I.Z.isNavigatingByKeyboard}));return(0,i.jsx)(U,x(Z({},e),{analyticsContext:t,location:n,applicationViewItems:r,filterQuery:a,fetched:o,sortKey:u,sortDirection:d,activeRowKey:p,isNavigatingByKeyboard:h}))}A(U,"defaultProps",{stickyHeader:!1})},86826:function(e,t,n){n.d(t,{Z:()=>p});var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(44315),o=n(600164),s=n(120998),c=n(353042),u=n(388032),d=n(596652);let p=function(e){var t;let{title:n,className:i,color:p,animate:h,gradientStopColor:f,getHistoricalTotalBytes:g}=e,m=(0,a.Sl)(p).hex,b=null==(t=(0,a.Sl)(f))?void 0:t.hex;return(0,r.jsx)(c.Z,{getHistoricalTotalBytes:g,children:(e,t,a)=>{var c;return(0,r.jsx)("div",{className:l()(d.monitor,i),children:(0,r.jsxs)(o.Z,{align:o.Z.Align.CENTER,children:[(0,r.jsxs)(o.Z,{className:d.text,direction:o.Z.Direction.VERTICAL,children:[(0,r.jsx)("div",{className:d.title,children:n}),(0,r.jsx)("div",{className:d.rate,children:(c=e[e.length-1]/t*1e3)>1e3?u.intl.formatToPlainString(u.t["WU+gTU"],{size:Math.round(c/1e3)}):u.intl.formatToPlainString(u.t.wnF6TE,{size:Math.round(c)})})]}),(0,r.jsx)("div",{className:d.overflowContainer,children:(0,r.jsx)(s.Z,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:d.sparkChart,updateInterval:t,color:m,gradientStopColor:b,numUpdatesToShow:a,animate:h,pixelWidth:600,pixelHeight:48,lineWidth:4})})]})})}})}},530151:function(e,t,n){n.d(t,{Z:()=>$}),n(415506),n(388685),n(539854);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(442837),u=n(692547),d=n(780384),p=n(481060),h=n(570140),f=n(239091),g=n(51025),m=n(785547),b=n(730749),_=n(112724),E=n(812206),O=n(44315),y=n(600164),I=n(167533),v=n(925329),C=n(707409),S=n(210887),N=n(283595),T=n(417363),P=n(941128),j=n(451478),A=n(424218),Z=n(780570),x=n(353042),L=n(86826),w=n(981631),R=n(388032),D=n(292926);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let M=e=>{let{className:t,children:n,onContextMenu:i,item:l}=e;return(0,r.jsx)("div",{className:t,onContextMenu:e=>i(e,l),children:n})},U=[u.Z.unsafe_rawColors.BLUE_345.css,u.Z.colors.INTERACTIVE_NORMAL.css],G=e=>{let{tooltip:t,onClick:n,icon:i}=e;return(0,r.jsx)(p.ua7,{text:t,children:e=>{let{onMouseEnter:l,onMouseLeave:a}=e;return(0,r.jsx)(p.zxk,{"aria-label":t,className:D.actionButton,innerClassName:D.actionButtonContents,color:p.zxk.Colors.PRIMARY,size:p.zxk.Sizes.ICON,onClick:n,onMouseEnter:l,onMouseLeave:a,children:(0,r.jsx)(i,{className:D.actionIcon})})}})};function V(e,t){switch(t){case w.f07.POST_INSTALL_SCRIPTS:case w.f07.PLANNING:case w.f07.FINALIZING:case w.f07.ALLOCATING_DISK:return"".concat(e);default:return(0,A.BU)(e,{useKibibytes:!0})}}let B={[w.vxO.INSTALLING]:{[C.J6.NONE]:(e,t,n,r)=>R.intl.formatToPlainString(R.t.JfJt9f,{percent:e,progress:t,total:n}),[C.J6.SECONDS]:(e,t,n,r)=>R.intl.formatToPlainString(R.t["1z3c6e"],{percent:e,progress:t,total:n,timeRemaining:r}),[C.J6.MINUTES]:(e,t,n,r)=>R.intl.formatToPlainString(R.t.PCX509,{percent:e,progress:t,total:n,timeRemaining:r}),[C.J6.HOURS]:(e,t,n,r)=>R.intl.formatToPlainString(R.t["3VG9s7"],{percent:e,progress:t,total:n,timeRemaining:r})},[w.vxO.UPDATING]:{[C.J6.NONE]:(e,t,n,r)=>R.intl.formatToPlainString(R.t.JsqXXF,{percent:e,progress:t,total:n}),[C.J6.SECONDS]:(e,t,n,r)=>R.intl.formatToPlainString(R.t["3BvVeX"],{percent:e,progress:t,total:n,timeRemaining:r}),[C.J6.MINUTES]:(e,t,n,r)=>R.intl.formatToPlainString(R.t.rwULn5,{percent:e,progress:t,total:n,timeRemaining:r}),[C.J6.HOURS]:(e,t,n,r)=>R.intl.formatToPlainString(R.t.adcitL,{percent:e,progress:t,total:n,timeRemaining:r})},[w.vxO.REPAIRING]:{[C.J6.NONE]:(e,t,n,r)=>R.intl.formatToPlainString(R.t.JfJt9f,{percent:e,progress:t,total:n}),[C.J6.SECONDS]:(e,t,n,r)=>R.intl.formatToPlainString(R.t["1z3c6e"],{percent:e,progress:t,total:n,timeRemaining:r}),[C.J6.MINUTES]:(e,t,n,r)=>R.intl.formatToPlainString(R.t.PCX509,{percent:e,progress:t,total:n,timeRemaining:r}),[C.J6.HOURS]:(e,t,n,r)=>R.intl.formatToPlainString(R.t["3VG9s7"],{percent:e,progress:t,total:n,timeRemaining:r})}};function H(e,t,n,r,i){let l=B[t],a=null!=l?Object.keys(l):[],{unit:o,time:s}=(0,C.CI)(null!=e?e/60:null,a);if(null!=l&&null!=o){let e=l[o];return null!=e?e(n,r,i,s):null}return null}function F(e){let{type:t,stage:n,percent:r,progress:i,total:l,secondsRemaining:a}=e,o=V(l,n),s=V(i,n);switch(n){case w.f07.QUEUED:if(0===i)return R.intl.string(R.t.RpfBqa);return R.intl.formatToPlainString(R.t.uNjCXV,{percent:r,progress:s,total:o});case w.f07.PLANNING:return R.intl.formatToPlainString(R.t.sfuCUV,{percent:r});case w.f07.ALLOCATING_DISK:return R.intl.formatToPlainString(R.t.XigoJy,{percent:r});case w.f07.PATCHING:return H(a,t,r,s,o);case w.f07.FINALIZING:return R.intl.formatToPlainString(R.t["6PHDUF"],{percent:r});case w.f07.PAUSING:return R.intl.formatToPlainString(R.t.vjxhWl,{percent:r,progress:s,total:o});case w.f07.VERIFYING:return R.intl.formatToPlainString(R.t.bbilvr,{percent:r,progress:s,total:o});case w.f07.POST_INSTALL_SCRIPTS:return R.intl.formatToPlainString(R.t.c5vRUl,{percent:r,progress:s,total:o});case w.f07.REPAIRING:if(t===w.vxO.REPAIRING)return H(a,t,r,s,o);return R.intl.formatToPlainString(R.t.OCzETU,{percent:r,progress:s,total:o})}throw Error("Invalid Dispatch stage")}class z extends i.PureComponent{get isFocused(){let{cellProps:e}=this.props;return null!=e&&e.isFocused}renderBody(e){let{percent:t,foregroundColor:n,foregroundGradientColor:i,message:l}=e;return(0,r.jsxs)(y.Z,{direction:y.Z.Direction.VERTICAL,children:[(0,r.jsx)(p.Exd,{percent:t,size:p.Exd.Sizes.SMALL,foregroundColor:(0,O.Lq)(n),foregroundGradientColor:null!=i?[(0,O.Lq)(i[0]),(0,O.Lq)(i[1])]:void 0,animate:this.isFocused}),(0,r.jsx)("div",{className:D.progressCellText,children:null!=l?l:""})]})}renderStackedProgress(e){let{percents:t,message:n}=e;return(0,r.jsxs)(y.Z,{direction:y.Z.Direction.VERTICAL,children:[(0,r.jsx)(p.yGy,{percents:t,size:p.yGy.Sizes.SMALL,foregroundColors:U,animate:this.isFocused}),(0,r.jsx)("div",{className:D.progressCellText,children:null!=n?n:""})]})}renderFinished(){let{item:e}=this.props;return this.renderBody({message:R.intl.format(R.t.z1oxGB,{remove:()=>g.wi(e.applicationId,e.branchId)}),foregroundColor:(0,d.ap)(e.theme)?w.Ilk.PRIMARY_300:w.Ilk.PRIMARY_500,percent:100})}renderQueued(){let e,t,{item:{state:n,theme:r}}=this.props;if(null!=n){let{progress:r,total:i,stage:l}=n;if(null!=r&&null!=i){let n=V(i,l),a=V(r,l),o=Math.floor(t=Z.xI(r,i));e=l===w.f07.PAUSING?R.intl.formatToPlainString(R.t.vjxhWl,{percent:o,progress:a,total:n}):R.intl.formatToPlainString(R.t.voT3Bg,{percent:o,progress:a,total:n})}}return(null==t||null==e)&&(t=0,e=R.intl.string(R.t["qS+iKS"])),this.renderBody({percent:t,foregroundColor:(0,d.ap)(r)?w.Ilk.PRIMARY_300:w.Ilk.PRIMARY_500,message:e})}renderPaused(){let{item:{state:e,theme:t}}=this.props;if(null==e)return null;let{progress:n,total:r}=e;if(null==n||null==r)return null;let i=Z.xI(n,r),l=Math.floor(i),a=0===n&&1===r?R.intl.string(R.t["+pfsFR"]):R.intl.formatToPlainString(R.t["+feX8f"],{percent:l,progress:(0,A.BU)(n),total:(0,A.BU)(r)});return this.renderBody({message:a,foregroundColor:(0,d.ap)(t)?w.Ilk.PRIMARY_300:w.Ilk.PRIMARY_500,percent:i})}renderProgressPatching(){return(0,r.jsx)(x.Z,{getHistoricalTotalBytes:T.Z.getHistoricalTotalBytesWritten,updateInterval:5e3,children:this.renderProgressPatchingBody})}renderProgressDefault(){let{state:e}=this.props.item;if(null==e)return null;let{total:t,progress:n,stage:r,type:i}=e;if(null==t||null==n||null==r)return null;let l=Z.xI(n,t),a=Math.floor(l);return this.renderBody({percent:l,message:F({type:i,stage:r,percent:a,progress:n,total:t}),foregroundColor:w.Ilk.BLUE_345})}renderProgress(){let{state:e}=this.props.item;switch(null!=e?e.stage:null){case w.f07.PATCHING:case w.f07.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}}render(){let{item:e,cellProps:t}=this.props;if(e.finished)return this.renderFinished();if(e.index>0)return this.renderQueued();if(null!=e.state&&(e.state.type===w.vxO.UPDATING||e.state.type===w.vxO.REPAIRING||e.state.type===w.vxO.INSTALLING))if(null!=t&&t.paused)return this.renderPaused();else return this.renderProgress();return null}constructor(...e){super(...e),k(this,"renderProgressPatchingBody",(e,t)=>{let{item:{state:n}}=this.props;if(null==n)return null;let{stage:r,progress:i,total:l,type:a,readerProgress:o}=n;if(null==i||null==l||null==r)return null;let s=Z.xI(i,l),c=Z.xI(null!=o?o:0,l),u=e[e.length-1]/t*1e3,d=l-i,p=F({type:a,stage:r,percent:Math.floor(s),progress:i,total:l,secondsRemaining:0!==u?Math.max(1,d/u):null});return this.renderStackedProgress({percents:[s,c],message:p})})}}let W=()=>(0,r.jsx)(G,{icon:p.o1U,tooltip:R.intl.string(R.t.YGm6SU),onClick:()=>g.v4()}),Y=()=>(0,r.jsx)(G,{icon:p.fpf,tooltip:R.intl.string(R.t.TVAd5O),onClick:()=>g.wO()}),K=e=>{let{item:t}=e;return(0,r.jsx)(G,{icon:p.wj7,tooltip:R.intl.string(R.t["Eqb+LC"]),onClick:()=>g.A1(t.applicationId,t.branchId)})},q=e=>{let{item:t}=e;return(0,r.jsx)(G,{icon:p.Dio,tooltip:R.intl.string(R.t["0lFmCw"]),onClick:()=>g.al(t.applicationId,t.branchId)})},Q=[{key:"name",cellClassName:D.nameCell,render:e=>(0,r.jsxs)(y.Z,{align:y.Z.Align.CENTER,children:[(0,r.jsx)(v.Z,{game:e.application,className:D.__invalid_gameIcon,size:v.Z.Sizes.SMALL}),(0,r.jsx)("div",{className:D.nameCellText,children:e.application.name})]})},{key:"progress",cellClassName:D.progressCell,headerCellClassName:D.progressCellHeader,bodyCellClassName:D.progressCellBody,render:(e,t)=>(0,r.jsx)(z,{item:e,cellProps:t})},{key:"actions",cellClassName:D.actionsCell,render(e,t){let n,i;return e.finished?n=null!=e.libraryApplication?(0,r.jsx)(m.Z,{libraryApplication:e.libraryApplication,size:p.zxk.Sizes.SMALL,className:D.gameActionButton,source:w.Sbl.APPLICATION_LIBRARY_UPDATES}):null:null!=e.state?e.state.type!==w.vxO.UP_TO_DATE&&(n=e.index>0?(0,r.jsx)(K,{item:e}):null!=t&&t.paused?(0,r.jsx)(W,{}):(0,r.jsx)(Y,{item:e}),i=(0,r.jsx)(q,{item:e})):i=(0,r.jsx)(q,{item:e}),(0,r.jsxs)(y.Z,{justify:y.Z.Justify.END,children:[n,i]})}}];class X extends i.PureComponent{componentDidMount(){window.addEventListener("resize",this.throttledUpdateHeight)}componentDidUpdate(e){this.props.height!==e.height&&this.throttledUpdateHeight()}componentWillUnmount(){let{applications:e}=this.props;e.forEach(e=>{e.finished&&h.Z.wait(()=>{g.wi(e.applicationId,e.branchId)})}),window.removeEventListener("resize",this.throttledUpdateHeight),this.isUnmounted=!0}render(){let{applications:e,paused:t,isFocused:i,theme:l,analyticsContext:o}=this.props;return 0===e.length?null:(0,r.jsxs)("div",{className:D.gameUpdates,children:[(0,r.jsxs)("div",{className:D.headerRow,children:[(0,r.jsx)(L.Z,{className:a()(D.headerCell,D.networkProgress),title:R.intl.string(R.t.ytoXKi),getHistoricalTotalBytes:T.Z.getHistoricalTotalBytesDownloaded,color:w.Ilk.GREEN_360,animate:i}),(0,r.jsx)(L.Z,{className:a()(D.headerCell,D.diskProgress),title:R.intl.string(R.t.SjohhI),getHistoricalTotalBytes:T.Z.getHistoricalTotalBytesWritten,color:w.Ilk.BLUE_345,animate:i})]}),(0,r.jsx)(I.Z,{hasHeader:!1,columns:Q,data:e,className:D.table,rowClassName:D.row,rowComponent:M,cellProps:{paused:t,isFocused:i,theme:l},rowProps:{onContextMenu:(e,t)=>{f.jW(e,async()=>{let{default:e}=await n.e("98335").then(n.bind(n,485292));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){k(e,t,n[t])})}return e}({},n),l=l={applicationId:t.applicationId,branchId:t.branchId,analyticsContext:o},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}},bodyCellClassName:D.cell})]})}constructor(...e){super(...e),k(this,"isUnmounted",!1),k(this,"isTallerThanHalfViewport",!1),k(this,"throttledUpdateHeight",s().throttle(()=>{if(this.isUnmounted)return;let{height:e,onHeightTallerThanHalfViewportChange:t}=this.props,n=e>window.innerHeight/2;this.isTallerThanHalfViewport!==n&&(this.isTallerThanHalfViewport=n,t(n))},1e3))}}function J(e,t,n,r){return e.reduce((e,i,l)=>{let{applicationId:a,branchId:o}=i,s=n.getApplication(a),c=r.getState(a,o);return null!=s&&e.push({key:"".concat(a,":").concat(o),applicationId:a,branchId:o,state:c,application:s,libraryApplication:N.Z.getLibraryApplication(a,o),finished:t,index:l}),e},[])}let $=(0,_.Z)(c.ZP.connectStores([E.Z,T.Z,P.Z,S.Z,j.Z],()=>({applications:[...J(P.Z.activeItems,!1,E.Z,T.Z),...J(P.Z.finishedItems,!0,E.Z,T.Z)],paused:P.Z.paused,isFocused:j.Z.isFocused(),theme:S.Z.theme}))((0,b.Z)(X)))},689796:function(e,t,n){n.d(t,{Z:()=>p});var r=n(255367),i=n(73800),l=n(77878),a=n(770146),o=n(600164),s=n(981631),c=n(388032),u=n(719656);class d extends i.PureComponent{renderContentRatingImage(){let{contentRating:e,contentRatingAgency:t}=this.props.sku;return null==e||null==t?null:(0,r.jsx)(l.Z,{className:u.rating,agency:t,rating:e.rating})}render(){let{sku:{contentRating:e,contentRatingAgency:t},className:n}=this.props;if(null==e||null==t)return null;let i={[s.aIt.ESRB]:{1:c.intl.string(c.t.ErVezc),2:c.intl.string(c.t.xLyerK),3:c.intl.string(c.t.UmB6j4),4:c.intl.string(c.t.NHOQIy),5:c.intl.string(c.t.U6xTOz),6:c.intl.string(c.t["51xJIy"]),7:c.intl.string(c.t.uayp6u),8:c.intl.string(c.t.c1GtKi),9:c.intl.string(c.t.Hz8vra),10:c.intl.string(c.t.qSyzdX),11:c.intl.string(c.t.K68q8f),12:c.intl.string(c.t.Yb0n6O),13:c.intl.string(c.t.IIFZqq),14:c.intl.string(c.t["NZ/JGR"]),15:c.intl.string(c.t["5qETTU"]),16:c.intl.string(c.t.kJGLz8),17:c.intl.string(c.t.cB2QRE),18:c.intl.string(c.t.g9SiEx),19:c.intl.string(c.t["Xe0T5+"]),20:c.intl.string(c.t["4k6sY2"]),21:c.intl.string(c.t.cxFiDA),22:c.intl.string(c.t.YvpQKy),23:c.intl.string(c.t.i2gbpa),24:c.intl.string(c.t["LooT/f"]),25:c.intl.string(c.t["/AIXho"]),26:c.intl.string(c.t.oo09Hx),27:c.intl.string(c.t.XCUBe3),28:c.intl.string(c.t.g6dipa),29:c.intl.string(c.t.YYGUqq),30:c.intl.string(c.t.WsqFnJ),31:c.intl.string(c.t.zePEoq),32:c.intl.string(c.t.bGErw8),33:c.intl.string(c.t["imoY9/"]),34:c.intl.string(c.t["Z+VBdn"]),35:c.intl.string(c.t.eBgo0N),36:c.intl.string(c.t["6SVTt7"]),37:c.intl.string(c.t["8Lme6e"]),38:c.intl.string(c.t.ettX4O),39:c.intl.string(c.t.nnVZFx),40:c.intl.string(c.t.TWlbXl),41:c.intl.string(c.t.CAGgEx),42:c.intl.string(c.t["jRZf+f"]),43:c.intl.string(c.t["4Vg0mp"])},[s.aIt.PEGI]:{1:c.intl.string(c.t.VcO2U1),2:c.intl.string(c.t["wt264+"]),3:c.intl.string(c.t["5yzEJS"]),4:c.intl.string(c.t.NBQZX1),5:c.intl.string(c.t["4UG90d"]),6:c.intl.string(c.t.Cf5CtL),7:c.intl.string(c.t.ai9C3d)}},l=e.descriptors.map(e=>i[t][e]).join(", ");return(0,r.jsxs)("div",{className:n,children:[(0,r.jsx)(a.Z,{children:c.intl.string(c.t.q9Zqgo)}),(0,r.jsxs)(o.Z,{className:u.content,children:[this.renderContentRatingImage(),(0,r.jsx)("div",{className:u.__invalid_info,children:l})]})]})}}let p=d},506648:function(e,t,n){n.d(t,{Z:()=>b});var r=n(255367),i=n(73800),l=n(481060),a=n(770146),o=n(863969),s=n(38761),c=n(6074),u=n(39377),d=n(981631),p=n(388032),h=n(46703);let f=[{feature:d.Qa3.SINGLE_PLAYER,getText:()=>p.intl.string(p.t["V+/FjI"]),getTooltip:()=>p.intl.string(p.t["w+X9sb"]),IconComponent:l.tBG},{feature:d.Qa3.LOCAL_MULTIPLAYER,getText:()=>p.intl.string(p.t.srnWrq),getTooltip:()=>p.intl.string(p.t.sDdLWF),IconComponent:l.BFJ},{feature:d.Qa3.ONLINE_MULTIPLAYER,getText:()=>p.intl.string(p.t.xPHbgI),getTooltip:()=>p.intl.string(p.t.g6kR4O),IconComponent:l.BFJ},{feature:d.Qa3.PVP,getText:()=>p.intl.string(p.t.qhgwx8),getTooltip:()=>p.intl.string(p.t["5jGrhI"]),IconComponent:l.HI3},{feature:d.Qa3.LOCAL_COOP,getText:()=>p.intl.string(p.t.FqbalJ),getTooltip:()=>p.intl.string(p.t.vIgDgY),IconComponent:l.BFJ},{feature:d.Qa3.ONLINE_COOP,getText:()=>p.intl.string(p.t.lDHO4e),getTooltip:()=>p.intl.string(p.t.VXDpho),IconComponent:l.BFJ},{feature:d.Qa3.CROSS_PLATFORM,getText:()=>p.intl.string(p.t.SWo2HR),getTooltip:()=>p.intl.string(p.t.ll2wzc),IconComponent:l.DuK},{feature:d.Qa3.RICH_PRESENCE,getText:()=>p.intl.string(p.t.PVSVtL),getTooltip:()=>p.intl.string(p.t.O6Yp4e),IconComponent:c.Z},{feature:d.Qa3.DISCORD_GAME_INVITES,getText:()=>p.intl.string(p.t.agm68P),getTooltip:()=>p.intl.string(p.t.kS2vFB),IconComponent:s.Z},{feature:d.Qa3.SPECTATOR_MODE,getText:()=>p.intl.string(p.t["ZtiU7+"]),getTooltip:()=>p.intl.string(p.t.kUtiKS),IconComponent:l.Odl},{feature:d.Qa3.CONTROLLER_SUPPORT,getText:()=>p.intl.string(p.t.UlBQ8P),getTooltip:()=>p.intl.string(p.t.iG00jI),IconComponent:l.xoD},{feature:d.Qa3.CLOUD_SAVES,getText:()=>p.intl.string(p.t.rOcNrK),getTooltip:()=>p.intl.string(p.t.kvw18P),IconComponent:o.Z},{feature:d.Qa3.SECURE_NETWORKING,getText:()=>p.intl.string(p.t.GKFWLy),getTooltip:()=>p.intl.string(p.t.VudViI),IconComponent:u.Z}],g=e=>{let{IconComponent:t,text:n,tooltip:i}=e;return(0,r.jsxs)("div",{className:h.row,children:[(0,r.jsx)(l.ua7,{text:i,children:e=>(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:h.featureIcon},e))}),(0,r.jsx)("span",{className:h.featureText,children:n}),(0,r.jsx)(l.dz2,{size:"md",color:"currentColor",className:h.checkmarkIcon})]})};class m extends i.PureComponent{render(){let{sku:e}=this.props,t=f.filter(t=>{let{feature:n}=t;return e.features.has(n)}).map(e=>{let{feature:t,IconComponent:n,getText:i,getTooltip:l}=e;return(0,r.jsx)(g,{IconComponent:n,text:i(),tooltip:l()},t)});return 0===t.length?null:(0,r.jsxs)("div",{className:h.features,children:[(0,r.jsx)(a.Z,{children:p.intl.string(p.t.XXENra)}),t]})}}let b=m},449275:function(e,t,n){n.d(t,{Z:()=>c});var r=n(255367),i=n(73800),l=n(770146),a=n(388032),o=n(716147);class s extends i.PureComponent{render(){let{className:e,sku:t}=this.props;return null==t.legalNotice?null:(0,r.jsxs)("div",{className:e,children:[(0,r.jsx)(l.Z,{children:a.intl.string(a.t.m8OiMj)}),(0,r.jsx)("div",{className:o.content,children:t.legalNotice})]})}}let c=s},733789:function(e,t,n){n.d(t,{Z:()=>O}),n(953529),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(481060),s=n(100527),c=n(707409),u=n(670188),d=n(237583),p=n(51144),h=n(981631),f=n(388032),g=n(629390);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}let _={[h.AzA.NOW_PLAYING]:{single:(e,t)=>f.intl.format(f.t.NEckzc,{user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>f.intl.format(f.t["6uWulZ"],{user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>f.intl.format(f.t["8fMgRU"],{count:e})},[h.AzA.RECENTLY_PLAYED]:{single:(e,t)=>f.intl.format(f.t["nB/JND"],{user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>f.intl.format(f.t.AZCcHR,{user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>f.intl.format(f.t.yNuaTU,{count:e})},[h.AzA.EVER_PLAYED]:{single:(e,t)=>f.intl.format(f.t.Fecf3N,{user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>f.intl.format(f.t["0LiGbG"],{user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>f.intl.format(f.t.Yx1rjY,{count:e})}};class E extends i.PureComponent{renderDescription(e,t){let n=_[e];return 1===t.length?n.single(t[0].user,e=>this.renderActivityDiscordTag(e)):2===t.length?n.double(t[0].user,t[1].user,e=>this.renderActivityDiscordTag(e)):n.other(t.length)}renderActivityDiscordTag(e){return(0,r.jsx)(u.Z,{targetElementRef:this.activityDiscordTagRef,user:e,newAnalyticsLocations:[s.Z.USERNAME],clickTrap:!0,children:t=>{var n,i;return(0,r.jsx)("span",(n=b({ref:this.activityDiscordTagRef,className:g.username},t),i=i={children:e.username},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}},e.id)}render(){let{reason:e,className:t}=this.props,{type:n,userInfo:i}=e;return 0===i.length?null:(0,r.jsxs)("div",{className:a()(g.recommendationActivity,t),children:[(0,r.jsx)(d.Z,{className:g.players,users:i.map(e=>{let{user:t}=e;return t}),renderUser:this.renderPlayer,max:4,renderMoreUsers:this.renderPlayerOverflow}),(0,r.jsx)("div",{className:g.description,children:this.renderDescription(n,i)})]})}constructor(...e){super(...e),m(this,"activityDiscordTagRef",i.createRef()),m(this,"playerAvatarRef",i.createRef()),m(this,"renderUserTooltip",(e,t,n)=>(0,r.jsxs)("div",{className:g.tooltip,children:[(0,r.jsx)("div",{children:p.ZP.getUserTag(e)}),(0,r.jsx)(c.ZP,{className:g.tooltipTimestamp,start:t,end:n,location:c.ZP.Locations.ACTIVITY_FEED})]})),m(this,"renderPlayer",(e,t,n,i)=>{if(null==e)return null;let l=this.props.reason.userInfo.find(t=>t.user===e);return null==l?null:(0,r.jsx)(u.Z,{targetElementRef:this.playerAvatarRef,user:e,newAnalyticsLocations:[s.Z.AVATAR],clickTrap:!0,children:t=>(0,r.jsx)(o.ua7,{text:this.renderUserTooltip(e,l.startTime,l.endTime),"aria-label":(0,p.W5)(e,{decoration:"never"}),children:n=>(0,r.jsx)(o.qEK,b({ref:this.playerAvatarRef,className:a()(g.playerAvatar,{[g.avatarMasked]:!i}),src:e.getAvatarURL(void 0,32),"aria-label":e.username,size:o.EFr.SIZE_32},n,t))})},e.id)}),m(this,"renderPlayerOverflow",(e,t,n)=>(0,r.jsx)("div",{className:g.playerOverflow,children:e},n))}}let O=E},4962:function(e,t,n){n.d(t,{Z:()=>m}),n(415506);var r,i=n(255367);n(73800);var l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(700582),u=n(451478),d=n(388032),p=n(36028),h=((r=h||{})[r.STAFF_NOTES=1]="STAFF_NOTES",r);let f=o.ZP.connectStores([u.Z],()=>({animate:u.Z.isFocused()}))(e=>{let{user:t,className:n,animate:r}=e;return(0,i.jsxs)("div",{className:a()(p.staffReviewHeader,n),children:[(0,i.jsx)(c.Z,{size:s.EFr.SIZE_32,user:t,animate:r}),(0,i.jsxs)("div",{className:p.headerText,children:[(0,i.jsx)("div",{className:p.label,children:d.intl.string(d.t.vmzMZG)}),(0,i.jsx)("div",{className:p.username,children:t.username})]})]})}),g=e=>{let{data:t,className:n}=e;if(1===t.type){if(null==t.staffNotes)return null;let{user:e,content:r}=t.staffNotes;return null==e?null:(0,i.jsxs)("div",{className:n,children:[(0,i.jsx)(f,{user:e,className:p.header}),(0,i.jsx)("div",{className:p.notes,children:r})]})}throw Error("Unknown type")};g.Types=h;let m=g},911314:function(e,t,n){n.d(t,{Z:()=>s});var r=n(255367);n(73800);var i=n(114858),l=n(730749),a=n(928207),o=n(981631);let s=(0,l.Z)(function(){return(0,r.jsxs)(i.rs,{children:[(0,r.jsx)(i.AW,{path:o.Z5c.APPLICATION_STORE,exact:!0,render:()=>(0,r.jsx)(a.Z,{})}),(0,r.jsx)(i.l_,{to:o.Z5c.APP})]})})},928207:function(e,t,n){n.d(t,{Z:()=>N});var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(114858),o=n(674746),s=n(442837),c=n(780384),u=n(481060),d=n(410575),p=n(730749),h=n(666743),f=n(410030),g=n(100527),m=n(906732),b=n(600164),_=n(984370),E=n(299657),O=n(594174),y=n(74538),I=n(981631),v=n(474936),C=n(388032),S=n(881207);let N=s.ZP.connectStores([O.default],()=>({user:O.default.getCurrentUser()}))((0,h.Z)((0,p.Z)(e=>{let{isAuthenticated:t,user:n}=e,{analyticsLocations:i}=(0,m.ZP)(g.Z.HOME_PAGE_PREMIUM_TAB),s=(0,y.I5)(n,v.p9.TIER_2),p=(0,f.ZP)();return t?(0,r.jsxs)("div",{className:S.homeWrapperNormal,children:[(0,r.jsx)(d.Z,{section:I.jXE.NAVIGATION,children:(0,r.jsx)(u.f6W,{theme:p,children:e=>(0,r.jsxs)(_.Z,{isAuthenticated:t,className:l()(S.headerBar,e,{[S.headerBarV2LightBackground]:!s&&!(0,c.wj)(p),[S.headerBarV2DarkBackground]:!s&&(0,c.wj)(p)}),role:"navigation",children:[(0,r.jsx)(_.Z.Icon,{icon:u.SrA,"aria-hidden":!0,color:s?void 0:o.Z.PREMIUM_TIER_2_PINK}),(0,r.jsx)(_.Z.Title,{children:C.intl.string(C.t.Ipxkoq)})]})})}),(0,r.jsx)(m.Gt,{value:i,children:null==n?(0,r.jsx)(b.Z,{align:b.Z.Align.CENTER,justify:b.Z.Justify.CENTER,children:(0,r.jsx)(u.$jN,{className:S.spinner})}):(0,r.jsx)(E.Z,{entrypoint:v.EZ.ApplicationStoreHome})})]}):(0,r.jsx)(a.l_,{to:I.Z5c.LOGIN})})))},613311:function(e,t,n){n.d(t,{Z:()=>ep}),n(415506),n(953529),n(539854),n(290780),n(388685),n(997841);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(846519),c=n(780384),u=n(481060),d=n(570140),p=n(659429),h=n(496929),f=n(558381),g=n(410575),m=n(224336),b=n(730749),_=n(666743),E=n(115130),O=n(812206),y=n(770146),I=n(600164),v=n(606081),C=n(252618),S=n(100159),N=n(646288),T=n(984370),P=n(706454),j=n(210887),A=n(430824),Z=n(496675),x=n(525395),L=n(558314),w=n(580130),R=n(55563),D=n(551428),k=n(695103),M=n(451478),U=n(626135),G=n(572004),V=n(630388),B=n(937615),H=n(73346),F=n(3570),z=n(689796),W=n(15470),Y=n(506648),K=n(449275),q=n(445986),Q=n(119520),X=n(450233),J=n(726581),$=n(74153),ee=n(125930),et=n(178071),en=n(176055),er=n(843445),ei=n(981631),el=n(186901),ea=n(388032),eo=n(281990);function es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){es(e,t,n[t])})}return e}function eu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class ed extends i.PureComponent{get isChannelType(){return null!=this.props.channel}componentDidMount(){let{sku:e,storeListing:t,isFetchingEntitlements:n,shouldFetchStatistics:r,didFetchEntitlements:i,location:l,fetchStoreListing:a}=this.props;if(null!=l.state){let{analyticsSource:e,analyticsProperties:t}=l.state;this._analyticsSource=e,this._extraAnalyticsProperties=t}else this._analyticsSource=ei.SaU;(null==t||t.isSlimDirectoryVersion())&&a(),null!=e&&(n||i||(0,h.yD)(e.applicationId),r&&d.Z.wait(()=>(0,p.$)(e.applicationId))),this.trackViewed(),this.replaceUrlWithSlug()}componentDidUpdate(e){let{locale:t,sku:n,shouldFetchStatistics:r,skuId:i,storeListingId:l,slug:a,storeListing:o,fetchStoreListing:s}=this.props;if(o!==e.storeListing&&null!=o&&(0,F.s)(el.jE.STORE_LISTING,{skuId:i,slug:a}),(t!==e.locale||i!==e.skuId)&&s(),r&&!e.shouldFetchStatistics){if(null==n)throw Error("Unexpected missing sku");d.Z.wait(()=>(0,p.$)(n.applicationId))}(i!==e.skuId||l!==e.storeListingId)&&(this._trackedViewed=!1),this.trackViewed(),this.replaceUrlWithSlug()}componentWillUnmount(){this.showCopyLinkTextTimeout.stop();let{analyticsContext:{loadId:e,loadDate:t}}=this.props;null!=t&&U.default.track(ei.rMx.STORE_LISTING_EXITED,{load_id:e,duration_ms:Date.now()-t})}replaceUrlWithSlug(){}trackViewed(){let{sku:e,storeListing:t,hasFetchedNews:n,analyticsContext:r}=this.props;if(this._trackedViewed||null==e||null==t||null==t.description||!(this.isChannelType||n))return;let i=t.carouselItems.reduce((e,t)=>(null!=t.assetId?e.images++:e.videos++,e),{images:0,videos:0});U.default.track(ei.rMx.STORE_LISTING_VIEWED,ec(eu(ec({},this._extraAnalyticsProperties),{load_id:r.loadId,has_description:null!=t.description&&t.description.length>0,has_staff_review:null!=t.staffNotes,carousel_image_count:i.images,carousel_video_count:i.videos,location:r.location.page,source:this._analyticsSource}),(0,S.Z)(e,!0))),this._trackedViewed=!0}renderHeader(e,t){let{channel:n,isAuthenticated:l}=this.props;return(0,r.jsx)(T.Z,{isAuthenticated:l,toolbar:this.renderHeaderToolbar(e,t),children:null!=n?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(T.Z.Icon,{icon:u.lO_,"aria-label":ea.intl.string(ea.t["P1/Erq"])}),(0,r.jsx)(T.Z.Title,{children:n.name})]}):null!=t&&t.premium?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(T.Z.Icon,{icon:u.SrA,"aria-label":ea.intl.string(ea.t.Ipxkoq)}),(0,r.jsx)($.Z,{sku:t})]}):null!=t?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(T.Z.Icon,{icon:u.lO_,"aria-label":ea.intl.string(ea.t["P1/Erq"])}),(0,r.jsx)(T.Z.Title,{children:t.name})]}):null})}parseMediaItems(e,t,n){let{assetId:r,youtubeVideoId:i}=t;if(null!=r){let t=n.find(e=>e.id===r);if(null!=t){let{width:n,height:r}=t;if(null==n||null==r)throw Error("ApplicationStoreListing.parseMediaItems: Video and Image assets must have a width and height defined");return t.mimeType.startsWith("video/")?{type:ei.s9s.VIDEO,thumbnailSrc:(0,H._W)(e.id,t,1024,"webp"),src:(0,H._W)(e.id,t),height:r,width:n}:{type:ei.s9s.IMG,src:(0,H._W)(e.id,t,1024),height:r,width:n}}}if(null!=i)return{type:ei.s9s.YOUTUBE_VIDEO,youtubeVideoId:i};throw Error("Store carousel item must have one of assetId or youtubeVideoId")}renderHeaderAssets(e,t,n){let{theme:i}=this.props,l=t.headerBackground,a=(0,c.ap)(i)?t.headerLogoLightTheme:t.headerLogoDarkTheme;return null==l||null==a?(0,r.jsx)("div",{className:eo.noHeaderSpacer}):(0,r.jsxs)("div",{className:eo.headerAssets,children:[(0,r.jsx)("div",{className:eo.headerBackground,style:{backgroundImage:"url(".concat((0,H._W)(e.id,l,1024,"png"),")")}}),(0,r.jsx)("img",{className:eo.headerLogo,src:(0,H._W)(e.id,a,1024,"png"),alt:n.name})]})}renderWhyYouMightLikeThis(e,t){return(0,r.jsx)(J.Z,{sku:e,storeListing:t,className:eo.whyYouMightLikeIt})}renderVerifiedGuildInvite(e,t){if(null==e.guild)return null;let{channel:n,pageSize:i}=this.props;return(0,r.jsx)(en.Z,{skuId:t.id,guild:e.guild,className:eo.guildInvite,inChannel:null!=n,pageSize:i})}renderFeatures(e){return(0,r.jsx)(Y.Z,{sku:e})}renderSystemRequirements(e){return null==e.systemRequirements||0===Object.keys(e.systemRequirements).length?null:(0,r.jsx)(ee.Z,{className:eo.systemRequirements,systemRequirements:e.systemRequirements,pageSize:this.props.pageSize})}renderDescription(e,t,n){let{description:l}=t;if(null==l)throw Error("Rendering ApplicationStoreListing without description");return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(y.Z,{tag:"h1",children:ea.intl.format(ea.t.tluX4O,{name:n.name})}),(0,r.jsx)(m.Z,{}),(0,r.jsx)(W.Z,{applicationId:e.id,blurb:t.summary,description:l,className:eo.description,assets:t.assets})]})}renderApplicationContentRating(e){return(0,r.jsx)(z.Z,{sku:e,className:eo.contentRating})}renderApplicationLegalInfo(e){return(0,r.jsx)(K.Z,{sku:e,className:eo.legalInfo})}renderJsonLD(){let{sku:e,storeListing:t,application:n}=this.props;if(null==e||null==t||null==n)return null;let i=[],l=n.getSplashURL(1024);null!=l&&i.push(l),null!=t.headerLogoLightTheme&&i.unshift((0,H._W)(n.id,t.headerLogoLightTheme,1024,"jpg"));let a=v.Z.Product({name:e.name,description:null!=e.summary&&""!==e.summary?e.summary:t.tagline,image:v.Z.Product.Image(i),sku:e.id}),o=e.getPrice();if(null!=o){let{amount:e,currency:t}=o;a.offers=v.Z.Offer({priceCurrency:t.toUpperCase(),price:(0,B.T4)(e,t,{style:"decimal"})})}let s=v.Z.ItemPage({mainEntity:a});return(0,r.jsx)(v.Z,{data:s})}renderSmall(e,t,n){return(0,r.jsxs)("div",{className:a()(eo.listing,eo.listingSmall),children:[this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)]})}renderLarge(e,t,n){return(0,r.jsxs)("div",{className:eo.listing,children:[this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),(0,r.jsx)("div",{className:eo.listingLarge,children:(0,r.jsxs)("div",{className:eo.body,children:[(0,r.jsxs)("div",{className:eo.leftColumn,children:[this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)]}),(0,r.jsxs)("div",{className:eo.rightColumn,children:[this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n)]})]})})]})}render(){let{application:e,sku:t,storeListing:n,matureAgree:l,isAuthenticated:a}=this.props;if(null==e||null==t||null==n||n.isSlimDirectoryVersion())return(0,r.jsxs)(i.Fragment,{children:[this.renderHeader(e,t),(0,r.jsx)(I.Z,{align:I.Z.Align.CENTER,justify:I.Z.Justify.CENTER,children:(0,r.jsx)(u.$jN,{className:eo.spinner})})]});if(!l&&t.showAgeGate){let n=a?null:(0,r.jsx)("div",{className:eo.gatedListing,children:this.renderListing()});return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(C.yY,{location:e.name}),this.renderJsonLD(),this.renderHeader(e,t),(0,r.jsx)(Q.Z,{game:e}),n]})}return a?(0,r.jsxs)("div",{className:eo.listingWrapper,children:[(0,r.jsx)(C.yY,{location:e.name}),this.renderJsonLD(),(0,r.jsx)(g.Z,{section:ei.jXE.NAVIGATION,children:this.renderHeader(e,t)}),(0,r.jsx)(g.Z,{section:ei.jXE.BODY,children:this.renderListing()})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)(C.yY,{location:e.name}),this.renderJsonLD(),this.renderHeader(e,t),this.renderListing()]})}constructor(...e){super(...e),es(this,"showCopyLinkTextTimeout",new s.V7),es(this,"_trackedViewed",!1),es(this,"_analyticsSource",null),es(this,"_extraAnalyticsProperties",null),es(this,"state",{showHeaderPurchaseUnit:!1,showLinkCopied:!1}),es(this,"trackCarouselScroll",(e,t,n)=>{let{sku:r}=this.props;null!=r&&U.default.track(ei.rMx.STORE_LISTING_MEDIA_SCROLLED,eu(ec({},(0,S.Z)(r)),{card_index:n,card_type:e.type===ei.s9s.IMG?"image":"video"}))}),es(this,"copyCurrentUrl",()=>{var e;let{location:t}=this.props,n=(e=t.pathname,"".concat(location.protocol,"//").concat(location.host).concat(e));(0,G.JG)(n,()=>this.setState({showLinkCopied:!0},()=>{this.showCopyLinkTextTimeout.start(1500,()=>{this.setState({showLinkCopied:!1})})}))}),es(this,"handleCreateInstantInvite",()=>{let{channel:e,guild:t}=this.props;null!=e&&null!=t&&(0,u.ZDy)(async()=>{let{default:i}=await Promise.all([n.e("7654"),n.e("17439")]).then(n.bind(n,560114));return n=>(0,r.jsx)(i,eu(ec({},n),{guild:t,channel:e,source:ei.t4x.GUILD_CHANNELS}))})}),es(this,"renderInviteLink",()=>{let{channel:e,guild:t}=this.props;return null!=e&&null!=t&&(Z.Z.can(ei.Plq.CREATE_INSTANT_INVITE,t)||null!=t.vanityURLCode)?(0,r.jsx)(u.zxk,{"aria-label":ea.intl.string(ea.t.zJrgTE),look:u.zxk.Looks.BLANK,size:u.zxk.Sizes.NONE,onClick:this.handleCreateInstantInvite,className:eo.link,children:(0,r.jsx)(u.xPt,{size:"md",color:"currentColor",className:eo.linkIcon})}):null}),es(this,"renderCopyLink",()=>{let{showLinkCopied:e}=this.state;return this.isChannelType?this.renderInviteLink():(0,r.jsx)(u.ua7,{text:e?ea.intl.string(ea.t.uvTCOT):null,position:"left",forceOpen:e,children:t=>{let{onMouseEnter:n,onMouseLeave:i}=t;return(0,r.jsx)(u.zxk,{"aria-label":e?ea.intl.string(ea.t.uvTCOT):ea.intl.string(ea.t.WqhZsr),look:u.zxk.Looks.BLANK,size:u.zxk.Sizes.NONE,onClick:this.copyCurrentUrl,onMouseEnter:n,onMouseLeave:i,className:eo.link,children:(0,r.jsx)(u.xPt,{size:"md",color:"currentColor",className:eo.linkIcon})})}})}),es(this,"renderHeaderToolbar",(e,t)=>{let{isInTestMode:n,slug:i,storeListing:l,analyticsContext:{location:o}}=this.props,{showHeaderPurchaseUnit:s}=this.state;return(0,r.jsxs)("div",{className:eo.headerBarListing,children:[(0,r.jsx)("div",{className:eo.headerSection,children:n&&null!=t?(0,r.jsx)(et.Z,{size:et.y.Sizes.MIN,dropdownSize:et.y.DropdownSizes.MEDIUM,look:et.y.Looks.OUTLINED,color:et.y.Colors.RED,skuId:t.id,className:eo.testModeSelectButton,currentStoreListingId:null!=l?l.id:null,onStoreListingSelect:e=>{null!=t&&(0,f.yt)(t.id,{slug:i,analyticsSource:{page:o.page,section:ei.jXE.NAVIGATION,object:null},storeListingId:e.id})}}):null}),(0,r.jsx)("div",{className:eo.headerSection,children:(0,r.jsxs)("div",{className:a()(eo.headerPurchase,{[eo.active]:s}),children:[null!=t?(0,N.Z)(t):null,null!=e&&null!=t?(0,r.jsx)("div",{children:"deprecated!"}):null,(0,r.jsx)(X.Z,{messageStyle:X.G.SHORT,className:eo.purchaseError})]})}),this.renderCopyLink()]})}),es(this,"renderCarousel",(e,t)=>{if(0===t.carouselItems.length)return null;let{pageSize:n,isFocused:i}=this.props;return(0,r.jsx)(g.Z,{section:ei.jXE.HERO,children:(0,r.jsx)(q.Z,{pageSize:n,items:t.carouselItems.map(n=>this.parseMediaItems(e,n,t.assets)),autoplayInterval:8e3,paused:!i,onIntentionalChange:this.trackCarouselScroll})})}),es(this,"renderListing",()=>{let{application:e,storeListing:t,sku:n,pageSize:i}=this.props;return null==e||null==n||null==t||t.isSlimDirectoryVersion()?(0,r.jsx)(I.Z,{align:I.Z.Align.CENTER,justify:I.Z.Justify.CENTER,children:(0,r.jsx)(u.$jN,{})}):i===er.b.SMALL?this.renderSmall(e,t,n):this.renderLarge(e,t,n)})}}let ep=(0,b.Z)((0,_.Z)(o.ZP.connectStores([L.Z,j.Z,P.default,M.Z,D.Z,R.Z,k.Z,E.Z,O.Z,x.Z,A.Z,w.Z],e=>{let t,n,r,{inputSkuId:i,applicationId:l,storeListingId:a,isAuthenticated:o,channel:s}=e;if(null==l){if(null==i)throw Error("Needs applicationId or skuId");t=i,null!=(l=null!=(n=R.Z.get(i))?n.applicationId:null)&&(r=O.Z.getApplication(l))}else if(null==i){if(null==l)throw Error("Needs applicationId or skuId");null!=(r=O.Z.getApplication(l))&&(t=r.destinationSkuId),n=null!=t?R.Z.get(t):null}(null==n?void 0:n.flags)!=null&&(0,V.yE)(n.flags,ei.l4R.STICKER_PACK)&&(n=null);let c=null!=l&&(k.Z.inTestModeForApplication(l)||E.Z.inDevModeForApplication(l));return{skuId:t,application:null!=l?O.Z.getApplication(l):null,isFetchingEntitlements:null!=l&&w.Z.applicationIdsFetching.has(l),didFetchEntitlements:null!=l&&w.Z.applicationIdsFetched.has(l),shouldFetchStatistics:o&&null!=l&&x.Z.shouldFetchStatisticsForApplication(l),sku:n,isFocused:M.Z.isFocused(),storeListing:D.Z.getStoreListing({storeListingId:a,skuId:t,channelId:null!=s?s.id:null,isTestMode:c}),isInTestMode:null!=l&&c,matureAgree:L.Z.didMatureAgree,theme:j.Z.theme,locale:P.default.locale,guild:null!=s?A.Z.getGuild(s.getGuildId()):null}})(ed)))},119520:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r=n(255367),i=n(73800),l=n(558381),a=n(480916),o=n(986035),s=n(388032),c=n(576823);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{render(){let{game:{name:e}}=this.props;return(0,r.jsx)("div",{className:c.matureListing,children:(0,r.jsx)(o.Z,{modalType:a.it.NSFW_APP_LISTING,onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:s.intl.formatToPlainString(s.t.n5PGER,{name:e}),description:s.intl.string(s.t["bJx/aG"]),agreement:s.intl.string(s.t.odZq8f),disagreement:s.intl.string(s.t.hieTsL)})})}constructor(...e){super(...e),u(this,"handleDisagree",()=>{(0,l.M9)()}),u(this,"handleAgree",()=>{(0,l.cj)()})}}let p=d},450233:function(e,t,n){n.d(t,{G:()=>f,Z:()=>m});var r,i,l,a,o=n(255367),s=n(73800),c=n(442837),u=n(570140),d=n(16084),p=n(855775),h=n(388032),f=((r={}).SHORT="SHORT",r.LONG="LONG",r);class g extends(a=s.PureComponent){getText(e,t){if(429===e.status)switch(t){case"SHORT":return h.intl.string(h.t.T15lqq);case"LONG":return h.intl.string(h.t.XFShdH)}switch(t){case"SHORT":return h.intl.string(h.t["+XstBw"]);case"LONG":return h.intl.string(h.t.epyCur)}}componentWillUnmount(){null!=this.props.purchaseError&&u.Z.wait(()=>d.pB())}render(){let{className:e,purchaseError:t,messageStyle:n}=this.props;return null==t?null:(0,o.jsx)("div",{className:e,children:this.getText(t,n)})}}l={messageStyle:"LONG"},(i="defaultProps")in g?Object.defineProperty(g,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):g[i]=l;let m=c.ZP.connectStores([p.Z],()=>({purchaseError:p.Z.error}))(g)},601564:function(e,t,n){n.r(t),n.d(t,{default:()=>A,getPageSize:()=>P}),n(388685),n(35282);var r=n(255367),i=n(73800),l=n(593473),a=n(114858),o=n(442837),s=n(930118),c=n(355467),u=n(410575),d=n(666743),p=n(112724),h=n(447269),f=n(612226),g=n(714338),m=n(663993),b=n(628123),_=n(703656),E=n(108427),O=n(911314),y=n(429899),I=n(843445),v=n(981631),C=n(388032),S=n(681205);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let T=(0,m.Un)({createPromise:()=>Promise.all([n.e("98315"),n.e("87626")]).then(n.bind(n,496691)),webpackId:496691});function P(e){return e<I.x?I.b.SMALL:I.b.LARGE}o.ZP.initialize();class j extends i.PureComponent{componentDidMount(){(0,s.Y)(this.props.location),this.stopListeningToHistory=(0,_.s1)().listen(e=>{e.pathname.startsWith(v.Z5c.APPLICATION_STORE)&&(0,s.Y)(e)}),this.props.isAuthenticated&&(0,c.tZ)(),g.Z.disable(),g.Z.setLayout(h.r),g.Z.enable(),(0,E.e)("application_store")}componentWillUnmount(){null!=this.stopListeningToHistory&&this.stopListeningToHistory(),g.Z.disable(),g.Z.setLayout(f.oT),g.Z.enable()}renderCustomErrorMessage(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:C.intl.string(C.t["1PZdFx"])}),(0,r.jsx)("p",{children:C.intl.string(C.t.CvQlAA)})]})}render(){let{isAuthenticated:e,location:t}=this.props,n=e?(0,r.jsx)("div",{className:S.applicationStore,children:this.renderContent()}):(0,r.jsx)(T,{className:S.applicationStore,location:t,render:this.renderContent});return(0,r.jsx)(b.Z,{renderCustomMessage:this.renderCustomErrorMessage,children:n})}constructor(...e){super(...e),N(this,"stopListeningToHistory",void 0),N(this,"renderStoreListing",e=>{let{match:{params:{skuId:t,applicationId:n,slug:i}},location:a}=e,{width:o}=this.props,s=(0,l.parse)(a.search);return(0,r.jsx)(u.Z,{page:v.ZY5.STORE_LISTING,root:!0,children:(0,r.jsx)(y.Z,{skuId:t,applicationId:n,slug:i,location:a,storeListingId:s.store_listing_id,pageSize:P(o)})})}),N(this,"renderContent",()=>(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(a.AW,{path:v.Z5c.APPLICATION_STORE,exact:!0,render:()=>(0,r.jsx)(u.Z,{page:v.ZY5.STORE_DIRECTORY_HOME,root:!0,children:(0,r.jsx)(O.Z,{})})}),(0,r.jsx)(a.AW,{path:v.Z5c.APPLICATION_STORE_LISTING_APPLICATION(":applicationId",":slug"),render:this.renderStoreListing}),(0,r.jsx)(a.AW,{path:v.Z5c.APPLICATION_STORE_LISTING_APPLICATION(":applicationId"),render:this.renderStoreListing}),(0,r.jsx)(a.AW,{path:v.Z5c.APPLICATION_STORE_LISTING_SKU(":skuId",":slug"),render:this.renderStoreListing}),(0,r.jsx)(a.AW,{path:v.Z5c.APPLICATION_STORE_LISTING_SKU(":skuId"),render:this.renderStoreListing}),(0,r.jsx)(a.l_,{to:v.Z5c.APP})]}))}}let A=(0,a.EN)((0,d.Z)((0,p.Z)(j)))},726581:function(e,t,n){n.d(t,{Z:()=>y});var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(304106),c=n(649974),u=n(246946),d=n(594174),p=n(525395),h=n(55563),f=n(551428),g=n(73346),m=n(733789),b=n(4962),_=n(388032),E=n(868454);class O extends i.Component{renderReasons(e,t,n){return 0===e.length&&0===t.length?null:(0,r.jsx)("div",{className:E.section,children:(0,r.jsxs)("div",{className:E.sectionContent,children:[e.map(e=>(0,r.jsx)("div",{className:E.unit,children:(0,r.jsx)(m.Z,{reason:e,hidePersonalInformation:n})},e.type)),t.map(e=>(0,r.jsx)("div",{className:E.unit,children:(0,r.jsx)(s.Z,{reason:e})},e.type))]})})}getReviewToRender(){let{storeListing:e}=this.props;return null!=e.staffNotes?{type:b.Z.Types.STAFF_NOTES,staffNotes:e.staffNotes}:null}render(){let{socialReasons:e,nonSocialReasons:t,storeListing:n,hidePersonalInformation:i,className:l}=this.props;if(0===e.length&&0===t.length&&null==n.staffNotes)return null;let o=this.getReviewToRender();return(0,r.jsxs)("div",{className:a()(E.root,l),children:[(0,r.jsx)("div",{className:E.header,children:_.intl.string(_.t.qABFpa)}),this.renderReasons(e,t,i),null!=o?(0,r.jsx)(b.Z,{data:o,className:E.review}):null]})}}let y=o.ZP.connectStores([h.Z,d.default,f.Z,c.Z,p.Z,u.Z],e=>{let{sku:t}=e;return{socialReasons:(0,g.Gg)(t.id,h.Z,d.default,c.Z,p.Z),nonSocialReasons:(0,g.Ww)(t.id,h.Z,f.Z),hidePersonalInformation:u.Z.hidePersonalInformation}})(O)},74153:function(e,t,n){n.d(t,{Z:()=>b}),n(539854),n(388685);var r=n(255367),i=n(73800),l=n(442837),a=n(481060),o=n(16084),s=n(730749),c=n(812206),u=n(984370),d=n(703656),p=n(55563),h=n(981631),f=n(931464);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.PureComponent{componentDidMount(){let{sku:e,primarySkuId:t,isFetchingPrimarySku:n}=this.props;null==t||n||null==e||(0,o.$N)(e.applicationId,t)}render(){let{sku:e,primarySku:t}=this.props,n=[],i=null;if(null!=e){let r=h.Z5c.APPLICATION_STORE_LISTING_SKU(e.id,e.slug);i=r,null!=t&&n.push({id:h.Z5c.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),label:t.name}),n.push({id:r,label:e.name})}return(0,r.jsx)(a.OoM,{renderCustomBreadcrumb:this.renderCustomBreadcrumb,onBreadcrumbClick:this.handleClick,breadcrumbs:n,activeId:i})}constructor(...e){super(...e),g(this,"handleClick",e=>{let{sku:t}=this.props;(0,d.uL)(e.id,{state:{analyticsSource:{object:h.qAy.NAVIGATION_LINK,section:h.jXE.NAVIGATION,page:null==t?h.ZY5.STORE_DIRECTORY_BROWSE:h.ZY5.STORE_LISTING}}})}),g(this,"renderCustomBreadcrumb",(e,t)=>(0,r.jsx)(u.Z.Title,{className:t?null:f.breadcrumb,muted:!t,children:e.label}))}}let b=(0,s.Z)(l.ZP.connectStores([c.Z,p.Z],e=>{let{sku:t}=e,n=null!=t?c.Z.getApplication(t.applicationId):null,r=null!=n&&null!=n.primarySkuId&&n.primarySkuId!==t.id?n.primarySkuId:null;return{primarySkuId:r,isFetchingPrimarySku:null!=r&&p.Z.isFetching(r),primarySku:null!=r?p.Z.get(r):null}})(m))},429899:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(255367),i=n(73800),l=n(558381),a=n(613311);class o extends i.Component{componentDidMount(){this.fetchStoreListing()}render(){let{skuId:e,applicationId:t,slug:n,storeListingId:i,pageSize:l,location:o}=this.props;return(0,r.jsx)(a.Z,{inputSkuId:e,applicationId:t,fetchStoreListing:this.fetchStoreListing,slug:n,storeListingId:i,location:o,pageSize:l})}constructor(...e){var t,n;super(...e),t="fetchStoreListing",n=e=>{let{storeListingId:t,skuId:n,applicationId:r}=this.props,i=null!=e?e:n;return null!=t?(0,l.rV)(t):null!=i?(0,l.km)(i):null!=r?(0,l.Hq)(r):void 0},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let s=o},715702:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(663993).Un)({createPromise:()=>Promise.resolve().then(n.bind(n,601564)),webpackId:601564})},125930:function(e,t,n){n.d(t,{Z:()=>y}),n(781311),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(481060),s=n(770146),c=n(600164),u=n(424218),d=n(823379),p=n(358085),h=n(843445),f=n(981631),g=n(388032),m=n(208039);let b={[f.TaA.WINDOWS]:p.PlatformTypes.WINDOWS,[f.TaA.MACOS]:p.PlatformTypes.OSX,[f.TaA.LINUX]:p.PlatformTypes.LINUX};class _ extends i.PureComponent{render(){let{active:e,children:t,pageSize:n,onClick:i}=this.props,l=n===h.b.LARGE;return(0,r.jsx)(o.zxk,{size:l?o.zxk.Sizes.MIN:o.zxk.Sizes.LARGE,fullWidth:!l,color:e?m.tabSelectedColor:m.tabNotSelectedColor,className:a()({[m.tabPageLarge]:l,[m.tabPageSmall]:!l,[m.tabSelected]:e,[m.tabNotSelected]:!e}),onClick:i,children:t})}}let E=e=>[{key:g.intl.string(g.t["0TcHzs"]),value:e.operating_system_version},{key:g.intl.string(g.t.eOX6Hh),value:e.cpu},{key:g.intl.string(g.t["+WJ5XV"]),value:null!=e.ram?g.intl.formatToPlainString(g.t.RNRSl5,{size:(0,u.BU)(1e3*e.ram,{showDecimalForGB:!1})}):null},{key:g.intl.string(g.t["+3s/V1"]),value:e.gpu},{key:g.intl.string(g.t["L+x5wM"]),value:null!=e.disk?(0,u.BU)(1e3*e.disk,{showDecimalForGB:!1}):null},{key:g.intl.string(g.t["Ghp2/P"]),value:e.sound_card},{key:g.intl.string(g.t["+w6nJi"]),value:e.network},{key:g.intl.string(g.t.Au3Vbm),value:e.notes}];class O extends i.PureComponent{static getDerivedStateFromProps(e,t){let{systemRequirements:n}=e,{selectedOperatingSystem:r}=t,i=Object.keys(n);return i.includes(r)?null:{selectedOperatingSystem:i[0]}}renderTabs(){let{pageSize:e,systemRequirements:t}=this.props,{selectedOperatingSystem:n}=this.state,i=Object.keys(t);return 1===i.length?null:(0,r.jsxs)(c.Z,{className:m.tabs,children:[(0,r.jsx)("div",{className:m.separator}),i.map(t=>(0,r.jsx)(_,{active:t===n,onClick:()=>this.handleSelectOperatingSystem(t),pageSize:e,children:function(e){switch(e){case f.TaA.WINDOWS:return g.intl.string(g.t["0/xHFB"]);case f.TaA.MACOS:return g.intl.string(g.t.E4u4n5);case f.TaA.LINUX:return g.intl.string(g.t.tcawo6)}}(t)},t))]})}renderRequirementsSection(e,t){if(null==e)return null;let n=E(e).map((e,t)=>{let n=null!=e.value?e.value.trim():null;return null==n||0===n.length?null:(0,r.jsxs)("div",{className:m.requirement,children:[(0,r.jsxs)("span",{className:m.requirementKey,children:[e.key,":"]}),n]},t)}).filter(d.lm);return(0,r.jsxs)("div",{className:m.requirements,children:[(0,r.jsx)(s.Z,{tag:"h4",children:t}),n]})}renderBody(){let{minimum:e,recommended:t}=this.props.systemRequirements[this.state.selectedOperatingSystem];return(0,r.jsxs)("div",{className:m.requirementsContainer,children:[this.renderRequirementsSection(e,g.intl.string(g.t.QCCMXF)),this.renderRequirementsSection(t,g.intl.string(g.t.He39ws))]})}render(){return(0,r.jsxs)("div",{className:this.props.className,children:[(0,r.jsx)(s.Z,{children:g.intl.string(g.t.IkOAoq)}),this.renderTabs(),this.renderBody()]})}constructor(e){var t,n;super(e),t="handleSelectOperatingSystem",n=e=>{this.setState({selectedOperatingSystem:e})},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n;let r=(0,p.getPlatform)(),i=Object.keys(e.systemRequirements),l=i[0];for(let e of i)b[e]===r&&(l=e);this.state={selectedOperatingSystem:l}}}let y=O},178071:function(e,t,n){n.d(t,{Z:()=>f,y:()=>p}),n(388685);var r=n(255367),i=n(73800),l=n(442837),a=n(481060),o=n(239091),s=n(585237),c=n(551428),u=n(388032);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p={DropdownSizes:s.Z.DropdownSizes,Sizes:s.Z.Sizes,Colors:s.Z.Colors,Looks:s.Z.Looks};class h extends i.PureComponent{render(){var e,t;let n=this.props,{storeListings:i,primaryStoreListing:l,skuId:a,onStoreListingSelect:o,currentStoreListingId:c}=n,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,["storeListings","primaryStoreListing","skuId","onStoreListingSelect","currentStoreListingId"]),h=+(null!=l);return(h+=i.length)<2?null:(0,r.jsx)(s.Z,(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({onClick:this.handleContextMenu,onDropdownClick:this.handleContextMenu,onContextMenu:this.handleContextMenu},p),t=t={children:u.intl.string(u.t.hElye3)},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e))}constructor(...e){super(...e),d(this,"renderContextMenu",()=>{let{storeListings:e,onStoreListingSelect:t,currentStoreListingId:n,onMenuSelect:i}=this.props,l=e.map(e=>e.id!==n?(0,r.jsx)(a.sNh,{id:"".concat(e.id),label:e.id,action:()=>{o.Zy(),null==t||t(e)}}):null);return(0,r.jsx)(a.v2r,{onSelect:i,navId:"test-store-listing","aria-label":u.intl.string(u.t.ogxXGh),onClose:o.Zy,children:l})}),d(this,"handleContextMenu",e=>{e.stopPropagation(),o.vq(e,this.renderContextMenu)})}}let f=l.ZP.connectStores([c.Z],e=>{let{skuId:t}=e;return{storeListings:c.Z.getUnpublishedForSKU(t),primaryStoreListing:c.Z.getForSKU(t)}})(h)},176055:function(e,t,n){n.d(t,{Z:()=>T}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(593473),s=n(442837),c=n(481060),u=n(749210),d=n(558381),p=n(666743),h=n(770146),f=n(600164),g=n(565138),m=n(41776),b=n(703656),_=n(769654),E=n(601964),O=n(430824),y=n(843445),I=n(981631),v=n(388032),C=n(629811);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.PureComponent{renderMemberInfo(){let{approximateMemberCount:e,approximatePresenceCount:t}=this.props.guild;return null==e||null==t?null:(0,r.jsxs)(f.Z,{className:C.memberInfo,align:f.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:C.dotOnline}),(0,r.jsx)("span",{className:C.memberText,children:v.intl.format(v.t["LC+S+v"],{membersOnline:t})}),(0,r.jsx)("div",{className:C.dotOffline}),(0,r.jsx)("span",{className:C.memberText,children:v.intl.format(v.t.zRl6XV,{count:e})})]})}render(){let{guild:e,inChannel:t,isInGuild:n,isLurking:i,isAuthenticated:l,className:o,pageSize:s}=this.props;if(t&&n)return null;let u=new E.ZP(e),d=v.intl.string(v.t.pxwdrK),p=this.handleJoinOrView,m=c.zxk.Looks.FILLED,b=c.zxk.Colors.PRIMARY;return l?n?(m=c.zxk.Looks.OUTLINED,b=C.buttonColorInGuild,d=(0,r.jsxs)(f.Z,{align:f.Z.Align.CENTER,children:[(0,r.jsx)("div",{children:v.intl.string(v.t.cEnaW1)}),(0,r.jsx)(c.dz2,{size:"md",color:"currentColor",className:C.joinedCheckmark})]})):i&&t&&(d=v.intl.string(v.t.XpeFYm)):(d=v.intl.string(v.t.dKhVQE),p=this.handleLogin),(0,r.jsxs)("div",{className:a()(o,s===y.b.SMALL?C.inviteSmall:C.inviteLarge),children:[(0,r.jsx)(h.Z,{children:v.intl.string(v.t.s1KcLi)}),(0,r.jsxs)("div",{className:C.content,children:[(0,r.jsxs)("div",{className:C.info,children:[(0,r.jsx)(g.Z,{guild:u,active:!0,size:g.Z.Sizes.LARGE,className:C.guildIcon}),(0,r.jsxs)("div",{className:C.infoText,children:[(0,r.jsx)("div",{className:C.name,children:e.name}),this.renderMemberInfo()]})]}),(0,r.jsx)(c.zxk,{size:c.zxk.Sizes.SMALL,className:C.actionButton,fullWidth:!0,color:b,look:m,onClick:p,children:d})]})]})}constructor(...e){super(...e),S(this,"handleJoinOrView",async()=>{let{guild:e,skuId:t,isInGuild:n,isLurking:r}=this.props,i=()=>(0,_.X)(e.id);if(r)(0,d.Oj)(t).then(i);else if(n)i();else try{await u.Z.joinGuild(e.id,{lurker:!0,source:I.vtS.APPLICATION_STORE}),i()}catch(e){}}),S(this,"handleLogin",()=>{let e={redirect_to:I.Z5c.APPLICATION_STORE_LISTING_SKU(this.props.skuId)};(0,b.uL)(I.Z5c.LOGIN,{search:(0,o.stringify)(e),source:"verified_guild_invite"})})}}let T=(0,p.Z)(s.ZP.connectStores([O.Z,m.Z],e=>{let{guild:t}=e,n=m.Z.isLurking(t.id);return{isInGuild:null!=O.Z.getGuild(t.id)&&!n,isLurking:n}})(N))},476669:function(e,t,n){n.d(t,{Z:()=>d});var r=n(255367),i=n(73800),l=n(481060),a=n(239091),o=n(129861),s=n(600164),c=n(983184);class u extends i.PureComponent{handleContextMenu(e,t){(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("86423")]).then(n.bind(n,881351));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={user:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}renderUser(e){return null==e?null:(0,r.jsxs)(s.Z,{className:c.user,align:s.Z.Align.CENTER,onContextMenu:t=>{null!=e&&this.handleContextMenu(t,e)},children:[(0,r.jsx)(l.qEK,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:l.EFr.SIZE_24,className:c.avatar}),(0,r.jsx)(o.Z,{user:e,className:c.tag,usernameClass:c.username,discriminatorClass:c.discriminator})]},e.id)}render(){let{party:e,header:t}=this.props,n=e.map(e=>this.renderUser(e));return(0,r.jsxs)("div",{className:c.userList,children:[(0,r.jsx)("div",{className:c.header,children:t}),(0,r.jsx)(l.zJl,{className:c.content,fade:!0,children:n})]})}}let d=u},512847:function(e,t,n){n.d(t,{Z:()=>k});var r=n(255367),i=n(73800),l=n(442837),a=n(317381),o=n(16609),s=n(258609),c=n(569545),u=n(460181),d=n(590415),p=n(131704),h=n(199902),f=n(314897),g=n(592125),m=n(430824),b=n(131951),_=n(292959),E=n(19780),O=n(944486),y=n(606304),I=n(979651),v=n(938475),C=n(823379),S=n(981631);function N(e,t,n,r){i.useEffect(()=>{let i=t(),a=new l.Fh(e,()=>{let e=t(),l=n(i,e);null==l||_.Z.isSoundDisabled(l)||(0,u.GN)(l,null!=r?r:.4),i=e});return a.attach("useSound"),()=>a.detach()})}function T(){return N([b.Z,O.Z],()=>({inVoiceChannel:null!=O.Z.getVoiceChannelId(),selfMute:b.Z.isSelfMute(),selfDeaf:b.Z.isSelfDeaf(),audioPermissionReady:b.Z.isNativeAudioPermissionReady(),shouldSkipMuteUnmuteSound:b.Z.shouldSkipMuteUnmuteSound()}),(e,t)=>{let{inVoiceChannel:n,selfMute:r,selfDeaf:i,audioPermissionReady:l,shouldSkipMuteUnmuteSound:a}=t;if(e.selfDeaf!==i)return i?"deafen":"undeafen";if(l&&(n||e.audioPermissionReady)&&e.selfMute!==r)return a?void b.Z.notifyMuteUnmuteSoundWasSkipped():r?"mute":"unmute"}),null}function P(){return N([g.Z,E.Z,O.Z,s.Z],()=>{let e=g.Z.getChannel(O.Z.getVoiceChannelId()),t=null==e?void 0:e.type,n=null==e?void 0:e.getGuildId(),r=E.Z.getWasEverRtcConnected(),i=E.Z.getState();return{channelType:t,guildId:n,connected:i===S.hes.RTC_CONNECTED,connectHasStarted:!r&&i!==S.hes.DISCONNECTED||i===S.hes.RTC_CONNECTED,awaitingRemote:null!=s.Z.getAwaitingRemoteSessionInfo(),connectedRemote:null!=s.Z.getRemoteSessionId()}},(e,t)=>{let{channelType:n,connected:r,connectHasStarted:i,awaitingRemote:l,connectedRemote:a}=t,o=e.channelType,s=e.connectedRemote,c=e.connected;if(!e.connectHasStarted&&i||a&&!s){if(null!=n&&p.Lr.has(n))return;return"user_join"}if(c&&!r){if(l||a||null!=o&&p.Lr.has(o))return;return"disconnect"}}),null}function j(){return N([y.Z],()=>y.Z.isCurrentUserSpeaking(),(e,t)=>{if(e!==t){let e=b.Z.isSelfMute();if(b.Z.getMode()===S.pM4.PUSH_TO_TALK&&!e)return t?"ptt_start":"ptt_stop"}}),null}function A(){return N([b.Z],()=>b.Z.getActiveVoiceFilter(),(e,t)=>{if(e!==t)if(null!=t)return null!=e?"voice_filter_swap":"voice_filter_on";else return"voice_filter_off"}),null}function Z(){return N([b.Z],()=>b.Z.isSelfMutedTemporarily(),(e,t)=>{if(e!==t){let e=b.Z.isSelfMute();if(b.Z.getMode()===S.pM4.VOICE_ACTIVITY&&!e)return t?"ptt_stop":"ptt_start"}}),null}function x(){return N([y.Z],()=>y.Z.isCurrentUserPrioritySpeaker(),(e,t)=>{if(e!==t){let e=b.Z.isSelfMute();if(b.Z.getMode()===S.pM4.VOICE_ACTIVITY&&!e)return t?"ptt_start":"ptt_stop"}}),null}function L(){return N([I.Z],()=>I.Z.userHasBeenMovedVersion,(e,t)=>{if(e!==t)return"user_moved"}),null}function w(){return N([O.Z,I.Z],()=>{let e=O.Z.getVoiceChannelId();if(null==e)return d.xO.NONE;let t=I.Z.getVoiceStateForChannel(e);return(0,d.gf)(t)},(e,t)=>{if(e!==t&&t===d.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}),null}function R(){return N([O.Z,h.Z,f.default,I.Z,g.Z],()=>{let e,t,n=O.Z.getVoiceChannelId(),r=f.default.getId(),i=[],l=null,a=0,o=h.Z.getAllActiveStreams();if(null!=n){let r=g.Z.getChannel(n);null!=r&&(e=r.type,t=v.ZP.countVoiceStatesForChannel(r.id)-+!!I.Z.isInChannel(r.id),i=h.Z.getAllApplicationStreamsForChannel(r.id).map(e=>e.ownerId))}let s=null;return(null==(s=1===o.length?o[0]:h.Z.getCurrentUserActiveStream())?void 0:s.state)===S.jm8.CONNECTING&&(s=null),null!=s&&(l=(0,c.V9)(s),a=h.Z.getViewerIds(l).filter(e=>e!==r).length),{channelType:e,voiceChannelId:n,voiceChannelUserCount:t,streamingUserIds:i,singleActiveStreamKey:l,singleActiveStreamViewerCount:a,currentUserId:r,allActiveStreams:o}},(e,t)=>{let{channelType:n,voiceChannelId:r,voiceChannelUserCount:i,streamingUserIds:l,singleActiveStreamKey:a,singleActiveStreamViewerCount:o,currentUserId:s}=t;if(e.voiceChannelId!==r||null==r||function(e){let t=g.Z.getChannel(e);if(null==t)return!1;let n=t.getGuildId();if(null==n)return!1;let r=m.Z.getGuild(n);return null!=r&&r.afkChannelId===t.id}(r)||null!=n&&p.Lr.has(n))return;let c=null!=a&&e.singleActiveStreamKey===a,u=l.some(t=>!e.streamingUserIds.includes(t)),d=e.allActiveStreams.map(e=>e.ownerId),h=e.streamingUserIds.some(e=>!l.includes(e)&&(e===s||d.includes(e)));if(u)return"stream_started";if(h)return"stream_ended";if(e.singleActiveStreamViewerCount<=25&&c&&o>e.singleActiveStreamViewerCount)return"stream_user_joined";if(null!=e.voiceChannelUserCount&&null!=i&&e.voiceChannelUserCount<=25&&i>e.voiceChannelUserCount)return"user_join";if(null!=e.voiceChannelUserCount&&null!=i&&e.voiceChannelUserCount<=25&&i<e.voiceChannelUserCount)return"user_leave";else if(e.singleActiveStreamViewerCount<=25&&c&&o<e.singleActiveStreamViewerCount)return"stream_user_left"}),null}function D(){return N([O.Z,a.ZP,f.default],()=>{let e=O.Z.getVoiceChannelId(),t=O.Z.getChannelId(),n=a.ZP.getConnectedActivityLocation(),r=(0,o.p)(n),i=f.default.getId(),l=(0,C.lm)(t)?a.ZP.getEmbeddedActivitiesForChannel(t):a.i6,s=(0,C.lm)(e)?a.ZP.getEmbeddedActivitiesForChannel(e):a.i6,c=(0,C.lm)(r)?a.ZP.getEmbeddedActivitiesForChannel(r):a.i6,u=(0,C.lm)(n)?a.ZP.getSelfEmbeddedActivityForLocation(n):null;return{connectedActivityLocation:n,voiceChannelId:e,currentUserId:i,channelActivities:l,connectedChannelActivities:c,userConnectedActivity:u,voiceChannelActivities:s}},(e,t)=>{let n,{connectedActivityLocation:r,voiceChannelId:i,currentUserId:l,channelActivities:a,connectedChannelActivities:o,userConnectedActivity:s,voiceChannelActivities:c}=t,u=c.some(e=>e.applicationId===(null==s?void 0:s.applicationId)&&e.launchId===s.launchId);if((0,C.lm)(i)){let t=e.voiceChannelActivities.find(e=>e.userIds.has(l)),r=c.find(e=>e.userIds.has(l));e.voiceChannelActivities.length<c.length&&(0,C.lm)(e.voiceChannelId)&&(n="activity_launch"),void 0===r&&(0,C.lm)(t)&&(n="activity_end"),void 0===t&&(0,C.lm)(r)&&r.userIds.size>1&&(n="activity_user_join"),(0,C.lm)(r)&&(0,C.lm)(t)&&(r.userIds.size>t.userIds.size&&(n="activity_user_join"),r.userIds.size<t.userIds.size&&(n="activity_user_left"))}if(!u){e.connectedChannelActivities.length<o.length&&e.channelActivities.length<a.length&&(n="activity_launch");let t=e.userConnectedActivity;null==s&&(0,C.lm)(t)&&(n="activity_end"),(0,C.lm)(s)&&(0,C.lm)(t)&&(s.userIds.size>t.userIds.size&&(n="activity_user_join"),s.userIds.size<t.userIds.size&&(n="activity_user_left"))}return null==n&&(null!=e.connectedActivityLocation||null!=r)&&(null==e.connectedActivityLocation&&null!=r?n="activity_launch":null!=e.connectedActivityLocation&&null==r?n="activity_end":null!=s&&null!=e.userConnectedActivity&&(e.userConnectedActivity.userIds.size<s.userIds.size?n="activity_user_join":e.userConnectedActivity.userIds.size>s.userIds.size&&(n="activity_user_leave"))),n}),null}function k(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{}),(0,r.jsx)(P,{}),(0,r.jsx)(j,{}),(0,r.jsx)(Z,{}),(0,r.jsx)(L,{}),(0,r.jsx)(R,{}),(0,r.jsx)(w,{}),(0,r.jsx)(D,{}),(0,r.jsx)(A,{}),(0,r.jsx)(x,{})]})}},666743:function(e,t,n){n.d(t,{Z:()=>o}),n(388685);var r=n(255367),i=n(73800),l=n(314897);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return class extends i.Component{componentDidMount(){l.default.addChangeListener(this.onStoreChange)}componentWillUnmount(){l.default.removeChangeListener(this.onStoreChange)}render(){var t,n;return(0,r.jsx)(e,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}({},this.props),n=n={isAuthenticated:this.state.isAuthenticated},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}constructor(...e){super(...e),a(this,"state",{isAuthenticated:l.default.isAuthenticated()}),a(this,"onStoreChange",()=>{this.setState({isAuthenticated:l.default.isAuthenticated()})})}}}},382600:function(e,t,n){n.d(t,{P:()=>o});var r=n(255367),i=n(73800),l=n(709014);let a={disable:{name:"disable",start:0,duration:70},enable:{name:"enable",start:100,duration:70},hover_enabled:{name:"hover_enabled",start:200,duration:70},hover_disabled:{name:"hover_disabled",start:300,duration:70}},o=e=>{let t=i.useRef(null),o=i.useRef(e);o.current=e;let s=i.useMemo(()=>()=>{null!=t.current&&t.current.play(e)},[e]),c=i.useCallback(()=>{if(null==t.current)return;let n="enable"===e?"hover_disabled":"hover_enabled";t.current.play(n)},[e]),u=i.useCallback(()=>{if(null==t.current)return;let n="enable"===e?"hover_disabled":"hover_enabled";t.current.stopIfPlaying(n)},[e]),d=i.useCallback(e=>{var i,s;return(0,r.jsx)(l.L,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),s=s={src:()=>n.e("7584").then(n.t.bind(n,883488,19)),ref:t,initialAnimation:o.current,markers:a},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(s)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(s,e))}),i))},[]);return{events:{onClick:s,onMouseEnter:c,onMouseLeave:u},play:s,getDuration:i.useCallback(()=>{var e;return null==(e=t.current)?void 0:e.getDuration()},[]),getCurrentFrame:i.useCallback(()=>{var e,n;return null!=(n=null==(e=t.current)?void 0:e.getCurrentFrame())?n:null},[]),Component:d}}},773244:function(e,t,n){n.d(t,{Z:()=>d}),n(35282);var r=n(73800),i=n(873546),l=n(442837),a=n(625128),o=n(362762),s=n(314897),c=n(981631);let u=i.tq||i.Em;function d(e){let{children:t,deepLinkType:n,path:i,paramsBuilder:d,search:p}=e,h=(0,l.e7)([s.default],()=>{var e;return null!=(e=s.default.getFingerprint())?e:s.default.getId()}),f=(0,l.e7)([o.Z],()=>o.Z.getState(i),[i]),g=r.useMemo(()=>null==d?{path:i,fingerprint:h,search:p}:d(i,h,p),[i,d,h,p]);return r.useEffect(()=>{u||null==f&&a.Z.openNativeAppModal(i,c.Etm.DEEP_LINK,{type:n,params:g})},[f,i,g,n]),t}},951752:function(e,t,n){n.d(t,{l:()=>h});var r=n(255367);n(73800);var i=n(442837),l=n(388905),a=n(362762),o=n(358085),s=n(981631),c=n(388032),u=n(762159);let d=n(575703);function p(e){let{children:t}=e,n=(0,i.e7)([a.Z],()=>a.Z.getHighestState());return(0,o.isDesktop)()||n!==s.kEZ.OPENING?(0,o.isDesktop)()||n!==s.kEZ.OPEN?t:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{className:u.backgroundArtwork,src:d,alt:""}),(0,r.jsx)("div",{className:u.container,children:(0,r.jsxs)(l.ZP,{children:[(0,r.jsx)(l.Dx,{className:u.appOpenedTitle,children:c.intl.string(c.t.csrAMD)}),(0,r.jsx)(l.DK,{children:c.intl.string(c.t.ghBJz8)})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{className:u.backgroundArtwork,src:d,alt:""}),(0,r.jsx)("div",{className:u.container,children:(0,r.jsxs)(l.ZP,{children:[(0,r.jsx)(l.Dx,{children:c.intl.string(c.t["Z+hCVV"])}),(0,r.jsx)(l.Hh,{})]})})]})}function h(e){var t,n;function i(t){return(0,r.jsxs)(p,{children:[(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),"deeplink-wrapper"),";"]})}return i.displayName="Deeplink(".concat(null!=(n=null!=(t=e.displayName)?t:e.name)?n:"<Unknown>",")"),i}},785697:function(e,t,n){n.d(t,{D2:()=>s,SE:()=>c});var r=n(442837),i=n(818083),l=n(496675),a=n(981631);let o=(0,i.B)({kind:"guild",id:"2022-11_default_disable_mass_mention",label:"Disable mass mentions for communities by default",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function s(e){return o.useExperiment({guildId:e,location:"dd4beb_1"},{autoTrackExposure:!0})}function c(e){var t;let n=(0,r.e7)([l.Z],()=>l.Z.can(a.Plq.MANAGE_GUILD,e)),{enabled:i}=o.useExperiment({guildId:null!=(t=null==e?void 0:e.id)?t:a.lds,location:"dd4beb_3"},{autoTrackExposure:!0});if(null==e)return!1;let s=e.hasFeature(a.oNc.COMMUNITY);return n&&s&&i}},711237:function(e,t,n){n.d(t,{J_:()=>o,R6:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:i.fL,label:"Trigger Debugging User AA Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]}),a=(0,r.B)({kind:"guild",id:i.nz,label:"Trigger Debugging Guild AA Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]}),o=e=>{let t="guild trigger debug",n="user trigger debug";a.useExperiment({location:t,guildId:e},{autoTrackExposure:!1}),a.trackExposure({location:t,guildId:e}),l.useExperiment({location:n},{autoTrackExposure:!1}),l.trackExposure({location:n})}},532835:function(e,t,n){n.d(t,{t:()=>i});let r=(0,n(818083).B)({kind:"user",id:"2023-04_null_experiment",label:"Null Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]});function i(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.useExperiment({location:"a9e81b_1"},{autoTrackExposure:e})}},183126:function(e,t,n){n.d(t,{N:()=>i});let r=(0,n(818083).B)({kind:"user",id:"2023-01_clear_all_message_requests",label:"Safety Experience Reject All Message Requests",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function i(){return r.useExperiment({location:"c10bec_1"},{autoTrackExposure:!0}).enabled}},169382:function(e,t,n){n.d(t,{l:()=>l}),n(65234),n(111804),n(490233),n(97749),n(388685),n(35282);var r=n(73800),i=n(114858);function l(){let e=(0,i.TH)();return r.useMemo(()=>new URLSearchParams(e.search),[e.search])}},479837:function(e,t,n){n.d(t,{r:()=>b});var r=n(846027),i=n(365023),l=n(565799),a=n(501655),o=n(368442),s=n(829750),c=n(560688),u=n(173507),d=n(592125),p=n(131951),h=n(19780),f=n(594174),g=n(981631),m=n(65154);function b(){var e,t;if(!(0,i.l)())return;let n=p.Z.isVideoEnabled(),b=Object.values(p.Z.getVideoDevices())[0],_=!1===(null==(t=null==b?void 0:b.disabled)||t),E=p.Z.supportsInApp(m.AN.VIDEO)&&p.Z.supportsInApp(m.AN.DESKTOP_CAPTURE),O=d.Z.getChannel(h.Z.getChannelId()),y=null==(e=f.default.getCurrentUser())?void 0:e.id;if(null==O||null==y)return;let{reachedLimit:I}=(0,s.t)(O);if(!I){if(O.isGuildStageVoice()){let e=l.Z.getMutableParticipants(O.id,a.pV.SPEAKER),t=null==e?void 0:e.find(e=>{let{user:t}=e;return t.id===y});if(!(0,o.tu)(O.guild_id)||!E||null==t||t.voiceState.suppress)return}return n?r.Z.setVideoEnabled(!1):!n&&_?(0,u.Z)(()=>{r.Z.setVideoEnabled(!0)},g.IlC.APP,!0):_||(0,c.Z)(),!1}}},447269:function(e,t,n){n.d(t,{r:()=>s});var r,i,l=n(817718),a=n(612226),o=n(981631);let s=(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},a.oT),i=i={[o.EkH.CAROUSEL_NEXT]:l.lI,[o.EkH.CAROUSEL_PREV]:l.hd},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r)},611577:function(e,t,n){n.d(t,{z:()=>l});var r=n(481060),i=n(531826);function l(e){let{application:t,channelId:n}=e;return null!=(0,i.ZP)({application:t,channelId:n})?r.u1M:r.z1l}},840074:function(e,t,n){n.d(t,{_:()=>o});var r=n(255367);n(73800);var i=n(481060),l=n(812206),a=n(531826);function o(e){let{applicationId:t,customId:o,linkId:s,message:c,onShare:u}=e,d=l.Z.getApplication(t);if(null==d)return void u(!1,!1);let p=null!=(0,a.jA)({applicationId:d.id})?i.u1M:i.z1l,h=!1;function f(e){u(e,h)}function g(){h=!0}(0,i.ZDy)(async()=>{let{default:e}=await n.e("83098").then(n.bind(n,137021));return n=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({applicationId:t,customId:o,linkId:s,message:c,onCopyLink:g,onShare:f},n))},{modalKey:"activity-share-moment-modal",contextKey:p,onCloseCallback:()=>{u(!1,h)}})}},596223:function(e,t,n){n.d(t,{Z:()=>r});function r(e,t){return null!=e.application_id&&null==t.getApplicationActivity(e.application_id,!1)}},74433:function(e,t,n){n.d(t,{Z:()=>u}),n(781311),n(388685);var r=n(657305),i=n(841784),l=n(420660),a=n(981631),o=n(388032);function s(e){return{[a.IIU.STREAMING]:e?o.t["4CQq9f"]:o.t["0wJXSk"],[a.IIU.LISTENING]:e?o.t["b+lA5+"]:o.t.Vnuxub,[a.IIU.WATCHING]:e?o.t.mqdfDQ:o.t.pW3Ip6,[a.IIU.COMPETING]:e?o.t.oHF7Cg:o.t.QQ2wVF}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!=e&&e.type===a.IIU.CUSTOM_STATUS)return null!=e.state?e.state.trim():null;if(null!=t)return null==e||e.type!==a.IIU.PLAYING?o.intl.string(o.t.eXan7O):o.intl.format(s(n)[a.IIU.STREAMING],{name:e.name});if(null==e||null==e.name)return null;if((0,l.Z)(e)){let t=null!=e.details&&""!==e.details?e.details:e.name;return o.intl.format(s(n)[a.IIU.STREAMING],{name:t})}return(0,i.Z)(e)?(0,r.Z)(e.name):function(e,t,n){let r=s(n);switch(e){case a.IIU.LISTENING:case a.IIU.WATCHING:case a.IIU.COMPETING:return o.intl.format(r[e],{name:t});case a.IIU.CUSTOM_STATUS:case a.IIU.HANG_STATUS:return null;case a.IIU.PLAYING:default:return n?o.intl.formatToPlainString(o.t.Sq9xJy,{game:t}):o.intl.format(o.t.lFApm5,{game:t})}}(e.type,e.name,n)}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e)){let r=e;null!=t&&!1!==t.discoverable&&(r=[...r,null]);let i=null;for(let e of r){let r=c(e,t,n);if(null!=r)return{activity:e,activityText:r};(null==e?void 0:e.type)===a.IIU.CUSTOM_STATUS&&null!=e.emoji&&(i=e)}return(null==i?void 0:i.emoji)!=null?{activity:i,activityText:null}:null}return c(e,t,n)}},258220:function(e,t,n){n.d(t,{default:()=>g,r:()=>f}),n(388685);var r=n(255367),i=n(73800),l=n(481060),a=n(153867),o=n(835473),s=n(600164),c=n(626135),u=n(998502),d=n(981631),p=n(388032),h=n(607919);let f="Activity Encourages Hardware Acceleration";function g(e){var t,n,g,{applicationId:m}=e,b=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["applicationId"]);let[_,E]=i.useState(!1),[O]=(0,o.Z)([m]),y=null!=(g=null==O?void 0:O.name)?g:"This Activity";i.useEffect(()=>{c.default.track(d.rMx.OPEN_MODAL,{type:f})},[]);let I=()=>{let e="temporary";_&&(e="permanent",a.ZP.updatedUnsyncedSettings({disableActivityHardwareAccelerationPrompt:!0})),c.default.track(d.rMx.MODAL_DISMISSED,{type:f,dismiss_type:e}),b.onClose()};return(0,r.jsxs)(l.Y0X,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:h.root,"aria-label":p.intl.string(p.t.NQkK4u)},b),n=n={parentComponent:"ActivityHardwareAccelerationModal",children:[(0,r.jsxs)(l.xBx,{separator:!1,children:[(0,r.jsx)(l.Text,{className:h.__invalid_header,variant:"text-lg/normal",children:p.intl.string(p.t.NQkK4u)}),(0,r.jsx)(l.olH,{onClick:I,className:h.closeButton})]}),(0,r.jsx)(l.hzk,{className:h.content,children:(0,r.jsx)(l.Text,{variant:"text-md/normal",className:h.__invalid_ratingBody,children:p.intl.format(p.t.B9eiaG,{applicationName:y})})}),(0,r.jsxs)(l.mzw,{className:h.footer,direction:s.Z.Direction.HORIZONTAL,children:[(0,r.jsx)(l.XZJ,{type:l.XZJ.Types.INVERTED,size:18,value:_,onChange:()=>E(!_),children:(0,r.jsx)(l.Text,{variant:"text-sm/normal",children:p.intl.string(p.t["5E9SBw"])})}),(0,r.jsx)(l.zxk,{color:l.zxk.Colors.PRIMARY,onClick:I,children:p.intl.string(p.t["Ibf5/v"])}),(0,r.jsx)(l.zxk,{color:l.zxk.Colors.BRAND,onClick:()=>{c.default.track(d.rMx.ACTIVITY_ENABLE_HARDWARE_ACCELERATION,{application_id:m}),u.ZP.setEnableHardwareAcceleration(!0)},children:p.intl.string(p.t["/wlDqq"])})]})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},244317:function(e,t,n){n.d(t,{Z:()=>h}),n(35282),n(388685);var r=n(255367),i=n(73800),l=n(873546),a=n(481060),o=n(358085),s=n(289341),c=n(981631),u=n(186901),d=n(388032),p=n(278812);function h(e){let{applicationId:t}=e.match.params,[h,f]=i.useState(!1),g=i.useRef(!1),[m,b]=i.useState(null),_=!o.isPlatformEmbedded&&!l.tq&&!h;return(i.useEffect(()=>{_&&!0!==g.current&&(Promise.resolve().then(n.bind(n,536285)).then(e=>{let{default:n}=e;n.request(c.Etm.DEEP_LINK,{type:u.jE.ACTIVITIES,params:{applicationId:t,url:location.href}}).then(e=>{b(null!=e&&e)}).catch(()=>b(!1)).then(()=>n.disconnect())}),g.current=!0)},[t,_]),_&&!1!==m)?!0===m?(0,r.jsxs)("div",{className:p.container,children:[(0,r.jsx)(a.X6q,{variant:"heading-xxl/bold",children:d.intl.string(d.t.csrAMD)}),(0,r.jsx)(a.Text,{variant:"text-xs/semibold",children:d.intl.string(d.t["m1+IBg"])}),(0,r.jsx)(a.zxk,{onClick:()=>f(!0),color:a.zxk.Colors.BRAND,children:d.intl.string(d.t.fIv16O)})]}):(0,r.jsxs)("div",{className:p.container,children:[(0,r.jsx)(a.X6q,{variant:"heading-xxl/bold",children:d.intl.string(d.t["Z+hCVV"])}),(0,r.jsx)(a.$jN,{})]}):(0,r.jsx)(s.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))}},289341:function(e,t,n){n.d(t,{Z:()=>g}),n(35282),n(388685),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749);var r=n(73800),i=n(442837),l=n(668781),a=n(493683),o=n(100527),s=n(906732),c=n(835473),u=n(703656),d=n(594174),p=n(122613),h=n(649256),f=n(388032);function g(e){var t,n;let{match:g}=e,m=null!=(n=(0,u.DR)())?n:[],{analyticsLocations:b}=(0,s.ZP)([...m,o.Z.ACTIVITY_DETAIL_PAGE]),{applicationId:_}=g.params,[E]=(0,c.Z)([_]),O=null==E||null==(t=E.bot)?void 0:t.id,y=(0,i.e7)([d.default],()=>d.default.getCurrentUser());return r.useEffect(()=>{null!=O&&null!=y&&(async()=>{try{var e;let t=new URL(location.href),n=await a.Z.openPrivateChannel({recipientIds:O}),r=null!=(e=t.searchParams.get("referrer_id"))?e:void 0,{customId:i}=await (0,h.ur)(_,t.searchParams.get("link_id"),t.searchParams.get("custom_id"));await (0,p.Z)({targetApplicationId:_,channelId:n,analyticsLocations:b,customId:i,referrerId:r})}catch(e){}})()},[b,_,O,y]),r.useEffect(()=>{let e=setTimeout(()=>{null==O&&l.Z.show({title:f.intl.string(f.t.PtobXV),body:f.intl.string(f.t["IOy+Iy"])})},5e3);return()=>{clearTimeout(e)}},[O]),null}},230487:function(e,t,n){n.d(t,{Z:()=>p});var r=n(255367);n(73800);var i=n(481060),l=n(740492),a=n(626135),o=n(358085),s=n(998502),c=n(258220),u=n(981631);let d="activity-hardware-acceleration-modal";function p(e){l.ZP.disableActivityHardwareAccelerationPrompt||!o.isPlatformEmbedded||s.ZP.getEnableHardwareAcceleration()||(0,i.ZDy)(async()=>{let{default:t}=await Promise.resolve().then(n.bind(n,258220));return n=>(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({applicationId:e},n))},{modalKey:d,onCloseRequest:()=>{a.default.track(u.rMx.MODAL_DISMISSED,{type:c.r}),(0,i.Mr3)(d)}})}},838195:function(e,t,n){n.d(t,{Z:()=>o});var r=n(255367);n(73800);var i=n(481060),l=n(812206),a=n(531826);function o(e){let{applicationId:t,channelId:o,mediaUrl:s}=e,c=l.Z.getApplication(t),u=null!=(0,a.ZP)({application:c,channelId:o})?i.u1M:i.z1l;(0,i.ZDy)(async()=>{let{default:e}=await n.e("4530").then(n.bind(n,899201));return n=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({applicationId:t,channelId:o,mediaUrl:s},n))},{modalKey:"activity-share-moment-modal",contextKey:u})}},687751:function(e,t,n){n.d(t,{Z:()=>E});var r=n(255367);n(73800);var i=n(481060),l=n(570140),a=n(317770),o=n(592125),s=n(944486),c=n(914010),u=n(594174),d=n(758119),p=n(920644),h=n(208381),f=n(723359),g=n(981631);function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function b(e,t){var n;if(null==e)return;let r=u.default.getCurrentUser();(null==(n=o.Z.getChannel(t))?void 0:n.isNSFW())&&null!=r&&null==r.nsfwAllowed&&(0,d.mN)(f.L0.NSFW_CHANNEL)}class _ extends a.Z{_initialize(){l.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen),l.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect),l.Z.subscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen),l.Z.subscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose),l.Z.subscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess),l.Z.subscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)}_terminate(){l.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen),l.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect),l.Z.unsubscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen),l.Z.unsubscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose),l.Z.unsubscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess),l.Z.unsubscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)}handleChannelSelect(e){let{guildId:t,channelId:n}=e;b(t,n)}handleConnectionOpen(){b(c.Z.getGuildId(),s.Z.getChannelId())}handleAgeGateModalOpen(e){let{source:t}=e;(0,i.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("6583"),n.e("1337"),n.e("33312")]).then(n.bind(n,746882));return n=>(0,r.jsx)(e,m({source:t},n))},{modalKey:f.dG,onCloseRequest:g.dG4})}handleAgeGateSuccess(){(0,i.oav)(f.dG,e=>(0,r.jsx)(h.Z,m({},e)))}handleAgeGateFailure(e){let{underageMessage:t}=e;(0,i.oav)(f.dG,e=>(0,r.jsx)(p.Z,m({underageMessage:t},e)))}handleAgeGateModalClose(){(0,i.Mr3)(f.dG)}}let E=new _},920644:function(e,t,n){n.d(t,{Z:()=>f});var r=n(255367);n(73800);var i=n(990547),l=n(481060),a=n(313201),o=n(703656),s=n(63063),c=n(758119),u=n(981631),d=n(388032),p=n(274978);function h(){(0,c.qV)(),(0,o.uL)(u.Z5c.LOGIN,{source:"existing_user_age_gate_underage"})}function f(e){let{underageMessage:t,transitionState:o}=e,c=(0,a.Dt)();return(0,r.jsxs)(l.Y0X,{transitionState:o,size:l.CgR.SMALL,"aria-labelledby":c,impression:{impressionName:i.ImpressionNames.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0}},parentComponent:"ExistingUserAgeGateUnderage",children:[(0,r.jsx)(l.hzk,{children:(0,r.jsxs)("div",{className:p.container,children:[(0,r.jsx)("img",{alt:"",src:n(231443),className:p.img}),(0,r.jsx)(l.X6q,{variant:"heading-xl/semibold",className:p.title,id:c,children:d.intl.string(d.t["NR/zrK"])}),(0,r.jsx)(l.Text,{color:"header-secondary",className:p.subtitle,variant:"text-sm/normal",children:d.intl.format(d.t.b0QzXV,{underageMessage:null!=t?t:d.intl.string(d.t.WqEH4O),helpURL:s.Z.getArticleURL(u.BhN.AGE_GATE)})}),(0,r.jsx)(l.Text,{color:"header-secondary",className:p.subtitle,variant:"text-sm/normal",children:d.intl.format(d.t["3axQdH"],{days:30})})]})}),(0,r.jsx)(l.mzw,{children:(0,r.jsx)(l.zxk,{size:l.PhG.SMALL,fullWidth:!0,onClick:h,children:d.intl.string(d.t.szzQ6O)})})]})}},208381:function(e,t,n){n.d(t,{Z:()=>u});var r=n(255367);n(73800);var i=n(990547),l=n(481060),a=n(313201),o=n(758119),s=n(388032),c=n(377671);function u(e){let{transitionState:t}=e,u=(0,a.Dt)();return(0,r.jsxs)(l.Y0X,{transitionState:t,size:l.CgR.SMALL,"aria-labelledby":u,impression:{impressionName:i.ImpressionNames.USER_AGE_GATE,impressionProperties:{existing_user:!0}},parentComponent:"ExistingUserAgeGateVerified",children:[(0,r.jsx)(l.hzk,{children:(0,r.jsxs)("div",{className:c.container,children:[(0,r.jsx)("img",{alt:"",src:n(863181),className:c.img}),(0,r.jsx)(l.X6q,{variant:"heading-xl/semibold",className:c.title,id:u,children:s.intl.string(s.t.gUiIGR)}),(0,r.jsx)(l.Text,{color:"header-secondary",className:c.subtitle,variant:"text-sm/normal",children:s.intl.string(s.t.susqq6)})]})}),(0,r.jsx)(l.mzw,{children:(0,r.jsx)(l.zxk,{size:l.PhG.SMALL,fullWidth:!0,onClick:function(){(0,o.qV)()},autoFocus:!0,children:s.intl.string(s.t.cpT0Cg)})})]})}},64514:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r=n(846519),i=n(570140),l=n(317770),a=n(626135),o=n(70956),s=n(960048),c=n(930446),u=n(127438),d=n(981631);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends l.Z{_initialize(){this.focusedOrForegrounded=(0,u.H)(),i.Z.subscribe("WINDOW_FOCUS",this.handleWindowFocus),i.Z.subscribe("APP_STATE_UPDATE",this.handleAppStateUpdate),i.Z.subscribe("QUESTS_ENROLL_SUCCESS",this.handleEnrollmentSuccess),i.Z.subscribe("LOGIN_SUCCESS",this.handleLogin),i.Z.subscribe("LOGOUT",this.handleLogout),this.scheduleHeartbeatTracking()}_terminate(){this.stopAnalyticHeartbeat(),i.Z.unsubscribe("WINDOW_FOCUS",this.handleWindowFocus),i.Z.unsubscribe("APP_STATE_UPDATE",this.handleAppStateUpdate),i.Z.unsubscribe("QUESTS_ENROLL_SUCCESS",this.handleEnrollmentSuccess),i.Z.unsubscribe("LOGIN_SUCCESS",this.handleLogin),i.Z.unsubscribe("LOGOUT",this.handleLogout)}constructor(...e){var t;super(...e),t=this,p(this,"focusedOrForegrounded",(0,u.H)()),p(this,"heartbeatInterval",new r.Xp),p(this,"schedulerStarted",!1),p(this,"maybeStartHeartbeat",()=>{this.heartbeatInterval.isStarted()||(this.trackHeartbeat(),this.heartbeatInterval.start(5*o.Z.Millis.MINUTE,this.trackHeartbeat))}),p(this,"startAnalyticHeartbeat",()=>{this.schedulerStarted||(this.schedulerStarted=!0,s.Z.addBreadcrumb({category:"ad",message:"Starting ad session heartbeat"}),this.maybeStartHeartbeat())}),p(this,"trackHeartbeat",function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t.schedulerStarted&&!e){s.Z.addBreadcrumb({category:"ad",message:"Ad heartbeat called but scheduler not started"}),t.heartbeatInterval.stop();return}let n=(0,c.Gy)();a.default.track(d.rMx.CLIENT_AD_HEARTBEAT,{client_ad_session_id:n.uuid,client_heartbeat_initialization_timestamp:n.createdAtTimestamp,client_heartbeat_version:2})}),p(this,"stopAnalyticHeartbeat",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";t.schedulerStarted&&(t.schedulerStarted=!1,s.Z.addBreadcrumb({category:"ad",message:"Stopping ad session heartbeat: ".concat(e)}),t.heartbeatInterval.stop())}),p(this,"scheduleHeartbeatTracking",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";if(t.focusedOrForegrounded)try{t.startAnalyticHeartbeat()}catch(e){s.Z.captureException(e)}else t.stopAnalyticHeartbeat(e)}),p(this,"handleLogin",()=>{this.scheduleHeartbeatTracking(),this.trackHeartbeat(!0)}),p(this,"handleLogout",()=>{this.stopAnalyticHeartbeat("USER_LOGOUT"),(0,c.GG)()}),p(this,"handleEnrollmentSuccess",()=>{(0,c.Gy)(!0)}),p(this,"handleWindowFocus",e=>{let{focused:t}=e;this.focusedOrForegrounded=t,this.scheduleHeartbeatTracking("WINDOW_FOCUS")}),p(this,"handleAppStateUpdate",e=>{let{state:t}=e;this.focusedOrForegrounded=t===d.$7l.ACTIVE,this.scheduleHeartbeatTracking("APP_STATE_UPDATE")})}}let f=new h},360347:function(e,t,n){n.d(t,{Z:()=>a});var r=n(91896),i=n(699516),l=n(453542);function a(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({num_friends:i.Z.getFriendCount(),num_outgoing_requests:i.Z.getOutgoingCount(),num_incoming_requests:i.Z.getPendingCount(),num_game_friends:r.Z.getGameFriendCount(),num_game_outgoing_requests:r.Z.getPendingOutgoingCount(),num_game_incoming_requests:r.Z.getPendingIncomingCount()},(0,l.X)())}},176881:function(e,t,n){n.d(t,{Z:()=>o});var r=n(626135),i=n(188471),l=n(360347),a=n(981631);function o(e){var t,n,o;let{tab_opened:s,source:c}=e,u=(0,l.Z)();r.default.track(a.rMx.FRIENDS_LIST_VIEWED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({tab_opened:s,source:c},u)),(0,i.a)(a.rMx.FRIENDS_LIST_VIEWED_CLICKSTREAM,{tab_opened:null!=s?s:"tabless",num_friends:null!=(t=u.num_friends)?t:0,now_playing_visible:null!=(n=u.now_playing_visible)&&n,now_playing_num_cards:null!=(o=u.now_playing_num_cards)?o:0})}},141233:function(e,t,n){n(40455),n(430198),n(353926),n(893966),n(734307),n(803141),n(355298),n(333984),n(914788),n(869765),n(621853),n(706454),n(210887),n(581883),n(592125),n(324067),n(984933),n(271383),n(93093),n(888369),n(430824),n(375954),n(496675),n(306680),n(771845),n(9156),n(594174),n(55589)},371398:function(e,t,n){n(590965),n(317381),n(761781),n(40455),n(458772),n(368321),n(541099),n(174212),n(213459),n(998698),n(812206),n(344532),n(758182),n(358221),n(501809),n(12498),n(430198),n(719247),n(353647),n(146282),n(281320),n(339085),n(353926),n(934401),n(633289),n(735020),n(774863),n(238349),n(660189),n(682474),n(581036),n(208970),n(5254),n(317632),n(91896),n(972830),n(331114),n(537883),n(356164),n(487419),n(223606),n(580079),n(937111),n(893966),n(45966),n(819553),n(240864),n(408042),n(289393),n(687476),n(924301),n(734307),n(803141),n(994752),n(41776),n(487554),n(48929),n(584731),n(748902),n(355298),n(333984),n(726745),n(140155),n(109497),n(601992),n(390289),n(371651),n(46145),n(541692),n(502087),n(441623),n(360787),n(823385),n(455199),n(432496),n(807092),n(869765),n(98369),n(729303),n(768943),n(156012),n(903488),n(981663),n(359119),n(452369),n(768419),n(565799),n(88751),n(742738),n(427679),n(926491),n(765104),n(601070),n(344185),n(920303),n(569471),n(159299),n(260483),n(144140),n(10401),n(432835),n(575356),n(151662),n(706454),n(210887),n(581883),n(243852),n(450795),n(543882),n(199902),n(314897),n(523746),n(680089),n(606956),n(662594),n(624453),n(184107),n(592125),n(58468),n(553795),n(480294),n(906467),n(857192),n(703558),n(831506),n(82142),n(165630),n(486472),n(324067),n(984933),n(650774),n(720202),n(271383),n(93093),n(888369),n(430824),n(797316),n(607744),n(674985),n(341165),n(325067),n(131951),n(542578),n(375954),n(649974),n(209590),n(496675),n(571474),n(158776),n(358652),n(544610),n(878884),n(19780),n(306680),n(699516),n(768119),n(944486),n(914010),n(885110),n(797258),n(771845),n(606304),n(215427),n(959457),n(558724),n(111583),n(62817),n(9156),n(23434),n(594174),n(33039),n(979651),n(351402),n(192513),n(456065),n(173747),n(55589),n(938475),n(974042),n(417363),n(941128),n(556296),n(974180),n(808506),n(237997)},333861:function(e,t,n){n.d(t,{M:()=>a,s:()=>l});var r=n(255367);n(73800);var i=n(481060);let l="command-share-modal";function a(e){let{applicationId:t,channel:a,command:o,previewMessage:s,requireLaunchChannel:c,contextKey:u,onShareResult:d}=e;(0,i.ZDy)(async()=>{let{ApplicationCommandShareModal:e}=await n.e("53682").then(n.bind(n,683958));return n=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({applicationId:t,channel:a,command:o,previewMessage:s,onShareResult:d,requireLaunchChannel:c},n))},{modalKey:l,contextKey:u,onCloseCallback:()=>{d(!1)}})}},857458:function(e,t,n){n.d(t,{M:()=>s,Z:()=>c}),n(35282);var r=n(255367);n(73800);var i=n(114858),l=n(860911),a=n(981631),o=n(188785);function s(){let e=location.pathname+location.search;return o.a?a.Z5c.REGISTER:(0,l.Ui)(e,!1)}let c=function(){return(0,r.jsx)(i.l_,{to:s()})}},77987:function(e,t,n){n.d(t,{e:()=>s});var r=n(255367);n(73800);var i=n(314897),l=n(449934),a=n(857458),o=n(981631);function s(e,t){var n,s;let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{passProps:!0};function u(n){return!(0,l.$8)()&&i.default.getLoginStatus()!==o.u34.LOGGING_IN&&i.default.allowLogoutRedirect()?null!=t?(0,r.jsx)(t,{renderRedirect:(0,r.jsx)(a.Z,{})}):(0,r.jsx)(a.Z,{}):(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},c.passProps?n:null))}return u.displayName="Authenticated(".concat(null!=(s=null!=(n=e.displayName)?n:e.name)?s:"<Unknown>",")"),u}},679891:function(e,t,n){n.d(t,{Z:()=>_}),n(388685);var r=n(570140),i=n(846027),l=n(317770),a=n(594190),o=n(928518),s=n(131951),c=n(451478),u=n(981631),d=n(65154);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=new Set,f=new Set,g=null;function m(){for(let e of h)i.Z.setDisableLocalVideo(e,u.ZUi.MANUAL_ENABLED,d.Yn.DEFAULT,!1);f.clear(),h.clear()}class b extends l.Z{_initialize(){r.Z.subscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo),r.Z.subscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle),r.Z.subscribe("WINDOW_VISIBILITY_CHANGE",this.handleWindowVisibilityChange),r.Z.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),o.Z.addChangeListener(this.handlePopoutChange)}_terminate(){r.Z.unsubscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo),r.Z.unsubscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle),r.Z.unsubscribe("WINDOW_VISIBILITY_CHANGE",this.handleWindowVisibilityChange),r.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),o.Z.removeChangeListener(this.handlePopoutChange),m(),g=null}handleIncomingVideo(e){let{userId:t,context:n,streamId:r}=e;if(n!==d.Yn.DEFAULT||null==r)return;let l=null!=a.ZP.getVisibleGame(),p=c.Z.isVisible(),g=o.Z.getWindowVisible(u.KJ3.CHANNEL_CALL_POPOUT),m=s.Z.isLocalVideoDisabled(t,n),b=f.has(t);!l||p||g||m||b||(h.add(t),i.Z.setDisableLocalVideo(t,u.ZUi.DISABLED,n,!1))}handleManualLocalVideoToggle(e){let{userId:t,persist:n}=e;n&&(f.add(t),h.delete(t))}constructor(...e){super(...e),p(this,"handleWindowVisibilityChange",e=>{let{visible:t}=e;t&&m()}),p(this,"handleVoiceChannelSelect",e=>{let{channelId:t}=e;t!==g&&(m(),g=t)}),p(this,"handlePopoutChange",()=>{o.Z.getWindowVisible(u.KJ3.CHANNEL_CALL_POPOUT)&&m()})}}let _=new b},501809:function(e,t,n){n(388685);var r,i=n(442837),l=n(570140),a=n(38618),o=n(592125),s=n(709054);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=Object.freeze({online:null,total:null}),d={},p={},h=null;class f extends(r=i.ZP.PersistedStore){initialize(e){this.waitFor(a.Z,o.Z),p=null!=e?e:d}getState(){return p}getMemberCount(e){var t;return null!=(t=p[e])?t:u}requestCount(e,t){h={guildId:e,channelId:t},a.Z.getSocket().requestChannelMemberCount(e,t)}}c(f,"displayName","ChannelMemberCountStore"),c(f,"persistKey","channelMemberCounts"),new f(l.Z,{CONNECTION_OPEN:function(){null!=h&&a.Z.getSocket().requestChannelMemberCount(h.guildId,h.channelId),s.default.keys(p).forEach(e=>{null==o.Z.getChannel(e)&&delete p[e]})},CHANNEL_MEMBER_COUNT_UPDATE:function(e){let{channelId:t,online:n,total:r}=e;return(null!=n||null!=r)&&(p[t]={online:n,total:r}),!0}})},429673:function(e,t,n){n.d(t,{r2:()=>l,sc:()=>a});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"guild",id:"2025-05_enable_emoji_in_channel_names_guild",label:"Emojis in Channel Name",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Show emoji picker in channel name input fields",config:{enabled:!0}}]});function a(e){let{guildId:t,location:n}=e;return l.useExperiment({guildId:t,location:n}).enabled}},320149:function(e,t,n){n.d(t,{Z:()=>v});var r=n(255367),i=n(73800),l=n(442837),a=n(481060),o=n(541716),s=n(665149),c=n(910611),u=n(355298),d=n(333984),p=n(26373),h=n(486622),f=n(718538),g=n(359110),m=n(6025),b=n(433355),_=n(933557),E=n(287746),O=n(388032),y=n(560460),I=n(46467);function v(e){let{channel:t,baseChannelId:n}=e,v=(0,_.ZP)(t),C=(0,p.K)(),S=(0,p.V)(),N=(0,l.e7)([u.Z],()=>u.Z.isMessageRequest(t.id)),T=(0,l.e7)([d.Z],()=>d.Z.isSpam(t.id)),P=(0,f.V)(t.id,t.getRecipientId()),j=i.useCallback(()=>{m.Z.closeChannelSidebar(b.uZ),N&&C&&(0,g.Kh)(t.id),T&&S&&(0,g.Kh)(t.id)},[t.id,T,S,N,C]),A=i.useCallback(()=>{(0,a.showToast)((0,a.createToast)(O.intl.string(O.t.pIQ3h4),a.ToastType.FAILURE))},[]),{markAsNotSpam:Z}=(0,h.m)({onAcceptSuccess:j,onError:A});if(null==t||!t.isDM())return null;let x=[(0,r.jsx)(s.ZP.Icon,{icon:a.Dio,tooltip:O.intl.string(O.t.cpT0Cg),onClick:()=>m.Z.closeChannelSidebar(n)},"close")];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.ZP,{toolbar:x,"aria-label":O.intl.string(O.t.BIYAqa),children:(0,c.ud)({channel:t,channelName:v,inSidebar:!0})}),T&&(0,r.jsxs)("div",{className:I.hamBanner,children:[(0,r.jsx)(a.Text,{className:I.__invalid_hamBannerText,variant:"text-sm/normal",children:O.intl.string(O.t.XVOKgo)}),(0,r.jsx)(a.zxk,{className:I.hamBannerButton,size:a.PhG.SMALL,onClick:()=>Z(t,P),children:O.intl.string(O.t.koqL3d)})]}),(0,r.jsx)("div",{className:y.chat,children:(0,r.jsx)(E.Z,{channel:t,guild:null,chatInputType:o.Ie.SIDEBAR},t.id)})]})}},626421:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(399606),s=n(243778),c=n(914010),u=n(566840),d=n(921944),p=n(648106);let h=i.memo(function(e){let{state:t,markAsDismissed:n}=e,{name:l,guildId:o,boundingRect:s}=t,c=i.useMemo(()=>null,[l,o,n]);return null==c?null:(0,r.jsx)("div",{className:a()(p.upsell,(null==s||s.y<0)&&p.hidden),style:null==s?{}:{top:s.top,left:s.right-s.x},children:c})});function f(){let e=(0,o.e7)([c.Z],()=>c.Z.getGuildId()),t=(0,u.Eg)(e),[n,i]=(0,s.US)(Object.values(t).filter(e=>{let{disabled:t}=e;return!t}).map(e=>{let{name:t}=e;return t}),d.R.SIDEBAR);if(null==n)return null;let l=t[n];return null==l?null:(0,r.jsx)("div",{className:p.container,children:(0,r.jsx)(h,{state:l,markAsDismissed:i})})}},986332:function(e,t,n){n.d(t,{o:()=>i});let r=(0,n(818083).B)({kind:"user",id:"2022-12_channel_notice_redesign",label:"Channel Notice Redesign",defaultConfig:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!1},treatments:[{id:1,label:"Show Redesigned Channel Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!1}},{id:2,label:"Show Redesigned Stage/Event Notices",config:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!0}},{id:3,label:"Show Redesigned Channel Notices & Stage/Event Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!0}}]});function i(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{showRedesignedChannelNotice:t,showRedesignedLiveChannelNotice:n}=r.useExperiment({location:"c0d6eb_1"},{autoTrackExposure:e});return{showRedesignedChannelNotice:t,showRedesignedLiveChannelNotice:n}}},428695:function(e,t,n){n.d(t,{Z:()=>g});var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(392711),s=n(481060),c=n(367907),u=n(626135),d=n(981631),p=n(388032),h=n(29504);let f=(0,o.debounce)(c.ZP.trackWithMetadata,500),g=function(e){let{guild:t,title:n,message:l,image:o,type:g,imageStyles:m,imageMarginX:b,imageMarginTop:_,trackingSource:E,undismissable:O,onDismissed:y,onClick:I,cta:v,ctaColor:C,centerText:S,className:N}=e;i.useEffect(()=>{f(d.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:g,guild_id:t.id})},[t.id,g]);let T=null;"function"==typeof v?T=v():null!=v&&(T=(0,r.jsx)(s.zxk,{className:h.button,size:s.zxk.Sizes.SMALL,onClick:()=>{null!=g&&u.default.track(d.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:E,guild_id:t.id,notice_type:g}),null==I||I()},fullWidth:!0,color:C,children:v}));let P=null;"function"==typeof n?P=n():null!=n&&(P=(0,r.jsx)(s.Text,{variant:"text-md/medium",color:"header-primary",className:a()(h.title,{[h.noImageTitle]:null==o},{[h.center]:S}),children:n}));let j=null;"function"==typeof l?j=l():null!=l&&(j=(0,r.jsx)(s.Text,{className:a()({[h.center]:S}),variant:"text-sm/normal",color:"text-muted",children:l}));let A=null!=b?"".concat(b,"px"):"16px";return(0,r.jsxs)("div",{className:a()(h.container,N),children:[!0===O?null:(0,r.jsx)(s.P3F,{onClick:()=>{c.ZP.trackWithMetadata(d.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:g}),null==y||y()},className:h.close,"aria-label":p.intl.string(p.t.WAI6xs),children:(0,r.jsx)(s.Dio,{size:"md",color:"currentColor",className:h.closeIcon})}),null!=o&&(0,r.jsx)("div",{className:h.imageContainer,style:{marginTop:"".concat(_,"px"),marginLeft:A,marginRight:A},children:(0,r.jsx)("img",{className:h.image,style:m,src:o,alt:""})}),(0,r.jsxs)("div",{className:h.message,children:[P,j,T]})]})}},122611:function(e,t,n){n.d(t,{Z:()=>Z}),n(388685);var r=n(255367),i=n(73800),l=n(442837),a=n(704215),o=n(433517),s=n(705348),c=n(243778),u=n(360453),d=n(377743),p=n(834743),h=n(862099),f=n(704631),g=n(819792),m=n(919285),b=n(50101),_=n(118470),E=n(413307),O=n(374023),y=n(661599),I=n(617899),v=n(8521),C=n(760326),S=n(785203),N=n(652785),T=n(921944);let P=new Set([a.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION,a.z.CHANNEL_NOTICE_GUILD_BANNER]);function j(e){e.stopPropagation()}function A(e){var t;let{guild:n}=e,[u,h]=i.useState(null!=(t=o.K.get(N.Iv))?t:0),g=e=>{o.K.set(N.Iv,e),h(e)},m=(0,b.Ek)(n.id,"ChannelNoticesGuard"),_=(0,l.Wu)(N.HG,()=>N.XN.filter(e=>{let{dismissibleContentType:t,store:r}=e;return!0===(null==r?void 0:r.channelNoticePredicate(n,u))&&(!P.has(t)||!m)}).map(e=>e.dismissibleContentType),[m,n,u]);return(0,r.jsx)(c.ZP,{contentTypes:_,groupName:T.R.CHANNEL_NOTICES,children:e=>{let{visibleContent:t,markAsDismissed:i}=e,l=()=>{g(Date.now()),i(T.L.UNKNOWN)},o=(()=>{switch(t){case a.z.CHANNEL_NOTICE_HUBLINK:return(0,r.jsx)(f.Z,{guild:n,markAsDismissed:l});case a.z.CHANNEL_NOTICE_INVITE:return(0,r.jsx)(I.Z,{guild:n,markAsDismissed:l});case a.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:return(0,r.jsx)(p.Z,{guild:n,markAsDismissed:l});case a.z.CHANNEL_NOTICE_QUICKSWITCHER:return(0,r.jsx)(C.Z,{guild:n,markAsDismissed:l});case a.z.CHANNEL_NOTICE_GUILD_BANNER:return(0,r.jsx)(d.Z,{guild:n,markAsDismissed:l});case a.z.LINKED_ROLE_ADMIN_GUILD:return(0,r.jsx)(s.Z,{guild:n,markAsDismissed:()=>i(T.L.UNKNOWN)});default:return null}})();return null==o?null:(0,r.jsx)("div",{onContextMenu:j,children:o})}})}let Z=e=>{let{guild:t}=e;switch((0,S.Z)(t)){case S.R.ENABLE_PUBLIC_GUILD:return(0,r.jsx)(E.Z,{guild:t});case S.R.APPLIED_GUILD_BOOST_GRACE_PERIOD:return(0,r.jsx)(u.Z,{guild:t});case S.R.MAX_MEMBER_COUNT:return(0,r.jsx)(v.Z,{guild:t});case S.R.GUILD_LIVE_CHANNEL:return(0,r.jsx)(h.ZP,{guild:t});case S.R.GUILD_MFA_WARNING:return(0,r.jsx)(y.Z,{guild:t});case S.R.COMMANDS_MIGRATION:return(0,r.jsx)(m.Z,{guild:t});case S.R.APPLICATION_SUBSCRIPTION_EXPIRATION:return(0,r.jsx)(_.Z,{guild:t});case S.R.HUB_STUDY_ROOM:return(0,r.jsx)(g.Z,{guild:t})}return O.s.isDisallowPopupsSet()?null:(0,r.jsx)(A,{guild:e.guild})}},652785:function(e,t,n){n.d(t,{HG:()=>h,Iv:()=>d,XN:()=>p});var r=n(704215),i=n(823385),l=n(327689),a=n(421176),o=n(456065),s=n(683743),c=n(823379),u=n(981631);let d="lastHiddenChannelNotice",p=[{type:u.vID.CLAN_ADMIN_UPSELL,dismissibleContentType:r.z.CHANNEL_LIST_CLAN_ADMIN_UPSELL},{type:u.vID.GUILD_BOOSTING,store:a.Z,dismissibleContentType:r.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:u.vID.GUILD_BANNER,store:l.Z,dismissibleContentType:r.z.CHANNEL_NOTICE_GUILD_BANNER},{type:u.vID.INVITE,store:s.Z,dismissibleContentType:r.z.CHANNEL_NOTICE_INVITE},{type:u.vID.HUB_LINK,store:o.Z,dismissibleContentType:r.z.CHANNEL_NOTICE_HUBLINK},{type:u.vID.QUICKSWITCHER,store:i.Z,dismissibleContentType:r.z.CHANNEL_NOTICE_QUICKSWITCHER},{type:u.vID.LINKED_ROLES_ADMIN,dismissibleContentType:r.z.LINKED_ROLE_ADMIN_GUILD}],h=p.map(e=>e.store).filter(c.lm)},661599:function(e,t,n){n.d(t,{Z:()=>d});var r=n(255367),i=n(73800),l=n(230711),a=n(324262),o=n(981631),s=n(388032),c=n(510342);class u extends i.PureComponent{render(){return(0,r.jsx)(a.Z,{guild:this.props.guild,onClick:()=>l.Z.open(o.oAB.ACCOUNT),message:s.intl.format(s.t["oCd+am"],{}),cta:s.intl.string(s.t["8dCrV1"]),trackingSource:o.PsQ.GUILD_MFA_WARNING,type:o.vID.MFA_WARNING,image:c,imageMarginX:54,undismissable:!0})}}let d=u},617899:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r=n(255367),i=n(73800),l=n(481060),a=n(904245),o=n(340541),s=n(944486),c=n(324262),u=n(981631),d=n(921944),p=n(388032),h=n(589148);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.PureComponent{getInviteText(){return(0,o.jW)({location:"invite_notice"}).entrypoints?p.intl.string(p.t.Sd8Ix8):p.intl.string(p.t.BN75l5)}render(){let e="".concat(p.intl.string(p.t.VWqWZW),"\n").concat(p.intl.string(p.t["0Lgb/P"])),t=this.getInviteText();return(0,r.jsx)(c.Z,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:t,trackingSource:u.PsQ.INVITE_NOTICE,type:u.vID.INVITE,image:h,imageMarginX:46})}constructor(...e){super(...e),f(this,"handleInvite",()=>{let{guild:e}=this.props;(0,l.ZDy)(async()=>{let{default:t}=await Promise.all([n.e("7654"),n.e("17439")]).then(n.bind(n,560114));return n=>{var i,l;return(0,r.jsx)(t,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({},n),l=l={guild:e,source:u.t4x.INVITE_NOTICE},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}),f(this,"handleClose",()=>{let e=s.Z.getChannelId(),t=p.intl.formatToPlainString(p.t.DEn7np,{invitePeople:this.getInviteText()});this.props.markAsDismissed(d.L.UNKNOWN),null!=e&&a.Z.sendBotMessage(e,t)})}}let m=g},662842:function(e,t,n){n.d(t,{Z:()=>D}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(692547),c=n(481060),u=n(232567),d=n(100527),p=n(471445),h=n(15274),f=n(924301),g=n(504160),m=n(151864),b=n(725436),_=n(497656),E=n(554747),O=n(230900),y=n(854698),I=n(703656),v=n(922482),C=n(565799),S=n(501655),N=n(427679),T=n(448206),P=n(670188),j=n(496675),A=n(594174),Z=n(662868),x=n(981631),L=n(765305),w=n(388032),R=n(29504);function D(e){let{guild:t,isStudyRoomNotice:n=!1}=e,l=(0,_.y)(t.id),d=(0,E.k5)(t.id),P=(0,o.e7)([N.Z],()=>N.Z.getStageInstanceByChannel(null==l?void 0:l.id),[l]),{isStageNoticeHidden:D,isEventNoticeHidden:M}=(0,o.cj)([m.Z],()=>({isStageNoticeHidden:m.Z.isLiveChannelNoticeHidden({stageId:null==P?void 0:P.id}),isEventNoticeHidden:m.Z.isLiveChannelNoticeHidden({eventId:null==d?void 0:d.id})}),[P,d]),U=null==l?void 0:l.id,G=(0,o.Wu)([C.Z],()=>[...new Set(C.Z.getMutableParticipants(U,S.pV.SPEAKER).map(e=>e.user))],[U]),V=(0,o.e7)([C.Z],()=>null!=U?C.Z.getParticipantCount(U,S.pV.AUDIENCE):0,[U]),B=(0,o.e7)([j.Z],()=>j.Z.can(x.Plq.CONNECT,l)),H=(0,T.Z)(null==l?void 0:l.id),F=null==d?void 0:d.creator_id,z=(0,o.e7)([A.default],()=>A.default.getUser(F),[F]);i.useEffect(()=>{null!=F&&(0,u.PR)(F)},[F]);let{noticeType:W,title:Y,location:K,locationIcon:q,canListenIn:Q,buttonText:X,users:J,overflowUsers:$,onClose:ee}=i.useMemo(()=>(function(e){let{guildEvent:t,stageInstance:n,activeChannel:i,canConnect:l,myRole:a,eventCreator:o,speakers:s,listenerCount:u,isEventNoticeHidden:d,isStageNoticeHidden:h,isStudyRoomNotice:m}=e,_=null!=n&&null!=i&&!h,E=null!=t?(0,y.DK)(t):null;if(m&&null!=i){let e=(0,p.KS)(i);return{noticeType:3,title:"\uD83D\uDCDA☕ ".concat(i.name),location:w.intl.string(w.t.LZA6NT),locationIcon:null!=e?(0,r.jsx)(e,{size:"xs",color:"currentColor",className:R.locationIcon}):null,canListenIn:l,buttonText:w.intl.string(w.t.wBoE6O),users:[],overflowUsers:null}}if(null==t||d){if(_){let e=w.intl.string(w.t.ZYO5OD);return(null==a?void 0:a.speaker)?e=w.intl.string(w.t["/cnSFR"]):null!=a&&(e=w.intl.string(w.t.btSGOj)),{noticeType:0,title:n.topic,location:i.name,locationIcon:(0,r.jsx)(c.ewx,{size:"custom",color:"currentColor",width:16,height:16,className:R.locationIcon}),canListenIn:l,buttonText:e,onClose:()=>(0,g.ji)({stageId:null==n?void 0:n.id}),users:s.length>5?s.slice(0,5):s,overflowUsers:u<1?null:(0,r.jsxs)("div",{className:R.pill,children:[(0,r.jsx)(c.VWR,{size:"custom",color:"currentColor",width:12,height:12,className:R.pillIcon}),(0,r.jsx)(c.Text,{variant:"text-xs/medium",color:"header-secondary",className:R.pillLabel,children:u})]})}}}else if(t.entity_type===L.WX.STAGE_INSTANCE&&_){let e=w.intl.string(w.t.ZYO5OD);return(null==a?void 0:a.speaker)?e=w.intl.string(w.t["/cnSFR"]):null!=a&&(e=w.intl.string(w.t.btSGOj)),{noticeType:0,title:n.topic,location:i.name,locationIcon:(0,r.jsx)(c.ewx,{size:"custom",color:"currentColor",width:16,height:16,className:R.locationIcon}),canListenIn:l,buttonText:e,onClose:()=>(0,g.ji)({stageId:null==n?void 0:n.id}),users:s.length>5?s.slice(0,5):s,overflowUsers:u<1?null:(0,r.jsxs)("div",{className:R.pill,children:[(0,r.jsx)(c.VWR,{size:"custom",color:"currentColor",width:12,height:12,className:R.pillIcon}),(0,r.jsx)(c.Text,{variant:"text-xs/medium",color:"header-secondary",className:R.pillLabel,children:u})]})}}else if(t.entity_type===L.WX.EXTERNAL){let e=(0,O.cS)(t);if(null==e)return{noticeType:null};let n=f.ZP.getUserCount(t.id,E);return{noticeType:1,title:t.name,location:(0,b.m)(e,!0),locationIcon:(0,r.jsx)(c._tJ,{size:"custom",color:"currentColor",width:16,height:16,className:R.locationIcon}),canListenIn:!1,buttonText:w.intl.string(w.t.iW6Xur),onClose:()=>(0,g.ji)({eventId:null==t?void 0:t.id}),users:null==o?[]:[o],overflowUsers:n<1?null:(0,r.jsxs)("div",{className:R.pill,children:[(0,r.jsx)(c.r7p,{size:"custom",color:"currentColor",width:12,height:12,className:R.pillIcon}),(0,r.jsx)(c.Text,{variant:"text-xs/medium",color:"header-secondary",className:R.pillLabel,children:n})]})}}else if(t.entity_type===L.WX.VOICE&&null!=i){let e=(0,p.KS)(i),n=f.ZP.getUserCount(t.id,E);return{noticeType:2,title:t.name,location:i.name,locationIcon:null!=e?(0,r.jsx)(e,{size:"xs",color:"currentColor",className:R.locationIcon}):null,canListenIn:l,buttonText:w.intl.string(w.t.nxUtoa),onClose:()=>(0,g.ji)({eventId:null==t?void 0:t.id}),users:null==o?[]:[o],overflowUsers:n<1?null:(0,r.jsxs)("div",{className:R.pill,children:[(0,r.jsx)(c.r7p,{size:"custom",color:"currentColor",width:12,height:12,className:R.pillIcon}),(0,r.jsx)(c.Text,{variant:"text-xs/medium",color:"header-secondary",className:R.pillLabel,children:n})]})}}return{noticeType:null}})({guildEvent:d,stageInstance:P,activeChannel:l,canConnect:B,myRole:H,eventCreator:z,speakers:G,listenerCount:V,isEventNoticeHidden:M,isStageNoticeHidden:D,isStudyRoomNotice:n}),[d,P,l,B,H,z,G,V,M,D,n]);return null==W?null:(0,r.jsxs)("div",{className:R.container,children:[null!=ee?(0,r.jsx)(c.P3F,{onClick:ee,className:R.close,"aria-label":w.intl.string(w.t.WAI6xs),children:(0,r.jsx)(c.Dio,{size:"md",color:"currentColor",className:R.closeIcon})}):null,(0,r.jsxs)("div",{className:R.header,children:[(0,r.jsx)(Z.Z,{color:s.Z.unsafe_rawColors.GREEN_230.css,width:16,height:16}),(0,r.jsx)(c.Text,{variant:"text-xs/semibold",color:"text-positive",children:w.intl.string(w.t.dI3q4u)})]}),(J.length>0||null!=$)&&(0,r.jsxs)("div",{className:R.participants,children:[J.map(e=>(0,r.jsx)(k,{user:e,guildId:t.id},e.id)),$]}),(0,r.jsx)(c.Text,{variant:"text-md/medium",color:"header-primary",className:a()(R.title,R.live),children:Y}),(0,r.jsxs)("div",{className:R.locationContainer,children:[q,(0,r.jsx)(c.Text,{variant:"text-xs/normal",color:"text-muted",className:R.location,children:K})]}),Q||1===W?(0,r.jsx)(c.zxk,{size:c.zxk.Sizes.SMALL,color:c.zxk.Colors.GREEN,onClick:()=>{if(Q)null!=l&&null!=l.getGuildId()&&((0,v.Cq)(l),(0,I.XU)(l.getGuildId(),l.id));else{if(null==d)return;(0,h.bO)({eventId:d.id})}},className:R.button,fullWidth:!0,children:X}):null]})}function k(e){let{user:t,guildId:n}=e,l=i.useRef(null);return(0,r.jsx)(P.Z,{targetElementRef:l,user:t,guildId:n,newAnalyticsLocations:[d.Z.AVATAR],clickTrap:!0,children:e=>{var i,a;return(0,r.jsx)(c.qEK,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),a=a={ref:l,src:t.getAvatarURL(n,24),"aria-label":t.username,size:c.EFr.SIZE_24,className:R.avatar},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))}),i))}})}},8521:function(e,t,n){n.d(t,{Z:()=>d});var r=n(255367),i=n(73800),l=n(949389),a=n(63063),o=n(324262),s=n(981631),c=n(388032),u=n(511189);let d=e=>{let{guild:t}=e,n=i.useCallback(()=>{(0,l.xm)(t.id)},[t.id]);return(0,r.jsx)(o.Z,{guild:t,onDismissed:n,message:c.intl.format(c.t["+QqO3d"],{maxMemberCount:t.maxMembers,maxMembersUrl:a.Z.getArticleURL(s.BhN.MAX_MEMBERS)}),type:s.vID.MAX_MEMBER_COUNT,image:u,imageMarginX:61})}},324262:function(e,t,n){n.d(t,{Z:()=>_});var r=n(255367),i=n(73800),l=n(392711),a=n.n(l),o=n(481060),s=n(367907),c=n(626135),u=n(986332),d=n(428695),p=n(981631),h=n(388032),f=n(431884);function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let m=a().debounce(s.ZP.trackWithMetadata,500),b=e=>{let{guild:t,title:n,message:l,image:a,type:u,imageMarginX:d,imageMarginTop:g,trackingSource:b,undismissable:_,onDismissed:E,onClick:O,cta:y,ctaColor:I}=e;i.useEffect(()=>{m(p.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:u,guild_id:t.id})},[t.id,u]);let v=null;"function"==typeof y?v=y():null!=y&&(v=(0,r.jsx)(o.zxk,{className:f.btn,size:o.zxk.Sizes.SMALL,onClick:()=>{null!=u&&c.default.track(p.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:b,guild_id:t.id,notice_type:u}),null==O||O()},fullWidth:!0,color:I,children:y}));let C=null!=d?"".concat(d,"px"):"16px";return(0,r.jsxs)("div",{className:f.channelNotice,children:[!0===_?null:(0,r.jsx)(o.P3F,{onClick:()=>{s.ZP.trackWithMetadata(p.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:u}),null==E||E()},className:f.close,"aria-label":h.intl.string(h.t.WAI6xs),children:(0,r.jsx)(o.Dio,{size:"md",color:"currentColor",className:f.closeIcon})}),(0,r.jsx)("div",{className:f.imageContainer,style:{marginTop:"".concat(g,"px"),marginLeft:C,marginRight:C},children:(0,r.jsx)("img",{className:f.image,src:a,alt:""})}),(0,r.jsxs)("div",{className:f.message,children:[null!=n?(0,r.jsx)(o.X6q,{variant:"heading-md/semibold",className:f.title,children:n}):null,(0,r.jsx)(o.Text,{variant:"text-sm/normal",children:l}),v]})]})},_=function(e){let{showRedesignedChannelNotice:t}=(0,u.o)(!0);return t?(0,r.jsx)(d.Z,g({},e)):(0,r.jsx)(b,g({},e))}},760326:function(e,t,n){n.d(t,{Z:()=>p}),n(35282);var r=n(255367);n(73800);var i=n(481060),l=n(561716),a=n(51596),o=n(324262),s=n(981631),c=n(921944),u=n(388032),d=n(932478);let p=e=>{let t=l.$.binds["0"].split("+").map(e=>null!=i.cXz[e]?i.cXz[e]():e).join(" + ").toUpperCase();return(0,r.jsx)(o.Z,{guild:e.guild,onDismissed:()=>e.markAsDismissed(c.L.UNKNOWN),onClick:()=>(0,a.$Z)("CHANNEL_NOTICE"),message:u.intl.string(u.t.Qhk8cn),cta:t,trackingSource:s.PsQ.QUICK_SWITCHER_NOTICE,type:s.vID.QUICKSWITCHER,image:d,imageMarginX:50})}},785203:function(e,t,n){n.d(t,{R:()=>v,Z:()=>C});var r,i=n(73800),l=n(442837),a=n(179360),o=n(897285),s=n(300213),c=n(554747),u=n(499137),d=n(929507),p=n(50101),h=n(270144),f=n(400271),g=n(899667),m=n(496675),b=n(541566),_=n(192513),E=n(255791),O=n(70956),y=n(267642),I=n(981631),v=((r={})[r.ENABLE_PUBLIC_GUILD=0]="ENABLE_PUBLIC_GUILD",r[r.APPLIED_GUILD_BOOST_GRACE_PERIOD=1]="APPLIED_GUILD_BOOST_GRACE_PERIOD",r[r.MAX_MEMBER_COUNT=2]="MAX_MEMBER_COUNT",r[r.GUILD_LIVE_CHANNEL=3]="GUILD_LIVE_CHANNEL",r[r.GUILD_MFA_WARNING=4]="GUILD_MFA_WARNING",r[r.COMMANDS_MIGRATION=5]="COMMANDS_MIGRATION",r[r.APPLICATION_SUBSCRIPTION_EXPIRATION=6]="APPLICATION_SUBSCRIPTION_EXPIRATION",r[r.HUB_STUDY_ROOM=7]="HUB_STUDY_ROOM",r[r.CLAN_UPSELL=8]="CLAN_UPSELL",r);function C(e){var t;let n=null!=(t=null==e?void 0:e.id)?t:I.lds,{lastFetchedAt:r}=(0,l.cj)([g.Z],()=>({appliedGuildBoosts:g.Z.getAppliedGuildBoostsForGuild(n),lastFetchedAt:g.Z.getLastFetchedAtForGuild(n)})),{lastDismissedGracePeriod:v,isGracePeriodVisible:C}=(0,l.cj)([b.Z],()=>({lastDismissedGracePeriod:b.Z.getLastDismissedGracePeriodForGuild(n),isGracePeriodVisible:b.Z.isVisible(n)})),S=(0,p.Ek)(n,"GuildBoostingNoticeStore"),N=(0,l.e7)([f.Z],()=>f.Z.isVisible(e)),T=(0,l.e7)([E.Z],()=>E.Z.isVisible(e)),P=(0,l.e7)([m.Z],()=>m.Z.can(I.Plq.ADMINISTRATOR,e)),j=null!=v&&Date.now()-v<=I.Dge,A=(0,y.Jh)(n)!==I.Eu4.NONE,Z=!(null!=r&&Date.now()-r<=432e5)&&!j&&P&&A,x=(0,s.m)(n),L=(0,l.e7)([_.Z],()=>_.Z.isVisible(e)),w=d.Z.useShouldShowChannelNotice(n),R=(0,h.h6)(e),{enableStudyGroup:D}=(0,u.s)(e),k=R.length>0,M=D&&!(null==e?void 0:e.hasFeature(I.oNc.HUB)),U=(0,c.Vm)(n);if(i.useEffect(()=>{o.Z.getGuildEventsForCurrentUser(n)},[n]),i.useEffect(()=>{let e=-1;return Z&&(e=window.setTimeout(()=>{null!=n&&(0,a.C0)(n)},30*Math.random()*O.Z.Millis.SECOND)),()=>{window.clearTimeout(e)}},[n,Z]),N)return 0;if(C&&!S)return 1;if(T)return 2;if(x||null!=U)return 3;if(L)return 4;else if(w)return 5;else if(k)return 6;else if(M)return 7;return null}},491575:function(e,t,n){n.d(t,{Z:()=>I});var r=n(255367),i=n(73800),l=n(512722),a=n.n(l),o=n(481060),s=n(176299),c=n(512847),u=n(612226),d=n(714338),p=n(607070),h=n(317858),f=n(635395),g=n(5560),m=n(451478),b=n(585483),_=n(145604),E=n(718813),O=n(981631),y=n(273034);let I=i.memo(function(){let e=i.useRef(null),t=i.useCallback(t=>{let{duration:n,intensity:r}=t;if(p.Z.useReducedMotion||!m.Z.isFocused())return;let{current:i}=e;a()(null!=i,"Shakeable is shaken when not mounted"),i.shake(n,r)},[]);return i.useEffect(()=>(d.Z.setLayout(u.ZP),d.Z.enable(),()=>d.Z.disable()),[]),i.useEffect(()=>(b.S.subscribe(O.CkL.SHAKE_APP,t),()=>{b.S.unsubscribe(O.CkL.SHAKE_APP,t)}),[t]),(0,h.Z)(),(0,r.jsxs)(o.F0h,{ref:e,className:y.app,children:[(0,r.jsx)(E.Z,{className:y.layers,children:(0,r.jsx)(s.Z,{})}),(0,r.jsx)(f.Z,{}),(0,r.jsx)(c.Z,{}),(0,r.jsx)(_.Z,{}),(0,r.jsx)(g.Z,{}),(0,r.jsx)(o.c43,{})]})})},145604:function(e,t,n){n.d(t,{Z:()=>J}),n(583741),n(997841),n(388685);var r=n(255367),i=n(73800),l=n(442837),a=n(224706),o=n(615287),s=n(593472),c=n(603113),u=n(367907),d=n(731429),p=n(188471),h=n(176881),f=n(318885),g=n(358221),m=n(710845),b=n(581567),_=n(594190),E=n(38618),O=n(501640),y=n(924301),I=n(734307),v=n(355298),C=n(454991),S=n(32300),N=n(371651),T=n(829907),P=n(427679),j=n(695346),A=n(592125),Z=n(77498),x=n(271383),L=n(430824),w=n(131951),R=n(375954),D=n(19780),k=n(944486),M=n(914010),U=n(885110),G=n(9156),V=n(594174),B=n(774343),H=n(974042),F=n(237997),z=n(626135),W=n(630388),Y=n(823379),K=n(981631);function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){q(e,t,n[t])})}return e}class X extends i.PureComponent{componentDidMount(){let{selectedChannelId:e,connected:t,isNSFWChannel:n,isTextInVoice:r}=this.props;t&&null!=e&&((0,u.yw)(K.rMx.CHANNEL_OPENED,Q({},(0,u.$H)(e))),(0,p.a)(K.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:e}),r&&(0,u.yw)(K.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:n}))}componentDidUpdate(e){var t,n,r,i,l,c;let{voiceChannelId:E,voiceChannelGuildId:O,voiceChannelType:v,voiceChannelBitrate:x,videoEnabled:w,isScreenSharing:k,runningGame:V,runningGamePid:B,selectedChannelId:H,selectedGuildId:q,connected:X,homeLink:J,friendsTabSection:$,isNSFWChannel:ee,isMemberPending:et,hasPreviewEnabled:en,postableChannelCount:er,isTextInVoice:ei,numMessageRequests:el}=this.props;if(e.voiceChannelId!==E&&null!=e.voiceChannelId){let t=_.ZP.getCurrentGameForAnalytics(),n=null!=t?t.name:"",r=P.Z.getStageInstanceByChannel(e.voiceChannelId),i=y.ZP.getActiveEventByChannel(e.voiceChannelId);z.default.track(K.rMx.LEAVE_VOICE_CHANNEL,Q({channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:D.Z.getRTCConnectionId(),game_name:n,duration:D.Z.getDuration(),game_platform:this.props.gamePlatform,game_id:this.props.gameId,media_session_id:D.Z.getMediaSessionId(),stage_instance_id:null==r?void 0:r.id,guild_scheduled_event_id:null==i?void 0:i.id},(0,u.kO)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),D.Z.getVoiceStateStats(),g.Z.getSelectedParticipantStats(e.voiceChannelId)))}if(e.voiceChannelId!==E&&null!=E){let e=_.ZP.getCurrentGameForAnalytics(),t=null!=e?e.name:"",n=P.Z.getStageInstanceByChannel(E),r=y.ZP.getActiveEventByChannel(E);(0,u.yw)(K.rMx.CHANNEL_OPENED,Q({},(0,u.$H)(E))),(0,p.a)(K.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:E});let i=null,l=F.default.getFocusedPID();null!=l&&N.default.getOverlayMethod(l)!==o.gl.Disabled&&(F.default.isInstanceLocked()?i=K.ADE.OVERLAY_LOCKED_ACTIVATED:F.default.isInstanceLocked()||(i=F.default.isPinned(K.Odu.TEXT)?K.ADE.OVERLAY_UNLOCKED_PINNED:K.ADE.OVERLAY_UNLOCKED)),z.default.track(K.rMx.JOIN_VOICE_CHANNEL,Q({location:i,channel_id:E,channel_type:v,channel_bitrate:x,guild_id:O,game_name:t,game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==n?void 0:n.id,guild_scheduled_event_id:null==r?void 0:r.id},(0,u.oG)(O,E),(0,u.kO)(O,E,w)))}if(e.runningGame!==V&&null!=V&&!V.isLauncher){let e=Z.Z.getGameByName(V.name),n=_.ZP.getOverrideForGame(V),r=L.Z.getGuildIds(),i=j.SE.getSetting(),l=r.filter(e=>!i.includes(e)).slice(0,200),c=null;c=null!=n?"custom_override":null!=e?"verified_game":"launcher";let u=(0,_.b6)(V),d=null!=(t=N.default.getOverlayMethod(V.pid))?t:u.overlayMethod;if(setTimeout(async()=>{var t;let n=await (0,T.hj)(V.pid),{gameName:r,gameId:i,exe:a,distributor:p}=(0,b.G8)(V),h=(0,S.NW)("ChatAutoAnalytics",!1),f=u.enabledLegacy||h&&u.enabledOOP,g=C.v.legacyEnabled||h&&C.v.oopEnabled,m=u.source;z.default.track(K.rMx.LAUNCH_GAME,{game:r,game_id:i,verified:null!=e&&(0,b.vp)(a,null==e?void 0:e.executables),elevated:V.elevated,is_launcher:null!=(t=null==V?void 0:V.isLauncher)&&t,game_platform:K.M7m.DESKTOP,detection_method:c,distributor:p,is_overlay_enabled:g,is_overlay_game_enabled:f,is_overlay_game_source:m,fullscreen_type:null!=n?s.Jx[n]:s.Jx.UNKNOWN.toString(),overlay_method:o.gl[d],activity_status_enabled:j.G6.getSetting(),activity_status_shared_guilds:l,current_user_status:U.Z.getStatus(),game_detection_enabled:(0,_.ik)(V),executable_path:a,voice_channel_id:E,voice_channel_type:v,voice_channel_bitrate:x,voice_channel_guild_id:O,distributor_game_id:V.sku,hidden_by_distributor:V.hidden}),null!=a&&_.ZP.addExecutableTrackedByAnalytics(a)},1e4),null!=V.name&&null!=B&&Z.Z.shouldReport(V.name)){let e=V.name;a.Z.identifyGame(B,e).then(e=>a.Z.reportUnverifiedGame(e)).catch(e=>new m.Z("AutoAnalytics").error("Cannot identify game",e))}}if((e.videoEnabled!==w||e.isScreenSharing!==k)&&null!=E){let e="none",t=[k?"screen":null,w?"camera":null].filter(Y.lm),n=null;k?(e="screen",n=(0,f.t)()):w&&(e="camera"),z.default.track(K.rMx.VIDEO_INPUT_TOGGLED,Q({video_input_type:e,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:t,preview_enabled:j.qF.getSetting()},n,this.getGameMetadata(),(0,u.AB)(E)))}if(X&&null!=q&&(q!==e.selectedGuildId||!e.connected||et&&!e.isMemberPending)){let e=(l=Q({},et?{is_pending:et,preview_enabled:en}:{}),c=c={postable_channels:er,premium_progress_bar_enabled:null!=(r=null==(n=L.Z.getGuild(M.Z.getGuildId()))?void 0:n.premiumProgressBarEnabled)&&r,viewing_all_channels:!G.ZP.isOptInEnabled(q),num_recent_channels:I.Z.recentsChannelCount(q)},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(c)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(c,e))}),l);(0,u.yw)(K.rMx.GUILD_VIEWED,e),(0,p.a)(K.rMx.GUILD_VIEWED_CLICKSTREAM,{guildId:q})}else X&&null==q&&J===K.Z5c.FRIENDS&&(!e.connected||$!==e.friendsTabSection||J!==e.homeLink)?(0,h.Z)({tab_opened:$}):!X||null!=q||J!==K.Z5c.MESSAGE_REQUESTS||e.connected&&J===e.homeLink||this.isMessageRequestsInitialized||(this.isMessageRequestsInitialized=!0,z.default.track(K.rMx.MESSAGE_REQUESTS_INITIALIZED,{num_message_requests:el}));if(X&&null!=H&&(!e.connected||H!==e.selectedChannelId||q!==e.selectedGuildId)){let t=e.selectedChannelId,n=A.Z.getChannel(t),r=L.Z.getGuild(null==n?void 0:n.getGuildId());if(null!=t&&null!=n&&null!=r&&r.publicUpdatesChannelId===t){let e=R.Z.getMessages(t),l=e.toArray().reverse().find(e=>{var t;return(0,W.yE)(e.flags,K.iLy.IS_CROSSPOST)&&(null==(t=e.messageReference)?void 0:t.guild_id)==="667560445975986187"});z.default.track(K.rMx.ACK_COMMUNITY_MESSAGES,Q({last_message_id:null==l?void 0:l.id,last_message_reference_message_id:null==l||null==(i=l.messageReference)?void 0:i.message_id,messages_loaded:e.hasFetched},(0,u.v_)(n),(0,u.hH)(r.id)))}let l=(0,d.K)(A.Z.getChannel(H),!0);(0,u.yw)(K.rMx.CHANNEL_OPENED,Q({},l,(0,u.$H)(H))),(0,p.a)(K.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:H}),ei&&(0,u.yw)(K.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:ee})}}getGameMetadata(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}}render(){return null}constructor(...e){super(...e),q(this,"isMessageRequestsInitialized",!1)}}function J(){let[e,t]=(0,l.Wu)([k.Z],()=>[k.Z.getVoiceChannelId(),k.Z.getChannelId()],[]),n=(0,l.e7)([A.Z],()=>A.Z.getChannel(t),[t]),i=(0,l.e7)([g.Z],()=>(null==n?void 0:n.id)!=null&&g.Z.getChatOpen(n.id),[n]),a=null==n?void 0:n.nsfw,o=(0,l.e7)([A.Z],()=>A.Z.getChannel(e),[e]),s=(0,l.e7)([M.Z],()=>M.Z.getGuildId(),[]),u=(0,l.e7)([L.Z],()=>L.Z.getGuild(s),[s]),d=(0,l.e7)([V.default],()=>V.default.getCurrentUser(),[]),p=(0,l.e7)([x.ZP],()=>{var e,t;return null!=d&&null!=s&&null!=(t=null==(e=x.ZP.getMember(s,d.id))?void 0:e.isPending)&&t},[d,s]),h=(0,l.e7)([H.ZP],()=>H.ZP.getState().section,[]),f=(0,l.e7)([B.Z],()=>B.Z.getHomeLink(),[]),m=(0,l.e7)([E.Z],()=>E.Z.isConnected(),[]),[b,y]=(0,l.Wu)([w.Z],()=>[w.Z.isVideoEnabled(),w.Z.isScreenSharing()],[]),I=(0,l.e7)([U.Z],()=>U.Z.getPrimaryActivity(),[]),C=(0,l.e7)([_.ZP],()=>_.ZP.getCurrentGameForAnalytics(),[]),S=(0,O.Z)(s),N=(0,l.e7)([v.Z],()=>v.Z.getMessageRequestsCount(),[]),T={selectedChannelId:t,isNSFWChannel:a,selectedGuildId:s,friendsTabSection:h,homeLink:f,connected:m,videoEnabled:b,isScreenSharing:y,voiceChannelId:null==o?void 0:o.id,voiceChannelGuildId:null==o?void 0:o.getGuildId(),voiceChannelType:null==o?void 0:o.type,voiceChannelBitrate:null==o?void 0:o.bitrate,runningGame:C,runningGamePid:null!=C?C.pid:null,gamePlatform:(0,c.Z)(I),gameName:null!=I?I.name:null,gameId:null!=I?I.application_id:null,gameExeName:null!=C?C.exeName:null,hasPreviewEnabled:null==u?void 0:u.features.has(K.oNc.PREVIEW_ENABLED),isMemberPending:p,postableChannelCount:S,isTextInVoice:i,numMessageRequests:N};return(0,r.jsx)(X,Q({},T))}},718813:function(e,t,n){n.d(t,{Z:()=>M}),n(539854);var r,i=n(255367),l=n(73800),a=n(120356),o=n.n(a),s=n(748780),c=n(442837),u=n(215569),d=n(481060),p=n(37234),h=n(134616),f=n(714338),g=n(663993),m=n(84615),b=n(210887),_=n(526665),E=n(819640),O=n(585483),y=n(981631),I=n(400709);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let N=(0,g.Un)({createPromise:()=>n.e("69470").then(n.bind(n,989804)),webpackId:989804,name:"UserSettings"}),T=(0,g.Un)({createPromise:()=>n.e("36878").then(n.bind(n,604960)),webpackId:604960,name:"UserSettingsV2"}),P=(0,g.Un)({createPromise:()=>Promise.all([n.e("7654"),n.e("49286"),n.e("86915")]).then(n.bind(n,869779)),webpackId:869779,name:"ChannelSettings"}),j=(0,g.Un)({createPromise:()=>Promise.all([n.e("9037"),n.e("45620")]).then(n.bind(n,838819)),webpackId:838819,name:"CollectiblesShop"}),A=(0,g.Un)({createPromise:()=>Promise.all([n.e("7654"),n.e("44156"),n.e("55616"),n.e("49286"),n.e("6850"),n.e("58227"),n.e("32652"),n.e("54408"),n.e("20087"),n.e("92754"),n.e("95140")]).then(n.bind(n,994763)),webpackId:994763,name:"GuildSettings"}),Z={[y.S9g.USER_SETTINGS]:()=>(0,_.yP)("Layers")?(0,i.jsx)(T,{}):(0,i.jsx)(N,{}),[y.S9g.CHANNEL_SETTINGS]:()=>(0,i.jsx)(P,{}),[y.S9g.GUILD_SETTINGS]:()=>(0,i.jsx)(A,{}),[y.S9g.COLLECTIBLES_SHOP]:()=>(0,i.jsx)(j,{})},x="SHOWN",L="HIDDEN",w={friction:10,tension:100};function R(){return l.useEffect(()=>(f.Z.enable(),f.Z.enableTemp(h.u),()=>f.Z.disableTemp()),[]),null}class D extends(r=l.PureComponent){static getDerivedStateFromProps(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null}componentDidUpdate(e){let{mode:t}=this.props,{mode:n}=e;if(t!==n){if(t===x&&n===L)return this.animateIn();if(t===L&&n===x)return this.animateUnder()}}componentWillEnter(e){let{opacity:t,scale:n}=this.state;n.setValue(1.1),t.setValue(0),e(),this.setState({animating:!0},()=>this.animateIn())}componentWillLeave(e){this.setState({animating:!0},()=>this.animateOut(e))}animateIn(e){c.ZP.Emitter.pause(500);let{opacity:t,scale:n}=this.state;s.Z.parallel([s.Z.spring(t,C({toValue:1},w)),s.Z.spring(n,C({toValue:1},w))]).start(()=>this.animateComplete(e))}animateOut(e){c.ZP.Emitter.pause(500);let{opacity:t,scale:n}=this.state;O.S.dispatch(y.CkL.LAYER_POP_START),s.Z.parallel([s.Z.spring(t,C({toValue:0},w)),s.Z.spring(n,C({toValue:1.1},w))]).start(()=>{e(),O.S.dispatch(y.CkL.LAYER_POP_COMPLETE)})}animateUnder(){c.ZP.Emitter.pause(500);let{opacity:e,scale:t}=this.state;s.Z.parallel([s.Z.spring(e,C({toValue:0},w)),s.Z.spring(t,C({toValue:.93},w))]).start(()=>this.animateComplete())}animateComplete(e){this.setState({animating:!1},e)}render(){let{animating:e}=this.state,t=this.props,{mode:n,children:r,baseLayer:l}=t,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["mode","children","baseLayer"]),c=e||n===L?this.getAnimatedStyle():null,u=(0,i.jsx)(s.Z.div,S(C({ref:e=>this.containerRef.current=null!=e?e.componentRef:void 0,"aria-hidden":n===L,className:o()(I.layer,{[I.baseLayer]:l,[I.animating]:e,"stop-animations":n===L}),style:c},a),{children:r}));return l?u:(0,i.jsx)(d.EqS,{containerRef:this.containerRef,children:u})}getAnimatedStyle(){let{opacity:e,scale:t}=this.state,{reducedMotion:n}=this.context;return{opacity:e,transform:n.enabled?void 0:[{scale:t},{translateZ:0}]}}constructor(e){super(e),v(this,"containerRef",l.createRef());let t=1,n=1;e.mode===L&&(t=.93,n=0),this.state={animating:!1,scale:new s.Z.Value(t),opacity:new s.Z.Value(n),mode:e.mode}}}v(D,"defaultProps",{baseLayer:!1}),v(D,"contextType",d.Sfi);class k extends l.PureComponent{componentDidMount(){O.S.subscribe(y.CkL.LAYER_POP_ESCAPE_KEY,p.xf)}componentWillUnmount(){O.S.unsubscribe(y.CkL.LAYER_POP_ESCAPE_KEY,p.xf)}renderLayers(){let{children:e,layers:t,hasFullScreenLayer:n}=this.props,{length:r}=t,l=[];return l.push((0,i.jsx)(D,{mode:0!==r||n?L:x,baseLayer:!0,children:e},"layer-base")),t.forEach((e,t)=>l.push(this.renderComponent(e,t,r))),l}renderComponent(e,t,n){let r;return r="string"==typeof e?Z[e]():(0,i.jsx)(e,{}),(0,i.jsxs)(D,{mode:t===n-1?x:L,children:[(0,i.jsx)(R,{}),r]},"layer-".concat(t))}renderArtisanalHack(){return(0,i.jsx)(d.f6W,{theme:this.props.sidebarTheme,children:e=>(0,i.jsx)("div",{className:o()(I.bg,e)})})}render(){return(0,i.jsxs)(i.Fragment,{children:[this.renderArtisanalHack(),(0,i.jsx)(u.W,{component:"div",className:o()(I.layers,this.props.className),children:this.renderLayers()})]})}}function M(e){let t=(0,c.e7)([b.Z],()=>b.Z.darkSidebar)?y.BRd.DARK:void 0,n=(0,c.e7)([E.Z],()=>E.Z.getLayers()),r=(0,m.QP)(e=>e.fullScreenLayers.length>0);return(0,i.jsx)(k,S(C({},e),{sidebarTheme:t,layers:n,hasFullScreenLayer:r}))}},745837:function(e,t,n){n.d(t,{Z:()=>I});var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(442837),o=n(481060),s=n(547972),c=n(556296),u=n(63063),d=n(13140),p=n(435064),h=n(39604),f=n(356659),g=n(981631),m=n(332325),b=n(388032),_=n(318098);function E(e){(0,s.Z)(m.Z.CLIPS),(0,h.UW)(e)}function O(){let e=(0,a.e7)([c.ZP],()=>c.ZP.getKeybindForAction(g.kg4.SAVE_CLIP));if(null==e)return(0,r.jsx)(r.Fragment,{children:b.intl.string(b.t.miecxM)});let t=d.BB(e.shortcut,!0);return(0,r.jsx)(r.Fragment,{children:b.intl.format(b.t.a3HdiI,{keybind:t,keybindHook:()=>(0,r.jsx)("span",{className:_.keyCombo,children:(0,r.jsx)(o.M2$,{shortcut:t})})})})}let y={[f.D5.Error]:{textColor:"text-primary",buttonLook:o.zxk.Looks.FILLED,buttonColor:o.zxk.Colors.PRIMARY,bodyCopy:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.aNP,{size:"xs",color:"currentColor",className:_.errorWarningIcon}),b.intl.string(b.t.Sr64AA)]}),buttonCopy:()=>b.intl.string(b.t.vDGv9f),ctaOnClick:()=>{window.open(u.Z.getArticleURL(g.BhN.CLIPS),"_blank")},containerClass:_.container},[f.D5.Disabled]:{textColor:"text-primary",buttonLook:o.zxk.Looks.FILLED,buttonColor:o.zxk.Colors.BRAND,bodyCopy:()=>b.intl.string(b.t.MhrVg4),buttonCopy:()=>b.intl.string(b.t.GMLBKS),ctaOnClick:()=>E(f.D5.Disabled),containerClass:_.container},[f.D5.Enabled]:{textColor:"always-white",buttonLook:o.zxk.Looks.FILLED,buttonColor:o.zxk.Colors.BRAND_INVERTED,bodyCopy:()=>(0,r.jsx)(O,{}),buttonCopy:()=>b.intl.string(b.t.GMLBKS),ctaOnClick:()=>E(f.D5.Enabled),containerClass:l()(_.container,_.containerEnabled)}};function I(){let{decoupledClipsEnabled:e,clipsError:t}=(0,a.cj)([p.Z],()=>({decoupledClipsEnabled:p.Z.getSettings().decoupledClipsEnabled,clipsError:p.Z.getLastClipsError()})),n=null!=t?f.D5.Error:e?f.D5.Enabled:f.D5.Disabled,{bodyCopy:i,buttonCopy:l,ctaOnClick:s,textColor:c,buttonColor:u,buttonLook:d,containerClass:g}=y[n];return(0,r.jsxs)("div",{className:g,children:[(0,r.jsx)(o.Text,{color:c,variant:"text-sm/medium",children:i()}),(0,r.jsx)(o.zxk,{onClick:()=>(0,h.UW)(n),size:o.zxk.Sizes.NONE,look:o.zxk.Looks.BLANK,className:_.buttonClose,children:(0,r.jsx)(o.Dio,{size:"xs",color:"currentColor",className:_.dismissIcon})}),(0,r.jsx)(o.zxk,{onClick:s,className:_.buttonCTA,color:u,look:d,fullWidth:!0,size:o.zxk.Sizes.SMALL,children:l()})]})}},13228:function(e,t,n){n.d(t,{Z:()=>p});var r=n(442837),i=n(594190),l=n(480294),a=n(131951),o=n(924557),s=n(435064),c=n(779618),u=n(356659),d=n(981631);function p(e){let t=(0,o.nM)({autoTrackExposure:!0}),n=s.Z.isDecoupledGameClippingEnabled();return(0,r.e7)([s.Z,i.ZP,l.Z,a.Z],()=>{if(!(0,c.Z)(a.Z)||!t||!n)return!1;if(null!=s.Z.getLastClipsError())return!0;if(!l.Z.hasConsented(d.pjP.PERSONALIZATION)||null==i.ZP.getVisibleGame())return!1;let{clipsEducationState:{dismissedAt:r,numberOfGamesLaunchedSinceDismissal:p,numberOfTimesDismissed:h},hasTakenDecoupledClip:f,clipsSettings:{clipsEnabled:g}}=s.Z.getState();if(null===r)return!0;if(!(null!=e&&(0,o.xt)(e)))return!1;let m=Date.now()-r>u.xx,b=p>=u._U,_=g?u.xd:u.A5;return m&&b&&h<_&&!f})}},362762:function(e,t,n){n.d(t,{Z:()=>p});var r,i,l,a=n(442837),o=n(570140),s=n(981631);let c=null,u={};class d extends(l=a.ZP.Store){getState(e){return u[e]}getHighestState(){return c}}i="CodedLinkNativeAppStateStore",(r="displayName")in d?Object.defineProperty(d,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):d[r]=i;let p=new d(o.Z,{NATIVE_APP_MODAL_OPENING:function(e){let{code:t}=e;u[t]=s.kEZ.OPENING,null===c&&(c=s.kEZ.OPENING)},NATIVE_APP_MODAL_OPENED:function(e){let{code:t}=e;u[t]=s.kEZ.OPEN,c=s.kEZ.OPEN},NATIVE_APP_MODAL_OPEN_FAILED:function(e){let{code:t}=e;u[t]=s.kEZ.OPEN_FAIL,(null===c||c===s.kEZ.OPENING)&&(c=s.kEZ.OPEN_FAIL)}})},954709:function(e,t,n){n.d(t,{Z:()=>c});var r=n(664081),i=n(570140),l=n(317770),a=n(863750),o=n(335131);class s extends l.Z{_initialize(){i.Z.subscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}_terminate(){i.Z.unsubscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}handlePostConnectionOpen(){let e=a.Z.get("shop_include_unpublished");(0,o.R2)({release:e?r.P.BETA:r.P.PROD})}}let c=new s},699910:function(e,t,n){n.d(t,{v:()=>i});let r=(0,n(818083).B)({kind:"user",id:"2024-08_collectibles_expiry_modal",label:"Collectibles Expiry Experiment",defaultConfig:{expiryModalEnabled:!1},treatments:[{id:1,label:"Enable collectibles expiry modal",config:{expiryModalEnabled:!0}}]}),i=e=>r.getCurrentConfig({location:e}).expiryModalEnabled},744112:function(e,t,n){n.d(t,{b:()=>i});let r=(0,n(818083).B)({kind:"user",id:"2024-09_collectibles_shop_preload",label:"Collectibles Shop Preload",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Preloads collectible shop payload",config:{enabled:!0}}]}),i=e=>r.useExperiment({location:e}).enabled},364111:function(e,t,n){n.d(t,{E:()=>d}),n(388685);var r=n(73800),i=n(442837),l=n(353926),a=n(358085),o=n(335131),s=n(597688),c=n(52030),u=n(228624);function d(e,t,n){let d=(0,i.e7)([l.Z],()=>l.Z.hasLoadedExperiments),p=(0,i.e7)([s.Z],()=>s.Z.skipNumCategories),h=(0,u.hv)("useMaybeFetchCollectiblesShopHome"),f=(0,a.isDesktop)()||(0,a.isWeb)(),[g,m,b,_,E,O,y]=(0,i.Wu)([c.Z],()=>{var t,n;return[c.Z.getShopBlocks(e),null!=(t=c.Z.getLastSuccessfulFetch(e))?t:0,null!=(n=c.Z.getLastErrorTimestamp(e))?n:0,c.Z.getLastFetchOptions(e),c.Z.getFetchShopHomeError(e),c.Z.getIsFetchingShopHome(e),c.Z.getShopHomeConfigOverride()]}),I=(0,r.useMemo)(()=>{var e,n;return e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),n=n={variantsReturnStyle:h,includeBundles:f,includePopularPicks:!0,includeDynamicBlocks:!0,shopHomeConfig:y,skipNumCategories:p},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e},[t,h,f,y,p]),v=(0,r.useMemo)(()=>!(0,o.oc)(_,I),[_,I]),C=(0,r.useMemo)(()=>Date.now()-m<6e5,[m]);return(0,r.useEffect)(()=>{if(!d||O)return;let t=Date.now()-b<6e5;null!=E&&t||(v||!C)&&(0,o.Ov)(e,I,n)},[d,O,E,b,C,v,I,e,n]),{isFetchingShopHome:O,fetchShopHomeError:E,shopBlocks:g,refreshShopHome:(0,r.useCallback)(()=>{(0,o.Ov)(e,I,n)},[e,I,n])}}},644679:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(255367),i=n(481060),l=n(570140),a=n(317770),o=n(19780),s=n(594174),c=n(960048),u=n(699910),d=n(981631);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h="CollectiblesExpiryModal";class f extends a.Z{_initialize(){l.Z.subscribe("POST_CONNECTION_OPEN",this.handleMaybeOpenModal),l.Z.subscribe("CURRENT_USER_UPDATE",this.handleMaybeOpenModal)}_terminate(){l.Z.unsubscribe("POST_CONNECTION_OPEN",this.handleMaybeOpenModal),l.Z.unsubscribe("CURRENT_USER_UPDATE",this.handleMaybeOpenModal),null!=this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}constructor(...e){super(...e),p(this,"timeout",null),p(this,"handleMaybeOpenModal",()=>{var e;let t=s.default.getCurrentUser(),n=null==t||null==(e=t.avatarDecoration)?void 0:e.expiresAt;null!=n&&(0,u.v)("CollectiblesExpiryManager")&&(this.maybeOpenModal()||(null!=this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.maybeOpenModal,1e3*n-Date.now()+1e3)))}),p(this,"maybeOpenModal",()=>{var e,t;let l=s.default.getCurrentUser(),a=o.Z.getState(),u=null==l||null==(e=l.avatarDecoration)?void 0:e.skuId,f=null==l||null==(t=l.avatarDecoration)?void 0:t.expiresAt;return null!=l&&!!(null!=f&&1e3*f<Date.now())&&a!==d.hes.RTC_CONNECTED&&((0,i.Mr3)(h),(0,i.ZDy)(async()=>{let{default:e}=await n.e("77370").then(n.bind(n,83950));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}({},t),i=i={skuId:u},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}},{modalKey:h}),c.Z.captureMessage("Collectible expiry modal shown"),!0)})}}let g=new f},463119:function(e,t,n){n.d(t,{i:()=>W}),n(388685);var r=n(255367),i=n(73800),l=n(91192),a=n(442837),o=n(780384),s=n(481060),c=n(596454),u=n(515753),d=n(410030),p=n(607070),h=n(100527),f=n(906732),g=n(821982),m=n(377171),b=n(633302),_=n(856555),E=n(153066),O=n(335131),y=n(744112),I=n(267097),v=n(364111),C=n(729700),S=n(681435),N=n(81136),T=n(302800),P=n(215023),j=n(981631),A=n(921944),Z=n(388032),x=n(208801);function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function R(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let D=e=>{let{color:t}=e;return(0,r.jsx)(s.IGR,{className:x.newBadge,color:null!=t?t:m.Z.STATUS_DANGER_BACKGROUND,text:Z.intl.string(Z.t.y2b7CA)})},k=()=>{let{noCache:e,includeUnpublished:t}=(0,N.Z)();return(0,v.E)(P.AW.HOME,{noCache:e,includeUnpublished:t,includeBundles:!0}),null},M=e=>{var{selected:t,locationState:n,icon:a,onClick:o,collectibleShopTab:c,onMouseEnter:d,onMouseLeave:p,children:g}=e,m=R(e,["selected","locationState","icon","onClick","collectibleShopTab","onMouseEnter","onMouseLeave","children"]);let b=(0,l.JA)("shop"),_=h.Z.HOME_PAGE_SHOP_TAB,{analyticsLocations:E}=(0,f.ZP)(_),[y,I]=i.useState(!1),v=i.useCallback(()=>{void 0!==o&&o(),void 0!==c&&(0,O.mK)({openInLayer:!1,tab:c,analyticsLocations:E,analyticsSource:_}),I(!0),(0,O.Sm)({analyticsSource:_,analyticsLocations:E})},[_,E,o,I,c]),C=j.Z5c.COLLECTIBLES_SHOP;return(0,r.jsxs)(r.Fragment,{children:[y&&(0,r.jsx)(k,{}),(0,r.jsx)(u.Qj,w(L({selected:t,route:C,icon:null!=a?a:s.EOn,text:Z.intl.string(Z.t.pWG4zc),locationState:n},b,m),{onMouseEnter:d,onMouseLeave:p,onClick:v,children:g}))]})},U=e=>(0,r.jsx)(M,w(L({},e),{children:(0,r.jsx)(D,{})})),G=i.memo(function(e){var t;let{displayOptions:n,assetId:i,reducedMotion:l=!1}=e,a=null!=i?(0,g.Z)(i,s.EFr.SIZE_80,!l):void 0,o=n.title(),c=null==(t=n.body)?void 0:t.call(n),u=null==c||""===c;return(0,r.jsxs)("div",{className:x.shopMarketingTooltipContent,children:[(0,r.jsx)("div",{className:x.avatarContainer,children:(0,r.jsx)(s.qEK,{className:x.avatar,src:n.imageSrc,avatarDecoration:a,size:s.EFr.SIZE_80,"aria-hidden":!0})}),(0,r.jsxs)("div",{className:x.shopMarketingTooltipText,children:[(0,r.jsx)(s.X6q,{variant:u?"heading-sm/medium":"heading-sm/bold",children:o}),!u&&(0,r.jsx)(s.Text,{variant:"text-xs/normal",className:x.marketingBadgeTooltipContent,children:c})]})]})}),V=e=>{let t,n;var l,c,u,h,f,g,m,b,_,O,y,I,{displayOptions:v}=e,C=R(e,["displayOptions"]);let S=(0,a.e7)([p.Z],()=>p.Z.useReducedMotion),[N,T]=i.useState(0),[P,j]=i.useState(!1),A=(0,d.ZP)(),k=(0,o.wj)(A);P?k?(t=null==(l=v.entryPointBackgroundAssets)?void 0:l.srcDarkHovered,n=null==(u=v.entrypointBackgroundStyle)||null==(c=u.hovered)?void 0:c.dark):(t=null==(h=v.entryPointBackgroundAssets)?void 0:h.srcLightHovered,n=null==(g=v.entrypointBackgroundStyle)||null==(f=g.hovered)?void 0:f.light):k?(t=null==(m=v.entryPointBackgroundAssets)?void 0:m.srcDark,n=null==(_=v.entrypointBackgroundStyle)||null==(b=_.resting)?void 0:b.dark):(t=null==(O=v.entryPointBackgroundAssets)?void 0:O.srcLight,n=null==(I=v.entrypointBackgroundStyle)||null==(y=I.resting)?void 0:y.light);let U=i.useCallback(e=>{T(e=>(e+1)%v.assetIds.length),j(!0),null==e||e()},[v.assetIds.length]),V=i.useCallback(e=>{j(!1),null==e||e()},[]),B=v.title();return(0,r.jsx)(s.ua7,{text:(0,r.jsx)(G,{displayOptions:v,assetId:v.assetIds[N],reducedMotion:S}),tooltipClassName:x.marketingBadgeTooltip,position:"right",delay:100,allowOverflow:!0,hideOnClick:!1,"aria-label":"string"==typeof B?B:Z.intl.string(Z.t.rSXaxc),children:e=>(0,r.jsxs)(M,w(L(w(L({className:null!=v.entryPointClassName?(0,E.l)(x,v.entryPointClassName):void 0},C),{icon:v.entryPointIcon}),e),{onMouseEnter:()=>U(e.onMouseEnter),onMouseLeave:()=>V(e.onMouseLeave),children:[(0,r.jsx)("div",{className:x.marketingButtonBackground,style:{background:n},children:null!=t&&(0,r.jsx)("img",{src:t,className:x.marketingButtonBackgroundImage,alt:"","aria-hidden":!0})}),(0,r.jsx)(D,{color:v.badgeColor})]}))})},B=e=>{var{displayOptions:t}=e,n=R(e,["displayOptions"]);let l=i.useMemo(()=>{var e;let n=null!=t.emojiName?null==(e=b.ZP.getByName(t.emojiName))?void 0:e.surrogates:null;return(0,r.jsxs)(s.Text,{variant:"text-sm/medium",className:x.marketingBadgeTooltipContent,children:[null!=n&&(0,r.jsx)(c.Z,{emojiName:n}),t.title()]})},[t]);return(0,r.jsx)(s.ua7,{text:l,tooltipClassName:x.marketingBadgeTooltip,position:"right",delay:100,hideOnClick:!1,"aria-label":t.title(),children:e=>(0,r.jsx)(M,w(L({},n,e),{children:(0,r.jsx)(D,{color:t.badgeColor})}))})},H=e=>{var{listScrollerRef:t}=e,n=R(e,["listScrollerRef"]);let l=i.useRef(null),a=(0,_.EQ)({listScrollerRef:t}),{positionControlRef:o,onShopButtonClick:s}=a,c=R(a,["positionControlRef","onShopButtonClick"]);return(0,r.jsx)(_.Rg,w(L({targetElementRef:l,positionControlRef:o},c),{children:(0,r.jsx)(M,w(L({},n),{listItemRef:l,collectibleShopTab:P.AW.ORBS,onClick:s}))}))},F=e=>{var{displayOptions:t,dismissContent:n}=e,l=R(e,["displayOptions","dismissContent"]);let a=i.useRef(null),o=i.useRef(0);i.useLayoutEffect(()=>{o.current+=1},[]);let c=i.useCallback(()=>{n(A.L.TAKE_ACTION)},[n]);return(0,r.jsx)(s.yRy,{targetElementRef:a,renderPopout:()=>(0,r.jsx)(C.Z,{displayOptions:t}),position:"right",align:"top",shouldShow:!0,spacing:12,positionKey:String(o.current),animation:s.yRy.Animation.TRANSLATE,closeOnScroll:!0,onRequestClose:()=>n(A.L.USER_DISMISS),children:e=>(0,r.jsx)(M,w(L({},l),{onClick:c,listItemRef:a,children:(0,r.jsx)(D,{})}))})},z=()=>((0,I.Z)(),null),W=e=>{let{selected:t,onClick:n,locationState:i,listItemRef:l,listScrollerRef:a}=e,{shouldShow:o}=(0,_.EQ)({}),{shopButtonDisplayOptions:s,dismissShopButtonDC:c}=(0,S.Z)(),u=(0,y.b)("Collectibles Shop Button"),d={selected:t,locationState:i,onClick:()=>{o||c(),null==n||n()},listItemRef:l};if(o)return(0,r.jsx)(H,w(L({},d),{listScrollerRef:a}));if(null!=s)switch(s.type){case T.k2.TOOLTIP:return(0,r.jsx)(B,w(L({},d),{displayOptions:s}));case T.k2.COACHTIP:return(0,r.jsx)(V,w(L({},d),{displayOptions:s}));case T.k2.BADGE:return(0,r.jsx)(U,L({},d));case T.k2.COACHMARK:return(0,r.jsx)(F,w(L({dismissContent:c},d),{displayOptions:s}))}return(0,r.jsxs)(r.Fragment,{children:[u&&(0,r.jsx)(z,{}),(0,r.jsx)(M,L({},d))]})}},118379:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(663993).Un)({createPromise:()=>Promise.all([n.e("9037"),n.e("45620")]).then(n.bind(n,838819)),webpackId:838819})},729700:function(e,t,n){n.d(t,{Z:()=>m});var r=n(255367);n(73800);var i=n(704215),l=n(780384),a=n(481060),o=n(410030),s=n(100527),c=n(906732),u=n(765585),d=n(703656),p=n(335131),h=n(981631),f=n(388032),g=n(20080);let m=e=>{let{displayOptions:t}=e,{analyticsLocations:n}=(0,c.ZP)(s.Z.HOME_PAGE_SHOP_TAB),m=(0,o.ZP)(),b=(0,l.wj)(m)?t.assetDark:t.assetLight;return(0,r.jsx)(u.Z,{dismissibleContent:i.z.COLLECTIBLES_SHOP_ENTRY_MARKETING,inlineArt:!0,tryItText:(0,r.jsx)(a.Text,{variant:"text-sm/medium",color:"always-white",children:f.intl.string(f.t.fYfGgI)}),onTryFeature:()=>{(0,d.uL)(h.Z5c.COLLECTIBLES_SHOP),(0,p.mK)({openInLayer:!1,analyticsLocations:n,analyticsSource:s.Z.HOME_PAGE_SHOP_TAB})},header:(0,r.jsx)(a.X6q,{variant:"heading-md/extrabold",children:t.title()}),body:(0,r.jsx)(a.Text,{variant:"text-sm/medium",children:t.body()}),position:"right",align:"top",hideDismissButton:!0,contentClassName:g.contentOverlay,pointerClassName:g.pointerClassName,tryItButtonColor:a.zxk.Colors.BRAND,art:(0,r.jsx)("img",{className:g.art,src:b,alt:""})})}},681435:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r=n(73800),i=n(115434),l=n(264181),a=n(442837),o=n(704215),s=n(243778),c=n(874703),u=n(794324),d=n(302800),p=n(921944);let h=(e,t)=>{if((null==t?void 0:t.type)===l.Z.COACHTIP||e.hasPreviewAssets){var n,r,i,a;let l=null!=t?{title:()=>t.title,body:()=>t.body,assetIds:t.decorations,entrypointBackgroundStyle:null==(n=t.refTargetBackground)?void 0:n.style}:{title:()=>"",assetIds:[]};return i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({type:d.k2.COACHTIP},l),a=a={imageSrc:null!=(r=e.coachtipAvatar)?r:"",entryPointBackgroundAssets:{srcDark:e.buttonBGRestingDark,srcLight:e.buttonBGRestingLight,srcDarkHovered:e.buttonBGHoverDark,srcLightHovered:e.buttonBGHoverLight}},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))}),i}return(null==t?void 0:t.type)===l.Z.COACHMARK?{type:d.k2.COACHMARK,title:()=>t.title,body:()=>t.body,assetDark:t.assetDark,assetLight:t.assetLight}:null},f=()=>{var e;let t=(0,a.e7)([c.Z],()=>c.Z.getMarketingBySurface(i.K.DESKTOP_SHOP_BUTTON)),[n,l]=(0,s.XR)(o.z.COLLECTIBLES_SHOP_ENTRY_MARKETING,null!=(e=null==t?void 0:t.version)?e:0,void 0,!0),d=(0,u.mB)(t),f=null!=n?h(d,t):null,g=r.useCallback(()=>{null!=f&&l(p.L.AUTO)},[f,l]);return{shopButtonDisplayOptions:f,dismissShopButtonDC:g}}},81136:function(e,t,n){n.d(t,{Z:()=>i});var r=n(580747);let i=()=>({noCache:(0,r.Z)("shop_disable_cache"),includeUnpublished:(0,r.Z)("shop_include_unpublished")})},998730:function(e,t,n){n.d(t,{N:()=>o}),n(388685);var r=n(73800),i=n(302221),l=n(956664);async function a(e){return(await new Promise((t,n)=>{let r=new Image;r.crossOrigin="Anonymous",r.onerror=e=>{n(e),null!=r&&(r.onerror=null,r.onload=null),r=null},r.onload=()=>{null!=r?(t((0,l.XN)(r,2,10)),r.onerror=null,r.onload=null,r=null):n("image is null")},r.src=e})).map(e=>{let[t,n,r]=e;return(0,i.vq)(t,n,r)})}function o(e){let[t,n]=r.useState(),i=r.useRef(!1);return null==e||null!=t||i.current||(i.current=!0,a(e).then(e=>{n(e[0])})),t}},403763:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r=n(255367);n(73800);var i=n(392711),l=n.n(i),a=n(481060),o=n(463395),s=n(131951),c=n(34828),u=n(65154);let d=new Set(["DisplayPort"]),p="connected-device-modal";function h(){let e;if((0,a.nfh)(p))return;let t=s.Z.getInputDeviceId(),i=s.Z.getOutputDeviceId();if(c.Z.getState().neverShowModal||l().isEmpty(c.Z.lastDeviceConnected))return;let h=(0,c.X)(s.Z.getInputDevices()[t]),f=(0,c.X)(s.Z.getOutputDevices()[i]);if(l().some(c.Z.lastDeviceConnected,e=>d.has(e.displayName)||e.displayName===h||e.displayName===f))return;let g=l().some(c.Z.lastDeviceConnected,e=>o.Z.isCertified(c.Z.inputDevices[e.displayName])||o.Z.isCertified(c.Z.outputDevices[e.displayName]));if((t===u.w5&&c.Z.lastInputSystemDevice.justChanged||i===u.w5&&c.Z.lastOutputSystemDevice.justChanged)&&!g)return;let m=l().first(Object.keys(c.Z.lastDeviceConnected)),b=null!=m&&""!==m?c.Z.lastDeviceConnected[m]:null;null!=b&&(c.Z.getState().ignoredDevices[b.displayName]||(c.Z.initialized&&null!=m&&(o.Z.isCertified(c.Z.inputDevices[m])?e=o.Z.getCertifiedDevice(c.Z.inputDevices[m]):o.Z.isCertified(c.Z.outputDevices[m])&&(e=o.Z.getCertifiedDevice(c.Z.outputDevices[m]))),(0,a.ZDy)(async()=>{let{default:t}=await n.e("30042").then(n.bind(n,30575));return n=>{let{transitionState:i,onClose:l}=n;return(0,r.jsx)(t,{device:b,certifiedDeviceMetadata:e,transitionState:i,onClose:l})}},{modalKey:p})))}let f={init(){c.Z.addChangeListener(h)}}},34828:function(e,t,n){n.d(t,{X:()=>C,Z:()=>T}),n(35282);var r,i=n(392711),l=n.n(i),a=n(442837),o=n(570140),s=n(846027),c=n(581883),u=n(131951),d=n(358085),p=n(533583),h=n(65154);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g={ignoredDevices:{}},m=g,b=!1,_={},E={},O={},y={id:null,justChanged:!1},I={id:null,justChanged:!1},v=/\(([^)]+)\)/;function C(e){if((0,d.getPlatform)()===d.PlatformTypes.WINDOWS){let t=e.name.match(v);if(null!=t)return t[1]}return e.name}function S(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===p.Q.INPUT&&n===p.Q.OUTPUT||e.type===p.Q.OUTPUT&&n===p.Q.INPUT?{displayName:t,type:p.Q.INPUT_AND_OUTPUT}:e}class N extends(r=a.ZP.DeviceSettingsStore){initialize(e){this.waitFor(u.Z,c.Z),m=null!=e?e:g}getUserAgnosticState(){return m}get initialized(){return b}get lastDeviceConnected(){return O}get inputDevices(){return _}get lastInputSystemDevice(){return y}get outputDevices(){return E}get lastOutputSystemDevice(){return I}}f(N,"displayName","ConnectedDeviceStore"),f(N,"persistKey","ConnectedDeviceStore"),f(N,"migrations",[e=>{if(null==e.ignoredDevices){var t,n;return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({},e),n=n={ignoredDevices:{}},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t}return e}]);let T=new N(o.Z,{MEDIA_ENGINE_DEVICES:function(e){let{inputDevices:t,outputDevices:n}=e,r={};y.justChanged=!1,t.forEach(e=>{if(r[C(e)]=e.id,e.id===h.w5){var t;let n=null!=(t=e.originalId)?t:e.originalName;n!==y.id&&(y.justChanged=!0),y.id=n}});let i={};if(I.justChanged=!1,n.forEach(e=>{if(i[C(e)]=e.id,e.id===h.w5){var t;let n=null!=(t=e.originalId)?t:e.originalName;n!==I.id&&(I.justChanged=!0),I.id=n}}),!b){_=r,E=i,b=!0;return}let a=Object.keys(_),o=Object.keys(r),s=Object.keys(E),c=Object.keys(i),u=l().difference(a,o),d=l().difference(s,c);return u.length>0||d.length>0?O={}:(l().difference(o,a).forEach(e=>{O[e]=S(O[e],e,p.Q.INPUT)}),l().difference(c,s).forEach(e=>{O[e]=S(O[e],e,p.Q.OUTPUT)})),!(l().isEqual(a,o)&&l().isEqual(s,c))&&(_=r,E=i,!0)},CONNECTED_DEVICE_SWITCH:function(e){let{displayName:t,connectedDevicePreference:n,location:r}=e;if(n===p.a.INPUT||n===p.a.INPUT_AND_OUTPUT){let e=_[t];null!=e&&o.Z.wait(()=>s.Z.setInputDevice(e,{location:r}))}if(n===p.a.OUTPUT||n===p.a.INPUT_AND_OUTPUT){let e=E[t];o.Z.wait(()=>s.Z.setOutputDevice(e,{location:r}))}delete O[t]},CONNECTED_DEVICE_DONT_SWITCH:function(e){let{displayName:t}=e;delete O[t]},CONNECTED_DEVICE_IGNORE:function(e){let{displayName:t}=e;m.ignoredDevices[t]=!0,delete O[t]},CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(){O={},m.neverShowModal=!0}})},533583:function(e,t,n){n.d(t,{Q:()=>l,a:()=>a});var r,i,l=((r={}).INPUT="INPUT",r.OUTPUT="OUTPUT",r.INPUT_AND_OUTPUT="INPUT_AND_OUTPUT",r),a=((i={}).INPUT="INPUT",i.OUTPUT="OUTPUT",i.INPUT_AND_OUTPUT="INPUT_AND_OUTPUT",i)},314533:function(e,t,n){n.d(t,{Z:()=>c});var r=n(255367);n(73800);var i=n(481060),l=n(570140),a=n(317770);let o="CONNECTIONS_GRID_MODAL_KEY";class s extends a.Z{_initialize(){l.Z.subscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow),l.Z.subscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)}_terminate(){l.Z.unsubscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow),l.Z.unsubscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)}handleShow(e){let{onComplete:t,excludedPlatformTypes:l,includedPlatformTypes:a,integrations:s,onCompleteApplication:c}=e;(0,i.nfh)(o)||(0,i.ZDy)(async()=>{let{default:e}=await n.e("28538").then(n.bind(n,51299));return n=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({onComplete:t,excludedPlatformTypes:l,includedPlatformTypes:a,integrations:s,onCompleteApplication:c},n))})}handleHide(){(0,i.Mr3)(o)}}let c=new s},507294:function(e,t,n){n.d(t,{default:()=>Z,g:()=>A}),n(388685),n(472816),n(794429),n(953529);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(780384),c=n(481060),u=n(239091),d=n(749210),p=n(410030),h=n(726542),f=n(884338),g=n(367907),m=n(313201),b=n(598077),_=n(314897),E=n(271383),O=n(430824),y=n(626135),I=n(63063),v=n(134433),C=n(225104),S=n(981631),N=n(388032),T=n(739587),P=n(472840);function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function A(e,t){(0,c.ZDy)(async()=>{let{default:i}=await Promise.all([n.e("82412"),n.e("80993")]).then(n.bind(n,107807));return n=>(0,r.jsx)(i,j({role:e,guildId:t},n))})}let Z=function(e){let{guildId:t,transitionState:l,onClose:Z}=e,x=(0,o.e7)([O.Z],()=>O.Z.getRoles(t)),L=(0,o.e7)([_.default],()=>_.default.getId()),w=(0,o.e7)([E.ZP],()=>E.ZP.getMember(t,L)),[R,D]=i.useState([]),k=(0,p.ZP)(),M=(0,m.Dt)();if(i.useEffect(()=>{0!==R.length&&y.default.track(S.rMx.PASSPORT_ENTRY_VIEWED,j({role_ids:R.map(e=>{let{role_id:t}=e;return t})},(0,g.hH)(t)))},[t,R]),i.useEffect(()=>{d.Z.getGuildRoleConnectionsConfigurations(t).then(e=>D(e))},[t]),null==w)return null;let U=Object.values(x).filter(e=>{var t;return(null==(t=e.tags)?void 0:t.guild_connections)===null});return(0,r.jsxs)(c.Y0X,{transitionState:l,"aria-labelledby":M,className:T.modal,parentComponent:"GuildRoleConnectionsModal",children:[(0,r.jsxs)(c.xBx,{separator:!1,children:[(0,r.jsx)(v.Z,{className:T.headerIcon,size:24}),(0,r.jsx)(c.X6q,{variant:"text-md/medium",color:"header-primary",children:N.intl.string(N.t.ghtnsr)}),(0,r.jsx)(c.olH,{className:T.modalCloseButton,onClick:Z})]}),(0,r.jsxs)(c.hzk,{className:T.container,children:[(0,r.jsx)(c.X6q,{variant:"heading-md/semibold",color:"header-primary",children:N.intl.format(N.t["Y+TsER"],{helpdeskArticleUrl:I.Z.getArticleURL(S.BhN.CONNECTION_DETAILS)})}),(0,r.jsx)("div",{className:T.verifiedRoles,children:U.map(e=>{let l=w.roles.includes(e.id),o=function(e){let n=R.find(t=>{let{role_id:n}=t;return n===e});if(null==n)return[];let i={};for(let e of n.rules.flat()){let o;if(null!=e.application_id){var l;let i=null==(l=n.applications)?void 0:l[e.application_id];o=(null==i?void 0:i.bot)!=null?(0,r.jsx)("img",{src:new b.Z(i.bot).getAvatarURL(t,24),alt:"",className:a()(T.botAvatar,P.avatar)}):null}else{let t=h.Z.get(e.connection_type);o=(0,r.jsx)("img",{src:(0,s.ap)(k)?t.icon.lightSVG:t.icon.darkSVG,alt:"",className:P.avatar})}null!=o&&(i["".concat(e.connection_type,":").concat(e.application_id)]=o)}return Object.values(i)}(e.id);return(0,r.jsxs)(c.P3F,{className:a()(T.verifiedRole,l?T.verifiedRoleHasRole:null),onClick:l?void 0:()=>A(e,t),onContextMenu:l?i=>{var l;return l=e.id,void(0,u.jW)(i,async()=>{let{default:e}=await n.e("60079").then(n.bind(n,850902));return n=>{var i,a;return(0,r.jsx)(e,(i=j({},n),a=a={roleId:l,onLeaveRole:()=>d.Z.unassignGuildRoleConnection(t,l)},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))}),i))}})}:void 0,children:[l?(0,r.jsx)("div",{className:T.roleCheckmark,children:(0,r.jsx)(c.kmB,{size:"xs",color:"currentColor"})}):null,(0,r.jsx)(C.Z,{guildId:t,role:e,size:24}),(0,r.jsxs)("div",{className:T.verifiedRoleNameDescriptionContainer,children:[(0,r.jsx)(c.Text,{variant:"text-md/medium",color:"header-primary",className:T.verifiedRoleName,children:e.name}),void 0!==e.description?(0,r.jsx)(c.Text,{variant:"text-xs/normal",color:"header-secondary",className:T.verifiedRoleDescription,children:e.description}):null]}),(0,r.jsx)(f.Z,{showUserPopout:!1,guildId:t,users:o.map(()=>null),renderUser:(e,t,n)=>(0,r.jsx)(i.Fragment,{children:o[n]},n),max:3})]},e.id)})})]})]})}},9029:function(e,t,n){n.d(t,{Z:()=>c});var r=n(481060),i=n(570140),l=n(317770),a=n(507294),o=n(458034);class s extends l.Z{_initialize(){i.Z.subscribe("GUILD_ROLE_CONNECTIONS_MODAL_SHOW",this.handleShow)}_terminate(){i.Z.unsubscribe("GUILD_ROLE_CONNECTIONS_MODAL_SHOW",this.handleShow)}handleShow(e){let{role:t,guildId:n}=e;if(!(0,r.nfh)("GUILD_ROLE_CONNECTIONS_MODAL_KEY")){var i;null!=t&&(null==(i=t.tags)?void 0:i.guild_connections)===null?(0,a.g)(t,n):(0,o.Am)(n)}}}let c=new s},705348:function(e,t,n){n.d(t,{Z:()=>u});var r=n(255367);n(73800);var i=n(324262),l=n(63063),a=n(981631),o=n(921944),s=n(388032),c=n(157476);function u(e){let{guild:t,markAsDismissed:n}=e;return(0,r.jsx)(i.Z,{image:c,guild:t,onDismissed:()=>n(o.L.UNKNOWN),onClick:()=>{open(l.Z.getArticleURL(a.BhN.CONNECTION_DETAILS)),n(o.L.UNKNOWN)},title:s.intl.string(s.t.YMgaJi),message:s.intl.string(s.t["AV/9eX"]),cta:s.intl.string(s.t.hvVgAQ),trackingSource:a.PsQ.LINKED_ROLES_ADMIN_NUX,type:a.vID.LINKED_ROLES_ADMIN})}},225104:function(e,t,n){n.d(t,{Z:()=>c});var r=n(255367);n(73800);var i=n(866442),l=n(91218),a=n(518738),o=n(134433),s=n(981631);function c(e){var t;let{guildId:n,role:c,size:u,className:d}=e,p=(0,a.p9)({guildId:n,roleId:c.id,size:u});return null!=p?(0,r.jsx)(l.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:d},p)):(0,r.jsx)(o.Z,{color:null!=(t=c.colorString)?t:(0,i.Rf)(s.p6O),className:d,size:u})}},77878:function(e,t,n){n.d(t,{Z:()=>O});var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(981631),o=n(659195);let s="1",c="2",u="3",d="4",p="5",h="6",f="1",g="2",m="3",b="4",_="5",E={[a.aIt.ESRB]:{[s]:o.esrbEveryone,[c]:o.esrbEveryoneTenPlus,[u]:o.esrbTeen,[d]:o.esrbMature,[p]:o.esrbAdult,[h]:o.esrbRatingPending},[a.aIt.PEGI]:{[f]:o.pegiThree,[g]:o.pegiSeven,[m]:o.pegiTwelve,[b]:o.pegiSixteen,[_]:o.pegiEighteen}},O=e=>{let{agency:t,rating:n,className:i}=e,a=E[t][n];return null==a?null:(0,r.jsx)("div",{className:l()(o.contentRating,a,i)})}},317858:function(e,t,n){n.d(t,{Z:()=>I}),n(388685);var r=n(73800),i=n(166516),l=n.n(i),a=n(525654),o=n.n(a),s=n(442837),c=n(91896),u=n(849862),d=n(888369),p=n(292959),h=n(699516),f=n(340895),g=n(358085),m=n(998502),b=n(252618),_=n(981631),E=n(388032);let O=new Set(["Blink","Gecko","WebKit"]),y=_.dG4;if(g.isPlatformEmbedded)y=e=>m.ZP.setBadge(e);else if(O.has(o().layout)){let e=new(l())({animation:"none"});y=t=>{try{(0,b.PR)(t),e.badge(-1===t?"•":t)}catch(e){}}}function I(){let e=(0,s.e7)([f.Z],()=>f.Z.hasIncomingCalls()),t=(0,s.e7)([d.default,h.Z,p.Z,c.Z],()=>{let e=d.default.getTotalMentionCount(),t=(0,u.m$)([h.Z,c.Z]),n=d.default.hasAnyUnread(),r=p.Z.getDisableUnreadBadge(),i=e+t;return 0===i&&n&&!r&&(i=-1),i});r.useEffect(()=>{if(!e)return;let t=m.ZP.bounceDock("critical"),n=(0,b.EM)({messages:[E.intl.string(E.t["fk1/bW"])],count:50});return()=>{null==t||t(),n()}},[e]),r.useEffect(()=>{y(t)},[t]),r.useEffect(()=>()=>y(0),[])}},267161:function(e,t,n){n.r(t),n.d(t,{default:()=>V,useAppSidebarState:()=>U});var r=n(255367),i=n(73800),l=n(114858),a=n(97519),o=n(442837),s=n(481060),c=n(230711),u=n(174556),d=n(320007),p=n(540059),h=n(916069),f=n(111666),g=n(565138),m=n(300986),b=n(314451),_=n(35583),E=n(821020),O=n(370774),y=n(522474),I=n(141321),v=n(210887),C=n(592125),S=n(430824),N=n(944486),T=n(914010),P=n(451478),j=n(998502),A=n(228488),Z=n(950796),x=n(981631),L=n(741764),w=n(388032),R=n(916723),D=n(103609);function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function M(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let U=(0,a.U)(()=>({isOpen:!0}));function G(){let e,t=(0,l.TH)(),n=(0,o.e7)([N.Z],()=>N.Z.getChannelId()),i=(0,o.e7)([T.Z],()=>T.Z.getGuildId()),a=(0,o.e7)([C.Z],()=>C.Z.getChannel(n),[n]),c=null!=i?i:null==a?void 0:a.guild_id,u=(0,o.e7)([S.Z],()=>S.Z.getGuild(c),[c]),d=(0,h.Z)(),p=(0,O.D)(),f=null;return p&&(e=w.intl.string(w.t.HcoRu7),f=(0,r.jsx)(s.Dkj,{size:"xs"})),null!=u?(f=d?(0,r.jsx)(s.r7p,{size:"xs"}):(0,r.jsx)(g.Z,{guild:u,size:g.Z.Sizes.MINI,active:!0,className:D.guildIcon}),e=u.name):null!=a&&(a.isDM()||a.isGroupDM())?(e=w.intl.string(w.t.YUU0RE),f=(0,r.jsx)(s.gw7,{size:"xs"})):t.pathname.startsWith(x.Z5c.GLOBAL_DISCOVERY)?(e=w.intl.string(w.t["4nEZLi"]),f=(0,r.jsx)(s.Jmo,{size:"xs"})):t.pathname.startsWith(x.Z5c.NITRO_HOME)?(e=w.intl.string(w.t.Ipxkoq),f=(0,r.jsx)(s.SrA,{size:"xs"})):t.pathname.startsWith(x.Z5c.COLLECTIBLES_SHOP)?(e=w.intl.string(w.t.pWG4zc),f=(0,r.jsx)(s.EOn,{size:"xs"})):t.pathname.startsWith(x.Z5c.FRIENDS)?(e=w.intl.string(w.t.TdEu5e),f=(0,r.jsx)(s.iFz,{size:"xs"})):t.pathname.startsWith(x.Z5c.FAMILY_CENTER)&&(e=w.intl.string(R.default.RZqaJi),f=(0,r.jsx)(s.BFJ,{size:"xs"})),null!=e&&""!==e&&(0,r.jsxs)("div",{className:D.title,children:[f,(0,r.jsx)(s.Text,{variant:"text-sm/medium",lineClamp:1,children:e})]})}let V=i.memo(function(){i.useLayoutEffect(()=>{j.ZP.setMinimumSize(L.J,L.N)},[]);let e=(0,p.TH)("AppTitleBar"),t=!U(e=>e.isOpen)&&e,{hasBugReporterAccess:n}=u.Z.useExperiment({location:"HeaderBar"},{autoTrackExposure:!1});i.useLayoutEffect(()=>{j.ZP.setMinimumSize(L.J,L.N)},[]);let l=(0,o.e7)([v.Z],()=>v.Z.darkSidebar?x.BRd.DARK:void 0),a=(0,o.e7)([P.Z,y.Z],()=>(0,A.rB)()),{notificationCenterVariant:h}=E.L.useExperiment({location:"AppTitleBar"});return a?null:(0,r.jsx)(s.Wdt,{children:e=>(0,r.jsx)(s.f6W,{theme:l,children:i=>(0,r.jsx)(Z.T,{className:i,leading:t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.P3F,M(k({},e),{className:D.button,onClick:()=>{U.setState({isOpen:!U.getState().isOpen})},children:(0,r.jsx)(B,{})})),(0,r.jsx)(s.P3F,{className:D.button,onClick:()=>{c.Z.open(x.oAB.ACCOUNT)},children:(0,r.jsx)(s.ewm,{size:"xs",color:"currentColor"})})]}),title:(0,r.jsx)(G,{}),trailing:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{className:D.button}),(0,r.jsx)(d.Z,{canShowReminder:!0,className:D.button}),null===h&&(0,r.jsx)(I.Z,M(k({},t?{}:e),{className:D.button})),n?(0,r.jsx)(b.Z,{className:D.button}):(0,r.jsx)(m.Z,{className:D.button}),(0,r.jsx)(_.Z,{className:D.button})]})})})})});function B(){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:D.icon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,r.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),(0,r.jsx)("path",{d:"M9 3v18"})]})}},635395:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(73800),i=n(442837),l=n(846027),a=n(230711),o=n(91896),s=n(849862),c=n(888369),u=n(131951),d=n(292959),p=n(19780),h=n(699516),f=n(606304),g=n(358085),m=n(998502),b=n(981631);let _=(0,g.isMac)()?null:"DEFAULT";class E extends r.PureComponent{componentDidMount(){m.ZP.setSystemTrayIcon(this.getIcon())}componentDidUpdate(){m.ZP.setSystemTrayIcon(this.getIcon())}componentWillUnmount(){m.ZP.setSystemTrayIcon(_)}render(){return null}constructor(...e){var t,n;super(...e),t="getIcon",n=()=>{let{deafened:e,muted:t,speaking:n,connected:r,unread:i}=this.props,l=_;return(0,g.isMac)()&&!r?l:(0,g.isLinux)()||!r?(i&&(l="UNREAD"),l):l=e?"DEAFENED":t?"MUTED":n?"SPEAKING":"CONNECTED"},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let O=()=>null;g.isPlatformEmbedded&&(m.ZP.on("SYSTEM_TRAY_TOGGLE_MUTE",()=>l.Z.toggleSelfMute({location:"System Tray"})),m.ZP.on("SYSTEM_TRAY_TOGGLE_DEAFEN",()=>l.Z.toggleSelfDeaf()),m.ZP.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",()=>{a.Z.open(b.oAB.VOICE)}),O=i.ZP.connectStores([p.Z,u.Z,f.Z,c.default,h.Z,d.Z,o.Z],()=>{let e=c.default.getTotalMentionCount(),t=c.default.hasAnyUnread(),n=(0,s.m$)([h.Z,o.Z]),r=!d.Z.getDisableUnreadBadge()&&!!(t||e+n>0);return{connected:p.Z.isConnected(),speaking:f.Z.isCurrentUserSpeaking(),muted:u.Z.isSelfMute()||u.Z.isSelfMutedTemporarily(),deafened:u.Z.isSelfDeaf(),unread:r}})(E));let y=O},264165:function(e,t,n){n.d(t,{Z:()=>o});var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(965860);let o=e=>{let{aspectRatio:t,style:n,className:i,children:o}=e;return(0,r.jsx)("div",{className:l()(a.outer,i),style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({paddingTop:"".concat(1/t*100,"%")},n),children:(0,r.jsx)("div",{className:a.inner,children:o})})}},935347:function(e,t,n){n.d(t,{Z:()=>j}),n(539854);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(442837),u=n(433517),d=n(481060),p=n(205355),h=n(607070),f=n(38618),g=n(197344),m=n(460181),b=n(474873),_=n(706454),E=n(215427),O=n(820254),y=n(358085),I=n(998502),v=n(905656),C=n(981631),S=n(388032),N=n(64648);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends i.PureComponent{createSound(){let{soundpack:e}=this.props,t=(0,m.uk)("discodo",e);return t.volume=1,t}componentDidMount(){this.setProblemsTimeout()}componentDidUpdate(e,t){let{ready:n,hide:r,problems:i}=this.state,{connected:l,soundpack:a}=this.props,o=l&&n&&!r&&!i;e.soundpack!==a&&(this._connectedSound=this.createSound()),e.connected!==l||o?(l&&null!=this.videoRef&&u.K.get(C.wli)&&this._connectedSound.play(),this.setState({problems:!1,hide:l})):t.hide!==r?(r?this.clearProblemsTimeout():this.setProblemsTimeout(),this.setState({shouldRender:!0}),setTimeout(()=>this.setState({shouldRender:!r}),200)):t.problems!==i&&i&&p.Z.checkIncidents()}componentWillUnmount(){this.clearProblemsTimeout()}render(){let{connected:e,incident:t}=this.props,{hide:n}=this.state;if(!this.state.shouldRender)return null;{let i=this._loadingText,l=null;return null!=this._eventLoadingText&&(i=this._eventLoadingText),null!=t&&(i=t.name,l=t.incident_updates[0].body),(0,r.jsxs)("div",{className:N.container,"data-fade":n,style:{"--connecting-container-fade-duration":"".concat(200,"ms"),"--connecting-content-fade-duration":"".concat(150,"ms")},children:[(0,r.jsxs)("div",{className:N.content,children:[(0,r.jsx)(v.Z,{autoPlay:!0,loop:!e,setRef:this.setVideoRef,onReady:this.handleReady,className:a()(N.spinner,this.state.ready?N.ready:"")}),(0,r.jsxs)("div",{className:N.text,children:[null!=t?null:(0,r.jsx)("div",{className:N.tipTitle,children:S.intl.string(S.t.v0R1Li)}),(0,r.jsx)("div",{className:null!=t?N.title:N.tip,children:i}),(0,r.jsx)("div",{className:N.body,children:l})]})]}),(0,r.jsxs)("div",{className:a()(N.problems,{[N.slideIn]:this.state.problems}),children:[(0,r.jsx)("div",{className:N.problemsText,children:S.intl.string(S.t.AG2zPD)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(d.eee,{className:N.twitterLink,href:C.yXt.TWITTER_SUPPORT,target:"_blank",children:[(0,r.jsx)(d.TAi,{size:"xs",color:"currentColor",className:N.icon}),S.intl.string(S.t.KlyTbm)]}),(0,r.jsxs)(d.eee,{className:N.statusLink,href:C.yXt.STATUS,target:"_blank",children:[(0,r.jsx)(O.Z,{className:N.icon}),S.intl.string(S.t.AgXXy8)]})]})]})]})}}constructor(e){super(e),T(this,"videoRef",null),T(this,"_noProblemsTimeout",null),T(this,"_problemsTimeout",null),T(this,"_connectedSound",this.createSound()),T(this,"_loadingText",function(){let e=[S.intl.string(S.t.Ex79Ky),S.intl.string(S.t["+v5zsb"]),S.intl.string(S.t["RLx6+f"]),S.intl.string(S.t.Q1PZkJ),S.intl.string(S.t.x7sfVl),S.intl.format(S.t.PHuQsb,{tabHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"tab",className:N.keybind},t)}),S.intl.string(S.t.UorX4e),S.intl.string(S.t["il/GZm"]),S.intl.string(S.t.HKBJv7),S.intl.format(S.t["FVVp7+"],{F6Hook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"f6",className:N.keybind},t),tabHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"tab",className:N.keybind},t)}),S.intl.string(S.t["7Y1hFB"]),S.intl.string(S.t["UcCW7+"]),S.intl.string(S.t.E5GhfX),S.intl.string(S.t.bANqo6),S.intl.string(S.t.yOEVDg),S.intl.string(S.t["u0Ra/P"]),S.intl.string(S.t.un4cQ0),S.intl.string(S.t["2cyYx8"]),S.intl.string(S.t.KCmze3),S.intl.string(S.t["C+hUc3"]),S.intl.string(S.t.I98MEB),S.intl.format(S.t.c0YCIy,{}),S.intl.string(S.t.z8AvIC),S.intl.string(S.t.IjX3Pz),S.intl.string(S.t.lg3CkZ),S.intl.string(S.t["4GaLhY"]),S.intl.string(S.t.qHKbU1),S.intl.string(S.t.mJxKDw),S.intl.string(S.t.iiQBXF),S.intl.string(S.t.YPD46e),S.intl.string(S.t.O8BpgY),S.intl.string(S.t.xzFwfn),S.intl.string(S.t["4G3fsb"]),S.intl.string(S.t["/jPyKC"]),S.intl.string(S.t["8x7D5e"]),S.intl.string(S.t.G6Q8Hx),S.intl.string(S.t["9Cx+xM"]),S.intl.string(S.t.WsZ8dX),S.intl.string(S.t.btoe7O),S.intl.string(S.t.E6Y0j4),S.intl.string(S.t["7KZ819"]),S.intl.string(S.t.hm7OKi),S.intl.string(S.t.H535i4),S.intl.string(S.t["08WJUV"]),S.intl.string(S.t.hhtfys),S.intl.string(S.t.on980d),S.intl.string(S.t.AL6c09),S.intl.string(S.t.iLTeFx),S.intl.string(S.t.b3vSu7),S.intl.string(S.t["f8ao5+"]),S.intl.format(S.t["1v1h8v"],{asterisks:"**"}),S.intl.format(S.t.MUlAVV,{quickSwitcherHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"mod+k",className:N.keybind},t)}),S.intl.format(S.t.aes5VF,{markUnreadHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"alt+click",className:N.keybind},t)}),S.intl.format(S.t.md9Svr,{markServerUnreadHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"shift+esc",className:N.keybind},t)}),S.intl.format(S.t["X0Tu+v"],{navigateUnreadHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"shift+alt+up",className:N.keybind},t),downHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"down",className:N.keybind},t)}),S.intl.format(S.t.AkoeIS,{keyboardShortcutsHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"mod+/",className:N.keybind},t)}),S.intl.format(S.t.P9sfAA,{messageNewlineHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"shift+return",className:N.keybind},t)}),S.intl.format(S.t["3Ox33d"],{shiftHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"shift",className:N.keybind},t)}),S.intl.format(S.t.enCV6e,{upHook:(e,t)=>(0,r.jsx)(d.M2$,{shortcut:"up",className:N.keybind},t)})];return _.default.locale.startsWith("en-")&&e.push(S.intl.string(S.t.dQ9Wqq)),e[s().random(e.length-1)]}()),T(this,"_eventLoadingText",function(){let e=g.Z.getLoadingTips();if(null!=e&&e.length>0)return e[s().random(e.length-1)]}()),T(this,"handleReady",()=>{this.setState({ready:!0}),(0,y.isDesktop)()&&(I.ZP.send("UPDATED_QUOTES",["Hold Tight — Loading Discord"]),I.ZP.send("UPDATE_OPEN_ON_STARTUP"))}),T(this,"setVideoRef",e=>{this.videoRef=e}),T(this,"setProblemsTimeout",()=>{null==this._problemsTimeout&&(this._problemsTimeout=setTimeout(()=>this.setState({problems:!0}),1e4))}),T(this,"clearProblemsTimeout",()=>{clearTimeout(this._problemsTimeout),this._problemsTimeout=null});let{connected:t}=e;this.state={ready:t,hide:t,problems:!1,shouldRender:!t},this._connectedSound.volume=1}}let j=c.ZP.connectStores([f.Z,E.Z,b.Z,h.Z],()=>({isTryingToConnect:f.Z.isTryingToConnect(),connected:f.Z.isConnected(),incident:E.Z.getIncident(),soundpack:b.Z.getSoundpack(),reducedMotion:h.Z.useReducedMotion}))(e=>{let{isTryingToConnect:t,connected:n,incident:i,soundpack:l,reducedMotion:a}=e;return t?(0,r.jsx)(P,{reducedMotion:a,soundpack:l,connected:n,incident:i}):null})},606081:function(e,t,n){n.d(t,{Z:()=>O}),n(49124),n(415506);var r,i,l,a,o=n(255367),s=n(73800);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function d(e,t){return u({"@type":e},function e(t){return Object.keys(t).forEach(n=>{null==t[n]?delete t[n]:"object"==typeof t[n]&&(t[n]=e(t[n]))}),t}(function(e){let t;try{t=JSON.parse(JSON.stringify(e))}catch(e){throw Error("[JSONLD] Invalid object format")}return t}(t)))}function p(e){return d("Thing",e)}function h(e){return d("Product",e)}h.Image=function(e){if(null==e)return null;let t=e.filter(e=>null!=e&&""!==e);return 0===t.length?null:1===t.length?t[0]:t};var f=((i=f||{}).DAMAGED="http://schema.org/DamagedCondition",i.NEW="http://schema.org/NewCondition",i.REFURBISHED="http://schema.org/RefurbishedCondition",i.USED="http://schema.org/UsedCondition",i),g=((l=g||{}).DISCONTINUED="http://schema.org/Discontinued",l.IN_STOCK="http://schema.org/InStock",l.IN_STORE_ONLY="http://schema.org/InStoreOnly",l.LIMITED_AVAILABILITY="http://schema.org/LimitedAvailability",l.ONLINE_ONLY="http://schema.org/OnlineOnly",l.OUT_OF_STOCK="http://schema.org/OutOfStock",l.PREORDER="http://schema.org/PreOrder",l.PRESALE="http://schema.org/PreSale",l.SOLD_OUT="http://schema.org/SoldOut",l);function m(e){return d("Offer",e)}m.ItemConditions=f,m.ItemAvailability=g;var b=((a=b||{}).YEARLY="ANN",a.MONTHLY="MON",a);function _(e){return d("QuantitativeValue",e)}_.UnitCodes=b;class E extends(r=s.Component){render(){let{debug:e,data:t}=this.props,n=JSON.stringify(u({"@context":"http://schema.org"},t));return(0,o.jsx)("script",{type:"application/ld+json",children:n})}}c(E,"Thing",p),c(E,"Brand",p),c(E,"Person",function(e){return d("Person",e)}),c(E,"Organization",function(e){return d("Organization",e)}),c(E,"ItemPage",function(e){return d("ItemPage",e)}),c(E,"Product",h),c(E,"Offer",m),c(E,"Rating",function(e){return d("Rating",e)}),c(E,"AggregateRating",function(e){return d("AggregateRating",e)}),c(E,"AggregateOffer",function(e){return d("AggregateOffer",e)}),c(E,"QuantitativeValue",_),c(E,"UnitPriceSpecification",function(e){return d("UnitPriceSpecification",e)});let O=E},548816:function(e,t,n){n.d(t,{Z:()=>u});var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(481060),o=n(787205);function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function u(e){var{padded:t=!0,inset:n=!1,active:i=!1,className:u,children:d,onClick:p,ref:h}=e,f=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["padded","inset","active","className","children","onClick","ref"]);return null!=p?(0,r.jsx)(a.P3F,c(s({innerRef:h,onClick:p,tabIndex:null!=p?0:-1,className:l()(u,{[o.outer]:!n,[o.inset]:n,[o.padded]:t,[o.active]:i,[o.interactive]:null!=p})},f),{children:d})):(0,r.jsx)("div",c(s({ref:h,className:l()(u,{[o.outer]:!n,[o.inset]:n,[o.padded]:t,[o.active]:i})},f),{children:d}))}},120998:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r,i=n(255367),l=n(73800),a=n(392711),o=n.n(a),s=n(302221),c=n(33963);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends(r=l.PureComponent){onDataUpdate(e,t){let{maxValue:n,data:r,animate:i}=this.props,l=null==e||e.data!==t.data&&!o().isEqual(e.data,t.data);if(l&&(this.dataChangedAt=performance.now(),this.maxValue=null!=n?n:Math.max(...r)),l||null==e||!e.animate&&i||e.color!==this.props.color){let e=s.oo(this.props.color);this.fillColor="rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", 0.5)"),window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}}componentDidMount(){this.animationFrameRequestId=0,this.onDataUpdate(null,this.props)}componentDidUpdate(e){this.onDataUpdate(e,this.props)}componentWillUnmount(){window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=0}render(){let{className:e,pixelWidth:t,pixelHeight:n}=this.props;return(0,i.jsx)("div",{className:e,children:(0,i.jsx)("canvas",{ref:this.canvas,className:c.canvas,width:t,height:n})})}constructor(...e){super(...e),u(this,"dataChangedAt",void 0),u(this,"fillColor",void 0),u(this,"maxValue",void 0),u(this,"canvas",l.createRef()),u(this,"animationFrameRequestId",void 0),u(this,"updateAnimation",e=>{let t,n,r=this.canvas.current;if(null==r)return;let{data:i,updateInterval:l,color:a,numUpdatesToShow:o,lineWidth:c,animate:u,gradientStopColor:d}=this.props;if(i.length<2)return;let p=Math.max(Math.min((e-this.dataChangedAt)/l,1),0),h=r.getContext("2d"),f=this.maxValue;h.strokeStyle=a,h.lineWidth=c;let g=r.height-h.lineWidth,m=h.createLinearGradient(0,0,0,g);if(null!=d)m.addColorStop(0,d);else{let{r:e,g:t,b:n}=s.oo(a);m.addColorStop(0,"rgba(".concat(e,", ").concat(t,", ").concat(n,", 0)"))}m.addColorStop(1,this.fillColor),h.fillStyle=m;let b=i.length>=o?o:i.length;h.setTransform(1,0,0,-1,0,r.height),h.clearRect(0,0,r.width,r.height),h.translate(0,.5*h.lineWidth);let _=Math.floor(r.width/(b-3)),E=.5*_;h.translate(_-_*p,0),h.beginPath();let O=-_;i.forEach((e,r)=>{t={x:O,y:g*e/f},0===r?h.moveTo(t.x,t.y):h.bezierCurveTo(n.x+E,n.y,t.x-E,t.y,t.x,t.y),n=t,O+=_}),h.stroke(),h.lineTo(O-_,0),h.lineTo(0,0),h.fill(),u&&p<1&&(this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation))})}}u(d,"defaultProps",{animate:!0});let p=d},423e3:function(e,t,n){n.d(t,{M:()=>c});var r=n(927723),i=n(703656),l=n(896797),a=n(984933),o=n(944486),s=n(981631);function c(e,t){if((0,r.k)({kind:"channel"}),o.Z.getChannelId(e)===t){var n;(0,i.dL)(s.Z5c.CHANNEL(e,null==(n=a.ZP.getDefaultChannel(e))?void 0:n.id))}else(0,i.dL)(l.Z.defaultRoute)}},823169:function(e,t,n){n.d(t,{Z:()=>d}),n(388685);var r=n(570140),i=n(317770),l=n(430824),a=n(594174),o=n(358085),s=n(53365),c=n(981631);class u extends i.Z{_initialize(){r.Z.subscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)}_terminate(){r.Z.unsubscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)}constructor(...e){var t,n;super(...e),t="maybeFetchEligiblity",n=async()=>{if((0,o.isDesktop)()||(0,o.isWeb)()){let e=Object.values(l.Z.getGuilds()),t=a.default.getCurrentUser(),n=e.filter(e=>e.isOwner(t)&&!e.hasFeature(c.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&!e.hasFeature(c.oNc.CREATOR_MONETIZABLE_RESTRICTED)&&!e.hasFeature(c.oNc.CREATOR_MONETIZABLE_DISABLED)&&(e.hasFeature(c.oNc.CREATOR_MONETIZABLE)||e.hasFeature(c.oNc.CREATOR_MONETIZABLE_PROVISIONAL)));n.length>0&&await (0,s.av)(n.map(e=>e.id))}},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let d=new u},741764:function(e,t,n){n.d(t,{J:()=>r,N:()=>i});let r=800,i=500},845767:function(e,t,n){n.d(t,{Z:()=>o});var r=n(570140),i=n(317770),l=n(594174);class a extends i.Z{_initialize(){r.Z.subscribe("POST_CONNECTION_OPEN",this._maybeStartDevSession),r.Z.subscribe("LOGOUT",this._maybeStopDevSession)}_terminate(){r.Z.unsubscribe("POST_CONNECTION_OPEN",this._maybeStartDevSession),r.Z.unsubscribe("LOGOUT",this._maybeStopDevSession)}_maybeStartDevSession(){if(null==window.DiscordDevSession||!0!==window.__METICULOUS_ENABLED)return;let e="production"===window.GLOBAL_ENV.PROJECT_ENV,t=l.default.getCurrentUser();if(!((null==t?void 0:t.email)==null||e&&t.isStaff()))t.username.startsWith("mtcls")||!e?window.DiscordDevSession.start():window.DiscordDevSession.stop()}_maybeStopDevSession(){null!=window.DiscordDevSession&&window.DiscordDevSession.started&&window.DiscordDevSession.stop()}}let o=new a},107105:function(e,t,n){n.d(t,{bG:()=>a,bY:()=>o});var r,i=n(358085),l=n(75060),a=((r={})[r.UNHANDLED=-1]="UNHANDLED",r[r.NOMINAL=0]="NOMINAL",r[r.FAIR=1]="FAIR",r[r.SERIOUS=2]="SERIOUS",r[r.CRITICAL=3]="CRITICAL",r);function o(){var e=l.Z.getRawThermalState();if(null==e)return -1;if((0,i.isIOS)())return e;if(!(0,i.isAndroid)())return -1;switch(e){case 0:return 0;case 1:case 2:return 1;case 3:return 2;case 4:case 5:case 6:return 3;default:return -1}}},620360:function(e,t,n){n.d(t,{Z:()=>l});var r=n(570140),i=n(211644);let l={init(){r.Z.subscribe("CONNECTION_OPEN",()=>{(0,i.mc)()}),r.Z.subscribe("LOGOUT",()=>{(0,i.mc)()})}}},934401:function(e,t,n){var r,i,l,a=n(442837),o=n(570140),s=n(353926),c=n(160462);function u(){c.W.trigger()}class d extends(l=a.ZP.Store){initialize(){this.waitFor(s.Z)}constructor(){super(o.Z,{CONNECTION_OPEN:u},o.c.Early)}}i="ExperimentTriggerPointStore",(r="displayName")in d?Object.defineProperty(d,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):d[r]=i,new d},625414:function(e,t,n){n.d(t,{l:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-03_test_badges_existing_users",label:"Test Badges Existing Users Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},66154:function(e,t,n){n.d(t,{y:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-03_test_badges_new_users",label:"Test Badges New Users Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},256023:function(e,t,n){n.d(t,{p:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_first_bucket_allocation",label:"Test First Bucket Allocation Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},590894:function(e,t,n){n.d(t,{q:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_large_bucket_second",label:"Test Large Bucket Second Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},3968:function(e,t,n){n.d(t,{w:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_large_bucket_third",label:"Test Large Bucket Third Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},149252:function(e,t,n){n.d(t,{_:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_third_bucket_allocation",label:"Test Third Bucket Allocation Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},682233:function(e,t,n){n.d(t,{n:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-03_test_tile_existing_users",label:"Test Tile Existing Users Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},712610:function(e,t,n){n.d(t,{V:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-03_test_tile_new_users",label:"Test Tile New Users Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with first treatment enabled",config:{enabled:!0}},{id:2,label:"Variation with second treatment enabled",config:{enabled:!0}}]})},431253:function(e,t,n){n.d(t,{u:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_anniversaries",label:"Test User Auth Apply Filter Anniversaries",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},664344:function(e,t,n){n.d(t,{Z:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_badges",label:"Test User Auth Apply Filter Badges",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},662479:function(e,t,n){n.d(t,{z:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter",label:"Test User Auth Apply Filter",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},565908:function(e,t,n){n.d(t,{L:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_install",label:"Test User Auth Apply Filter Install",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},743001:function(e,t,n){n.d(t,{p:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_marketing",label:"Test User Auth Apply Filter Marketing",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},387155:function(e,t,n){n.d(t,{T:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_overlay",label:"Test User Auth Apply Filter Overlay",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},641892:function(e,t,n){n.d(t,{g:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_soundmoji",label:"Test User Auth Apply Filter Soundmoji",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},740399:function(e,t,n){n.d(t,{u:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_apply_filter_viewer",label:"Test User Auth Apply Filter Viewer",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},955523:function(e,t,n){n.d(t,{s:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_anniversaries",label:"Test User Auth Filter Anniversaries",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},782095:function(e,t,n){n.d(t,{R:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_badges",label:"Test User Auth Filter Badges",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},717895:function(e,t,n){n.d(t,{I:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter",label:"Test User Auth Filter",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},63639:function(e,t,n){n.d(t,{b:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_install",label:"Test User Auth Filter Install",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},587077:function(e,t,n){n.d(t,{S:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_marketing",label:"Test User Auth Filter Marketing",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},573555:function(e,t,n){n.d(t,{D:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_overlay",label:"Test User Auth Filter Overlay",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},970071:function(e,t,n){n.d(t,{p:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_soundmoji",label:"Test User Auth Filter Soundmoji",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},17535:function(e,t,n){n.d(t,{r:()=>l});var r=n(987170),i=n(987338);let l=(0,r.Z)({kind:"user",id:"2025-02_test_user_auth_filter_viewer",label:"Test User Auth Filter Viewer",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Variation with treatment enabled",config:{enabled:!0}}]})},160462:function(e,t,n){n.d(t,{W:()=>eE});var r=n(292381),i=n(456100),l=n(293162),a=n(162685),o=n(291574),s=n(429673),c=n(436952),u=n(803038),d=n(162461),p=n(482798),h=n(539746),f=n(809362),g=n(330791),m=n(340541),b=n(490569),_=n(621012),E=n(273388),O=n(821020),y=n(32300),I=n(111810),v=n(646476),C=n(314528),S=n(522558),N=n(599659),T=n(507985),P=n(464670),j=n(163684),A=n(247490),Z=n(988001),x=n(434878),L=n(390342),w=n(579075),R=n(963590),D=n(742139),k=n(50101),M=n(172299),U=n(722932),G=n(125900),V=n(592546),B=n(388081),H=n(36927),F=n(792481),z=n(625414),W=n(66154),Y=n(256023),K=n(590894),q=n(3968),Q=n(149252),X=n(682233),J=n(712610),$=n(431253),ee=n(664344),et=n(662479),en=n(565908),er=n(743001),ei=n(387155),el=n(641892),ea=n(740399),eo=n(955523),es=n(782095),ec=n(717895),eu=n(63639),ed=n(587077),ep=n(573555),eh=n(970071),ef=n(17535),eg=n(91641),em=n(598984),eb=n(987338);let e_=[em.NR,em.ZI,em.Ob,em.uc,em.m1,z.l,W.y,Y.p,K.q,q.w,Q._,X.n,J.V,$.u,ee.Z,et.z,en.L,er.p,ei.T,el.g,ea.u,eo.s,es.R,ec.I,eu.b,ed.S,ep.D,eh.p,ef.r,b.S,h.J$,g.bb,j.g,N.O,S.w,o.Z,_.m,G.J2,U.zv,k.ZP,D.Z,P.PU,l.Z,v.ZP,v.Ys,I.HZ,L.U,y.OV,p.Ht,d.zO,x.Z,c.ld,c.rr,c.qM,i.c,E.C,w.d,m.ZP,V.Z,O.L,a.w,r.R,d.me,s.r2,H.J,F.X,C.Q,u.M,A.k,B.C,Z.v,f.p,R.E,M.U,T.a],eE=new eg.E(e_,eb.$P.CONNECTION_OPEN,{location:"app open"})},96051:function(e,t,n){n.d(t,{Z:()=>s});var r=n(570140),i=n(317770),l=n(117984);function a(e){let{channel:{id:t}}=e;(0,l.oC)(t)}class o extends i.Z{_initialize(){r.Z.subscribe("CHANNEL_DELETE",a)}_terminate(){r.Z.unsubscribe("CHANNEL_DELETE",a)}}let s=new o},750995:function(e,t,n){n.d(t,{Z:()=>b});var r=n(255367);n(73800);var i=n(704215),l=n(481060),a=n(570140),o=n(317770),s=n(605236),c=n(650774),u=n(430824),d=n(496675),p=n(228392),h=n(981631),f=n(921944);let g=e=>{var t;let n=u.Z.getGuild(e),r=!!(null==n?void 0:n.hasFeature(h.oNc.COMMUNITY)),l=d.Z.can(h.Plq.MANAGE_CHANNELS,n),a=(0,s.un)(i.z.FORUM_CHANNEL_UPSELL_MODAL),o=null!=(t=c.Z.getMemberCount(e))?t:0;return r&&l&&!a&&o>=200};class m extends o.Z{_initialize(){a.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect)}_terminate(){a.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect)}handleChannelSelect(e){let{guildId:t}=e;if(null==t||!g(t))return;(0,p.qz)(),(0,s.kk)(i.z.FORUM_CHANNEL_UPSELL_MODAL);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.L.DISMISS;(0,s.EW)(i.z.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:e})};(0,l.ZDy)(async()=>{let{default:e}=await n.e("18417").then(n.bind(n,740696));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={onClose:e=>{a(e),n.onClose()},guildId:t,shouldUpsellCreation:!0},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}},{onCloseCallback:()=>(0,s.EW)(i.z.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:f.L.DISMISS}),onCloseRequest:h.VqG})}}let b=new m},111666:function(e,t,n){n.d(t,{Z:()=>T}),n(388685);var r=n(255367),i=n(73800),l=n(524979),a=n(442837),o=n(481060),s=n(570140),c=n(868781),u=n(122943),d=n(540059),p=n(665149),h=n(670188),f=n(592125),g=n(158776),m=n(699516),b=n(594174),_=n(482798),E=n(167762),O=n(151459),y=n(981631),I=n(388032),v=n(398435);function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function N(e){let{className:t}=e,n=(0,a.e7)([m.Z],()=>m.Z.getPendingCount()>0),_=(0,d.Q3)("FriendsButton"),N=(0,o.dQu)(o.TVs.modules.chat.INPUT_ICON_SIZE),T=function(){let[e,t]=i.useState(null),{showActivityTicker:n}=(0,O.Z)(),r=i.useRef({}),l=i.useRef(null);return i.useEffect(()=>{if(!n){t(null),null!=l.current&&(window.clearTimeout(l.current),l.current=null);return}let e=(e,t,n)=>{null==r.current[e]&&(r.current[e]={}),null==n?delete r.current[e][t]:r.current[e][t]=n,0===Object.keys(r.current[e]).length&&delete r.current[e]},i=e=>{null!=l.current&&(window.clearTimeout(l.current),l.current=null),t(e),l.current=window.setTimeout(()=>{t(null),l.current=null},1e4)},a=(t,n,l)=>{var a,o,s,c,u,d,p,h;if(!m.Z.isFriend(t))return!1;let g=b.default.getUser(t);if(null==g)return!1;let _=!1,E=null;if(null!=n){let i=n.type;if(null!=i&&function(e){let t=e.type;return t===y.IIU.PLAYING&&null!=e.application_id||t===y.IIU.LISTENING||t===y.IIU.WATCHING}(n)){let l=i===y.IIU.WATCHING||i===y.IIU.LISTENING?"".concat(i,"-").concat(null!=(c=n.name)?c:"","-").concat(null!=(u=n.state)?u:"","-").concat(null!=(d=n.details)?d:""):"".concat(i,"-").concat(null!=(p=n.name)?p:"");(null==(s=r.current[t])?void 0:s.presence)!==l&&(_=!0,e(t,"presence",l),E={user:g,activity:n})}else(null==(o=r.current[t])?void 0:o.presence)!=null&&(_=!0,e(t,"presence",null))}if(null!=l){let n=f.Z.getChannel(l);if(null!=n){let i="voice-".concat(n.id);(null==(h=r.current[t])?void 0:h.voice)!==i&&(_=!0,e(t,"voice",i),E={user:g,voiceChannel:n})}}else(null==(a=r.current[t])?void 0:a.voice)!=null&&(_=!0,e(t,"voice",null));return _&&null!=E&&i(E),_},o=e=>{for(let t of e.updates){let e=t.user.id,n=g.Z.getPrimaryActivity(e);if(a(e,n))break}},c=e=>{for(let t of e.voiceStates)if(a(t.userId,void 0,t.channelId))break};return s.Z.subscribe("PRESENCE_UPDATES",o),s.Z.subscribe("VOICE_STATE_UPDATES",c),()=>{s.Z.unsubscribe("PRESENCE_UPDATES",o),s.Z.unsubscribe("VOICE_STATE_UPDATES",c),null!=l.current&&(window.clearTimeout(l.current),l.current=null)}},[n]),e}(),P=i.useRef(null),j=(0,o.Yzy)(T,{keys:e=>{var t,n,r;return null!=e?null!=e.voiceChannel?"".concat(e.user.id,"-voice-").concat(e.voiceChannel.id):"".concat(e.user.id,"-").concat(null==(t=e.activity)?void 0:t.state,":").concat(null==(n=e.activity)?void 0:n.details,":").concat(null==(r=e.activity)?void 0:r.name):"none"},from:{opacity:0,transform:"translateY(32px)"},enter:{opacity:1,transform:"translateY(0px)"},leave:{opacity:0,transform:"translateY(-32px)"},config:{tension:300,friction:30}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:v.container,children:j((e,t)=>null==t?null:(0,r.jsx)(h.Z,{targetElementRef:P,position:"bottom",align:"left",userId:t.user.id,children:n=>{var i;return(0,r.jsxs)(l.animated.div,S(C({ref:P,className:v.activityWrapper,style:e},n),{children:[(0,r.jsx)(o.Text,{variant:"text-xs/semibold",children:null!=(i=t.user.globalName)?i:t.user.username}),null!=t.voiceChannel?(0,r.jsx)(u.Z,{channel:t.voiceChannel,textVariant:"text-xs/medium",textClassName:v.statusText}):(0,r.jsx)(c.Z,{activity:t.activity,textVariant:"text-xs/medium",textClassName:v.statusText})]}))}}))}),(0,r.jsx)(E.Or,{popoutPosition:"bottom",popoutAlign:"left",children:(e,i,l,a)=>(0,r.jsx)(p.JO,S(C({},l),{ref:a,className:t,onClick:e,icon:o.iFz,iconSize:_?N:void 0,"aria-label":I.intl.string(I.t.TdEu5e),tooltip:i?null:I.intl.string(I.t.TdEu5e),selected:i,showBadge:n}))})]})}function T(e){let{className:t}=e,{enableTopNavButton:n}=(0,_.Cq)({location:"friends-button"});return n?(0,r.jsx)(N,{className:t}):null}},935261:function(e,t,n){n.d(t,{Z:()=>m});var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(442837),o=n(481060),s=n(797258),c=n(374129),u=n(639351),d=n(565473),p=n(927923),h=n(388032),f=n(356849);function g(e){let{platform:t}=e;return t===p.YE.XBOX?(0,r.jsx)(u.Z,{className:f.icon}):t===p.YE.PLAYSTATION?(0,r.jsx)(c.Z,{className:f.icon}):null}function m(e){let{voiceState:t,awaitingRemoteSessionInfo:n}=e,i=null!=n?(0,d.y)(n.type):null,c=(0,a.e7)([s.Z],()=>{var e,n;return null==(e=s.Z.getSessionById(null!=(n=null==t?void 0:t.sessionId)?n:""))?void 0:e.clientInfo.os}),u=null!=i?i:c;if(null==u||!p.al.has(u))return null;let m=null!=n,b=m?u===p.YE.XBOX?h.intl.string(h.t.UjA4HR):h.intl.string(h.t.QCw1oa):u===p.YE.XBOX?h.intl.format(h.t["ynEs/f"],{}):h.intl.format(h.t.TZ17Bg,{});return(0,r.jsxs)("div",{className:l()(f.root,m?f.connecting:f.connected),children:[(0,r.jsx)(g,{platform:u}),(0,r.jsx)(o.Text,{color:m?"header-primary":"always-white",variant:"text-xs/medium",children:b})]})}},657030:function(e,t,n){n.d(t,{Z:()=>c}),n(388685);var r=n(570140),i=n(317770),l=n(728345),a=n(91896),o=n(981631);class s extends i.Z{_initialize(){r.Z.subscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}_terminate(){r.Z.unsubscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}destroy(){r.Z.unsubscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}constructor(...e){var t,n;super(...e),t="handlePostConnectionOpen",n=()=>{let e=a.Z.getGameRelationships(),t=new Set;e.values().forEach(e=>{e.type===o.OGo.PENDING_INCOMING&&t.add(e.applicationId)}),l.ZP.fetchApplications(Array.from(t))},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let c=new s},408026:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(570140),i=n(224706),l=n(710845),a=n(77498);let o={};function s(e){let{name:t,hash:n,missingData:r}=e;for(let e of(a.Z.markGameReported(t),r))if("icon"===e){let e=o[t];null!=e&&i.Z.uploadIcon(t,n,e);return}else new l.Z("GameStoreIconManager").log("Could not find missing data key: ".concat(e))}function c(e){let{gameName:t,icon:n}=e;o[t]=n}let u={initialize(){r.Z.subscribe("UNVERIFIED_GAME_UPDATE",s),r.Z.subscribe("GAME_ICON_UPDATE",c)}}},763916:function(e,t,n){n.d(t,{Z:()=>s});var r=n(570140),i=n(812206),l=n(877481),a=n(592745);function o(e){let t,{gameId:n}=e;var o=n;let s=a.Z.launchableGames[o],c=i.Z.getApplication(o);(null!=c?l.Z.isLaunchable(c):l.Z.isGameLaunchable(o)).then(e=>{e!==s&&r.Z.dispatch({type:"GAME_LAUNCHABLE_UPDATE",gameId:o,isLaunchable:e})})}let s={initialize(){r.Z.subscribe("CHECK_LAUNCHABLE_GAME",o)}}},306721:function(e,t,n){n.d(t,{Z:()=>a});var r=n(401430),i=n(283595),l=n(695103);let a={init(){i.Z.whenInitialized(()=>{null!=l.Z.testModeApplicationId&&(0,r.Wt)(l.Z.testModeApplicationId,l.Z.testModeOriginURL)})}}},531551:function(e,t,n){n.d(t,{Z:()=>c}),n(415506);var r=n(570140),i=n(51025),l=n(314897),a=n(804739);function o(){if(!(0,a.Q)())return;let e=l.default.getToken(),t=l.default.getId();if(null==e)throw Error("missing user token");i.S1(e,t)}function s(){i.ob()}let c={init(){r.Z.subscribe("CONNECTION_OPEN",o),r.Z.subscribe("LOGOUT",s)}}},304106:function(e,t,n){n.d(t,{Z:()=>f}),n(953529);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(481060),s=n(55935),c=n(981631),u=n(388032),d=n(776761);let p=e=>{let{IconComponent:t,className:n}=e;return(0,r.jsx)("div",{className:a()(d.iconCircle,n),children:(0,r.jsx)(t,{className:d.icon,color:"currentColor"})})},h=e=>{let{circle:t,smallHeader:n,text:i,className:l}=e;return(0,r.jsxs)("div",{className:a()(d.recommendationReason,l),children:[t,(0,r.jsxs)("div",{className:d.description,children:[null!=n?(0,r.jsx)("div",{className:d.smallHeader,children:n}):null,(0,r.jsx)("div",{className:d.text,children:i})]})]})};class f extends i.Component{render(){let{reason:e,className:t}=this.props;if(e.type===c.AzA.RECENT_RELEASE_DATE)return(0,r.jsx)(h,{className:t,circle:(0,r.jsx)(p,{IconComponent:o.Que}),smallHeader:u.intl.string(u.t.u81aYW),text:(0,s.vc)(e.releaseDate,"LL")});if(e.type===c.AzA.RELEASE_DATE)return(0,r.jsx)(h,{className:t,circle:(0,r.jsx)(p,{IconComponent:o.Que}),smallHeader:u.intl.string(u.t.qpwaNT),text:(0,s.vc)(e.releaseDate,"LL")});if(e.type===c.AzA.EARLY_ACCESS)if(null!=e.releaseDate)return(0,r.jsx)(h,{className:t,circle:(0,r.jsx)(p,{IconComponent:o.d$P,className:d.earlyAccess}),smallHeader:u.intl.string(u.t.HYys0t),text:(0,s.vc)(e.releaseDate,"LL")});else return(0,r.jsx)(h,{className:t,circle:(0,r.jsx)(p,{IconComponent:o.d$P,className:d.earlyAccess}),text:u.intl.string(u.t.HYys0t)});return e.type===c.AzA.FLAVOR_TEXT?(0,r.jsx)(h,{circle:(0,r.jsx)(p,{IconComponent:o.dz2}),text:e.flavorText,className:t}):e.type===c.AzA.HAS_FREE_PREMIUM_CONTENT?(0,r.jsx)(h,{className:t,circle:(0,r.jsx)(p,{IconComponent:o.SrA,className:d.premiumCircle}),text:u.intl.string(u.t.R9SwVl)}):null}}},766219:function(e,t,n){n.d(t,{I:()=>o,s:()=>a});var r=n(823379),i=n(49898),l=n(388032);function a(e){switch(e){case i.GlobalDiscoveryTab.SERVERS:return l.intl.string(l.t["+Anbp6"]);case i.GlobalDiscoveryTab.APPS:return l.intl.string(l.t.bGwCoa);case i.GlobalDiscoveryTab.QUESTS:return l.intl.string(l.t.EcaD4e);default:(0,r.vE)(e)}}function o(e){if(e.startsWith("/discovery/applications"))return i.GlobalDiscoveryTab.APPS;switch(e){case"/discovery/quests":return i.GlobalDiscoveryTab.QUESTS;case"/discovery/servers":return i.GlobalDiscoveryTab.SERVERS;default:return i.GLOBAL_DISCOVERY_DEFAULT_TAB}}},724383:function(e,t,n){n.d(t,{Z:()=>_});var r=n(255367),i=n(73800),l=n(114858),a=n(442837),o=n(252618),s=n(353926),c=n(319443),u=n(106075),d=n(121711),p=n(823379),h=n(571457),f=n(836768),g=n(766219),m=n(49898),b=n(450833);let _=function(){let e=(0,a.e7)([s.Z],()=>s.Z.hasLoadedExperiments),t=f.Z.useField("selectedTab"),n=function(e){switch(e){case m.GlobalDiscoveryTab.SERVERS:return(0,r.jsx)(u.Z,{});case m.GlobalDiscoveryTab.APPS:return(0,r.jsx)(c.default,{});case m.GlobalDiscoveryTab.QUESTS:return(0,r.jsx)(d.Z,{});default:(0,p.vE)(e)}}(t),_=(0,l.TH)();return i.useEffect(()=>{let e=_.pathname,t=(0,g.I)(e);t!==f.Z.getField("selectedTab")&&f.Z.setState({selectedTab:t})},[_.pathname]),i.useEffect(()=>{e&&(0,h.RI)({selectedTab:t})},[t,e]),(0,r.jsxs)("section",{className:b.container,children:[(0,r.jsx)(o.yY,{location:(0,g.s)(t)}),(0,r.jsx)("div",{className:b.dragRegion}),n]})}},175307:function(e,t,n){n.d(t,{u:()=>s});var r=n(255367);n(73800);var i=n(780384),l=n(481060),a=n(410030),o=n(450552);function s(e){let{text:t,onClick:n}=e,s=(0,a.ZP)(),c=(0,i.wj)(s);return(0,r.jsxs)(l.zxk,{size:"medium",color:c?l.Ttl.TRANSPARENT:l.Ttl.WHITE,className:o.button,onClick:n,innerClassName:o.innerButton,children:[(0,r.jsx)(l.Text,{variant:"text-sm/semibold",color:"header-primary",children:t}),(0,r.jsx)(l.Gr1,{size:"sm",color:l.TVs.colors.HEADER_PRIMARY})]})}},135864:function(e,t,n){n.d(t,{Z:()=>N});var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(636977),s=n(481060),c=n(456100),u=n(930446),d=n(31569),p=n(258971),h=n(164991),f=n(859921),g=n(220068),m=n(626135),b=n(836768),_=n(766219),E=n(749681),O=n(49898),y=n(981631),I=n(46140),v=n(388032),C=n(444657);function S(e){let{tab:t}=e,{enabled:n}=c.c.useExperiment({location:"GlobalDiscoverySidebar"},{autoTrackExposure:!0}),l=b.Z.useField("selectedTab"),v=i.useMemo(()=>(function(e,t){switch(e){case O.GlobalDiscoveryTab.SERVERS:return(0,r.jsx)(s.QTo,{color:"currentColor"});case O.GlobalDiscoveryTab.APPS:return t?(0,r.jsx)(s.iWm,{color:"currentColor"}):(0,r.jsx)(s.jje,{color:"currentColor"});case O.GlobalDiscoveryTab.QUESTS:return(0,r.jsx)(s.qDn,{color:"currentColor"})}})(t,n),[t,n]),S=i.useMemo(()=>(0,_.s)(t),[t]),N=l===t,T=i.useCallback(()=>{switch(t){case O.GlobalDiscoveryTab.QUESTS:return N&&g.Z.resetState(),m.default.track(y.rMx.DISCOVERY_QUEST_TAB_CLICKED,{client_ad_session_id:(0,u.Gy)().uuid}),(0,E.transitionToGlobalDiscovery)({tab:O.GlobalDiscoveryTab.QUESTS,location:I.dr.DISCOVERY_SIDEBAR,questContent:o.j.DISCOVERY_SIDEBAR});case O.GlobalDiscoveryTab.APPS:if(!N)return(0,E.transitionToGlobalDiscovery)({tab:t,newSessionState:{entrypoint:{name:p.xF.GLOBAL_DISCOVERY_SIDEBAR},restorePreviousView:!0}});d.Z.resetState(),(0,E.transitionToGlobalDiscovery)({tab:t});return;case O.GlobalDiscoveryTab.SERVERS:if(!N)return(0,E.transitionToGlobalDiscovery)({tab:t});h.Z.resetState(),f.Z.resetState();return;default:return(0,E.transitionToGlobalDiscovery)({tab:t})}},[t,N]);return(0,r.jsxs)(s.P3F,{onClick:T,className:a()(C.navItem,{[C.selected]:N}),children:[(0,r.jsx)("div",{className:C.navItemIcon,children:v}),(0,r.jsx)(s.Text,{variant:"text-md/medium",color:"none",children:S})]})}let N=function(){return(0,r.jsxs)("div",{className:C.container,children:[(0,r.jsx)("div",{className:C.header,children:(0,r.jsx)(s.X6q,{variant:"text-lg/semibold",children:v.intl.string(v.t["1KqYnp"])})}),(0,r.jsx)("nav",{className:C.nav,children:O.GLOBAL_DISCOVERY_TABS.map(e=>(0,r.jsx)(S,{tab:e},e))})]})}},782738:function(e,t,n){n.d(t,{Z:()=>s});var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(66418);let s=i.memo(function(e){let{className:t}=e;return(0,r.jsx)("div",{className:a()(t,o.cardPlaceholder)})})},371260:function(e,t,n){n.d(t,{Z:()=>d});var r=n(255367),i=n(73800),l=n(524979),a=n(442837),o=n(481060),s=n(607070),c=n(66418);let u={mass:1,tension:600,friction:60,clamp:!0},d=function(e){let{animate:t,state:n,cleanUp:d,children:p}=e,h=(0,a.e7)([s.Z],()=>s.Z.useReducedMotion),f=i.useMemo(()=>!1===t||h?{opacity:1}:n===o.pJH.ENTERED||n===o.pJH.MOUNTED?{from:{opacity:0},to:{opacity:1},config:u}:{from:{opacity:1},to:{opacity:0},config:u,onRest:()=>{d()}},[t,d,h,n]),g=(0,o.q_F)(f);return(0,r.jsx)(l.animated.div,{style:g,className:c.transitionItem,children:p})}},684572:function(e,t,n){n.r(t),n.d(t,{default:()=>o});var r=n(255367);n(73800);var i=n(114858),l=n(8991),a=n(981631);function o(){return(0,r.jsx)(i.AW,{path:a.Z5c.APPLICATION_DIRECTORY,component:l.E})}},8991:function(e,t,n){n.d(t,{E:()=>s}),n(65234),n(111804),n(490233),n(97749),n(388685),n(35282);var r=n(255367);n(73800);var i=n(114858),l=n(979007),a=n(688357),o=n(981631);function s(){let e=new URLSearchParams(location.search),t=e.get("q"),n=e.get("category_id");return e.delete("page"),(0,r.jsxs)(i.rs,{children:[null!=n&&null==t?(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY_SEARCH,to:"".concat(o.Z5c.GLOBAL_DISCOVERY_APPS_CATEGORY("".concat(n)))}):(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY_SEARCH,to:"".concat(o.Z5c.GLOBAL_DISCOVERY_APPS_SEARCH,"?").concat(e.toString())}),(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY_PROFILE_STORE_SKU(":applicationId",":skuId"),to:o.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(":applicationId",":skuId")}),(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(":applicationId",a.c.STORE),to:o.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(":applicationId",l.GlobalDiscoveryAppsSections.STORE)}),(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(":applicationId",a.c.PREMIUM_DEPRECATED),to:o.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(":applicationId",l.GlobalDiscoveryAppsSections.STORE)}),(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY_PROFILE(":applicationId"),to:{pathname:o.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(":applicationId"),search:location.search}}),(0,r.jsx)(i.l_,{path:o.Z5c.APPLICATION_DIRECTORY,to:o.Z5c.GLOBAL_DISCOVERY_APPS})]})}},762692:function(e,t,n){n.d(t,{Z:()=>u}),n(539854);var r=n(544891),i=n(343817),l=n(570140),a=n(900849),o=n(726115),s=n(128449),c=n(981631);let u={fetchSearchResults:async function e(e,t){let{categoryId:n,languageCode:u,offset:d,limit:p,withCounts:h}=t;l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_START",query:e,categoryId:n,languageCode:u});try{let t=await r.tn.get({url:c.ANM.GUILD_DISCOVERY_SEARCH,query:{query:e,category_id:n===s.Hk?null:n,offset:d,limit:p,language_code:u,with_counts:h},oldFormErrors:!0,rejectWithError:!1}),i=t.body.guilds.map(o.Iv),a=t.body.total_count;if(h){var f;let n=[];null==(f=t.body.categories)||f.slice(0,8).forEach(e=>{let{id:t,count:r}=e;n.push([Number(t),r])}),l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS",query:e,categoryCounts:n})}l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_SUCCESS",query:e,categoryId:n,languageCode:u,guilds:i,total:a})}catch(r){let t=new i.Hx(r);a.m9({categoryId:n,error:t,willRequestRetry:!1,isRequestRetry:!1}),h&&l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS",query:e,categoryCounts:[]}),l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_FAILURE",query:e,categoryId:n,languageCode:u,error:r})}},clearSearchResults:function(e){var t;l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_CLEAR",ignoreQueries:null!=(t=null==e?void 0:e.ignoreQueries)?t:[]})},resetSearchLayout:function(){l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_LAYOUT_RESET"})}}},331114:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r,i=n(442837),l=n(570140),a=n(881052);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s=new Map;class c{handleSearchCountStart(){this.error=null,this.isFetching=!0}handleSearchCountSuccess(e){this.counts=e,this.isFetching=!1,this.isInitialFetchComplete=!0}handleSearchCountFailure(e){this.error=new a.Hx(e),this.isFetching=!1}constructor(){o(this,"isInitialFetchComplete",!1),o(this,"isFetching",!1),o(this,"error",null),o(this,"counts",null)}}function u(e){var t;let n=null!=(t=s.get(e))?t:new c;return s.set(e,n),n}function d(e,t){let n=s.get(e);return null!=n?t(n):null}class p extends(r=i.ZP.Store){getIsInitialFetchComplete(e){return d(e,e=>e.isInitialFetchComplete)}getIsFetchingCounts(e){return d(e,e=>e.isFetching)}getCounts(e){return d(e,e=>e.counts)}}o(p,"displayName","GlobalDiscoveryServersSearchCountStore");let h=new p(l.Z,{CONNECTION_OPEN:function(){s.clear()},GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_START:function(e){let{query:t}=e;u(t).handleSearchCountStart()},GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS:function(e){let{query:t,categoryCounts:n}=e;u(t).handleSearchCountSuccess(n)},GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_FAILURE:function(e){let{query:t,error:n}=e;u(t).handleSearchCountFailure(n)},GLOBAL_DISCOVERY_SERVERS_SEARCH_CLEAR:function(e){let{ignoreQueries:t}=e,n=new Set(t);s.forEach((e,t)=>{n.has(t)||s.delete(t)})}})},537883:function(e,t,n){n.d(t,{Z:()=>h});var r,i,l,a=n(442837),o=n(570140),s=n(331114),c=n(356164);let u=[];function d(){u=[]}class p extends(l=a.ZP.Store){initialize(){this.waitFor(s.Z,c.Z)}getVisibleTabs(){return u}}i="GlobalDiscoveryServersSearchLayoutStore",(r="displayName")in p?Object.defineProperty(p,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):p[r]=i;let h=new p(o.Z,{CONNECTION_OPEN:d,GLOBAL_DISCOVERY_SERVERS_SEARCH_LAYOUT_RESET:d,GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS:function(e){let{query:t}=e,n=s.Z.getCounts(t);if(null==n)return!1;u=n}})},959165:function(e,t,n){n.d(t,{Z:()=>u}),n(388685),n(781311);var r=n(900849),i=n(762692),l=n(331114),a=n(356164),o=n(164991);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{}let u=new class extends c{constructor(...e){super(...e),s(this,"loadMoreCategoryResults",async e=>{let{query:t,categoryId:n,languageCode:l,offset:o}=e;!a.Z.getIsFetching({query:t,categoryId:n,languageCode:l})&&a.Z.getIsInitialFetchComplete({query:t,categoryId:n,languageCode:l})&&(r.qn({withCounts:!1,offset:o}),await i.Z.fetchSearchResults(t,{categoryId:n,languageCode:l,offset:o,limit:12,withCounts:!1}))}),s(this,"loadCategoryResults",async e=>{let{query:t,categoryId:n,languageCode:l}=e,o=a.Z.getIsFetching({query:t,categoryId:n,languageCode:l}),s=a.Z.getIsInitialFetchComplete({query:t,categoryId:n,languageCode:l});o||s||(r.qn({withCounts:!1,offset:0}),await i.Z.fetchSearchResults(t,{categoryId:n,languageCode:l,offset:0,limit:12,withCounts:!1}))}),s(this,"loadCategoryResultsAndCounts",async e=>{let{query:t,loadId:n,categoryId:a,languageCode:s}=e;if(""===t.trim())return;let c=l.Z.getIsFetchingCounts(t),u=l.Z.getIsFetchingCounts(t);c||u||(o.Z.setState({fetchedQuery:t,resultsQuery:""}),r.tI(n,a),r.qn({withCounts:!0,offset:0}),await i.Z.fetchSearchResults(t,{categoryId:a,languageCode:s,offset:0,limit:12,withCounts:!0}),o.Z.setState({resultsQuery:t}))})}}},164991:function(e,t,n){n.d(t,{Z:()=>l});var r=n(972959);let i=Object.freeze({query:"",languageCode:null,categoryId:n(128449).Hk,fetchedQuery:"",resultsQuery:"",resultsInitialCategoryId:null,scrollPosition:null}),l=(0,r.H)(()=>i)},444324:function(e,t,n){n.d(t,{Z:()=>l}),n(388685);var r=n(900849);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{markAsSeen(e,t,n){this.categoryId!==e&&(this.categoryId=e,this.flushSeenGuilds(n)),this.guildIds.add(t)}flushSeenGuilds(e){this.guildIds.size>0&&(r.Az(e,Array.from(this.guildIds)),this.guildIds.clear())}constructor(e){i(this,"guildIds",new Set),i(this,"categoryId",void 0),this.categoryId=e}}},783393:function(e,t,n){n.d(t,{E:()=>o}),n(388685);var r=n(442837),i=n(526429),l=n(128449),a=n(388032);function o(e){let{categoryId:t}=e;return(0,r.e7)([i.Z],()=>(function(e){let[t]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[i.Z];return e===l.Hk?a.intl.string(a.t.Omu0fX):t.getCategoryName(e)})(t,[i.Z]))}},294330:function(e,t,n){n.d(t,{Eo:()=>A,VD:()=>P,ZP:()=>Z}),n(388685),n(953529);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(622535),c=n(481060),u=n(239091),d=n(410030),p=n(686546),h=n(540059),f=n(66637),g=n(782738),m=n(371260),b=n(372769),_=n(134432),E=n(768581),O=n(356164),y=n(826946),I=n(981631),v=n(388032),C=n(727615),S=n(129512),N=n(330065),T=n(755386);function P(e){let{guild:t,onClick:l,onView:o}=e,g=(0,h.Q3)("BaseGlobalDiscoveryServersCard"),[m,O]=i.useState(!1),[P,j]=i.useState(!1),[A,Z]=i.useState(!1),x=i.useRef(null),L=i.useCallback(async()=>{j(!0);try{await l(t.id)}finally{j(!1)}},[t.id,l]),w=i.useCallback(e=>{e&&!m&&(O(!0),null==o||o(t.id))},[t.id,m,o]),R=i.useCallback(e=>{(0,u.jW)(e,async()=>{let{default:e}=await n.e("88560").then(n.bind(n,858523));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={guild:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},[t]),D=(0,d.ZP)(),k=t.features.has(I.oNc.HUB),M=i.useMemo(()=>{let e=E.ZP.getGuildDiscoverySplashURL({id:t.id,splash:t.discoverySplash,size:300*(0,_.x_)()});if(null!=e)return e;if(k)return T;switch(D){case I.BRd.DARK:return S;case I.BRd.LIGHT:return N}},[t.discoverySplash,t.id,k,D]),U=g?48:40,G=i.useMemo(()=>E.ZP.getGuildIconURL({id:t.id,icon:t.icon,size:U}),[t.icon,t.id,U]);return(0,r.jsxs)("div",{className:C.container,children:[P&&(0,r.jsx)("div",{className:C.spinnerContainer,children:(0,r.jsx)(c.$jN,{type:c.$jN.Type.PULSING_ELLIPSIS,className:C.spinner})}),(0,r.jsx)(s.$,{innerRef:x,onChange:w,active:!m,threshold:.55,children:(0,r.jsxs)(f.Z,{ref:x,className:C.card,onClick:L,disabled:P,onContextMenu:R,"aria-label":v.intl.string(v.t["M9wQ+f"]),children:[(0,r.jsxs)("div",{className:C.header,children:[(0,r.jsx)("div",{className:a()(C.banner,{[C.loaded]:A}),children:(0,r.jsx)("img",{src:M,alt:"",className:C.bannerImage,onLoad:()=>Z(!0)})}),(0,r.jsx)(y.Z,{className:C.maximizeIcon,guildId:t.id}),(0,r.jsx)("div",{className:C.icon,children:(0,r.jsx)(p.ZP,{mask:p.ZP.Masks.SQUIRCLE,width:U+8,height:U+8,children:(0,r.jsx)("div",{className:C.iconMask,children:(0,r.jsx)(p.ZP,{mask:p.ZP.Masks.SQUIRCLE,width:U,height:U,children:(0,r.jsx)("img",{src:G,alt:"",className:C.avatar})})})})})]}),(0,r.jsxs)("div",{className:C.guildDetails,children:[(0,r.jsxs)("div",{className:C.title,children:[(0,r.jsx)(b.Z,{className:C.guildBadge,guild:t,tooltipColor:c.ua7.Colors.PRIMARY}),(0,r.jsx)(c.X6q,{variant:"heading-md/semibold",className:C.guildName,children:t.name})]}),(0,r.jsx)(c.Text,{className:C.description,variant:"text-sm/normal",color:"header-secondary",children:t.description}),(0,r.jsxs)("div",{className:C.memberDetails,children:[null!=t.presenceCount&&(0,r.jsxs)("div",{className:C.memberDetailsCount,children:[(0,r.jsx)("div",{className:C.presenceCountDot}),(0,r.jsx)(c.Text,{className:C.memberDetailsText,variant:"text-xs/normal",color:"header-secondary",children:v.intl.format(v.t["LC+S+v"],{membersOnline:t.presenceCount})})]}),null!=t.memberCount&&(0,r.jsxs)("div",{className:C.memberDetailsCount,children:[(0,r.jsx)("div",{className:C.memberCountDot}),(0,r.jsx)(c.Text,{className:C.memberDetailsText,variant:"text-xs/normal",color:"header-secondary",children:v.intl.format(v.t.zRl6XV,{count:t.memberCount})})]})]})]})]})})]})}function j(e){let{guildId:t,onClick:n,onView:i}=e,l=(0,o.e7)([O.Z],()=>O.Z.getGuild(t));return null==l?null:(0,r.jsx)(P,{guild:l,onClick:n,onView:i})}function A(e){let{guildId:t,index:n,onClick:l,onView:a}=e,o=i.useRef(null==t),s=i.useCallback((e,t,n,i)=>null==t.guildId?(0,r.jsx)(m.Z,{state:n,cleanUp:i,children:(0,r.jsx)(g.Z,{className:C.placeholder})},e):(0,r.jsx)(m.Z,{state:n,cleanUp:i,animate:o.current,children:(0,r.jsx)(j,{guildId:t.guildId,onClick:l,onView:a})},e),[l,a]),u=i.useCallback(e=>{var t;return null!=(t=e.guildId)?t:"".concat(e.index)},[]),d=i.useMemo(()=>[{guildId:t,index:n}],[t,n]);return(0,r.jsx)("div",{className:C.transitionGroup,children:(0,r.jsx)(c.W3x,{items:d,renderItem:s,getItemKey:u})})}let Z=i.memo(j)},590771:function(e,t,n){n.d(t,{Z:()=>m});var r=n(255367),i=n(73800),l=n(442837),a=n(571457),o=n(823379),s=n(275131),c=n(356164),u=n(726115),d=n(962486),p=n(149788),h=n(128449);function f(e){let{onScroll:t,onGuildCardSeen:n,onGuildCardClick:a}=e,o=(0,l.e7)([c.Z],()=>{var e;return null!=(e=c.Z.getGuildIds({categoryId:h.Hk}))?e:h.q5}),u=(0,l.e7)([c.Z],()=>{var e;return null==(e=c.Z.getIsFetching({categoryId:h.Hk}))||e});return i.useEffect(()=>{s.Z.fetchFeaturedGuilds()},[]),(0,r.jsx)(d.Z,{tab:h.vf.FEATURED,guildIds:o,loading:u,onScroll:t,onGuildCardSeen:n,onGuildCardClick:a})}function g(e){let{tab:t,onScroll:n,onGuildCardSeen:a,onGuildCardClick:o}=e,p=(0,u.lg)(t),f=(0,l.e7)([c.Z],()=>{var e;return null!=(e=c.Z.getGuildIds({categoryId:p}))?e:h.q5}),g=(0,l.e7)([c.Z],()=>{var e;return null==(e=c.Z.getIsFetching({categoryId:p}))||e});return i.useEffect(()=>{s.Z.fetchCategoryFeaturedGuilds({categoryId:p})},[p]),(0,r.jsx)(d.Z,{tab:t,guildIds:f,loading:g,onScroll:n,onGuildCardSeen:a,onGuildCardClick:o})}function m(e){let{selectedTab:t,onScroll:n,onGuildCardSeen:l,onGuildCardClick:s}=e;switch(i.useEffect(()=>{let e=(0,u.lg)(t);(0,a.kR)({selectedCategoryId:e})},[t]),t){case h.vf.FEATURED:return(0,r.jsx)(f,{tab:t,onScroll:n,onGuildCardClick:s,onGuildCardSeen:l});case h.vf.GAMING:case h.vf.MUSIC:case h.vf.ENTERTAINMENT:case h.vf.TECH:case h.vf.EDUCATION:return(0,r.jsx)(g,{tab:t,onScroll:n,onGuildCardClick:s,onGuildCardSeen:l},t);case h.vf.HUBS:return(0,r.jsx)(p.Z,{onScroll:n});default:(0,o.vE)(t)}}},106075:function(e,t,n){n.d(t,{Z:()=>C}),n(781311);var r=n(255367),i=n(73800),l=n(481060),a=n(114851),o=n(88693),s=n(611928),c=(n(763433),n(922122)),u=n(680180),d=n(164991),p=n(444324),h=n(726115),f=n(859921),g=n(750910),m=n(28494),b=n(29086),_=n(590771),E=n(273596),O=n(128449),y=n(49898),I=n(388032),v=n(398075);function C(){let e=i.useRef((0,h.PM)()),{onScroll:t,scrollPosition:n,resetScrollPosition:C}=(0,a.M)(),{tabs:S,selectedTab:N,setSelectedTab:T}=(0,b.Y)(),P=(0,h.lg)(N),j=!O.MU.has(N),{searchQuery:A,onSearchTextChange:Z,onClearSearch:x,onSearchSubmit:L,isSearchVisible:w}=(0,m.H)({loadId:e.current}),R=f.Z.useField("searchBarState"),{onTabsAvailableWidthChange:D,onCollapsedSearchBarClick:k,onSearchBarBlur:M,tabsClassName:U}=(0,o.U)({isSearchBarVisible:j,isSearchBarEmpty:""===A.trim(),searchBarState:R,setSearchBarState:e=>f.Z.setState({searchBarState:e})}),G=d.Z.useField("fetchedQuery"),V=i.useCallback(e=>{T(e),w&&x()},[w,x,T]),B=i.useMemo(()=>w?S.filter(e=>{let{id:t}=e;return!O.MU.has(t)}):S,[S,w]),H=i.useRef(new p.Z(P)),{onGuildCardSeen:F,onGuildCardClick:z}=(0,g.H)({guildDiscoveryCardSeenManager:H.current,loadId:e.current});return i.useEffect(()=>{H.current.flushSeenGuilds(e.current)},[P]),i.useEffect(()=>{C()},[N,C]),i.useEffect(()=>{w||d.Z.setState({scrollPosition:null})},[w]),(0,r.jsxs)("div",{className:v.container,children:[(0,r.jsxs)(s.ZP,{variant:w?s._6.RELATIVE:s._6.OVERLAY,children:[!w&&(0,r.jsx)(s.z6,{scrollPosition:n}),w?(0,r.jsx)(s.Cm,{icon:l.j9r,onClick:x}):(0,r.jsx)(s.aV,{icon:l.QTo}),!w&&(0,r.jsx)(c.Z,{className:U,tabs:B,selectedTab:w?null:N,onTabSelect:V,onAvailableWidthChange:D}),w&&(0,r.jsx)(l.X6q,{variant:"heading-lg/semibold",color:"header-primary",className:v.searchResultsHeader,children:I.intl.format(I.t.zHdzqa,{query:G})}),j&&(0,r.jsx)(u.Z,{query:A,placeholder:I.intl.string(I.t["5h0QOD"]),onTextChange:Z,onClear:x,onSubmit:L,onCollapsedClick:k,state:w?y.GlobalDiscoverySearchBarState.DEFAULT:R,onBlur:M})]}),w?(0,r.jsx)(E.Z,{loadId:e.current,onGuildCardClick:z,onGuildCardSeen:F}):(0,r.jsx)(_.Z,{selectedTab:N,onScroll:t,onGuildCardClick:z,onGuildCardSeen:F})]})}},826946:function(e,t,n){n.d(t,{Z:()=>s});var r=n(255367),i=n(73800),l=n(481060),a=n(857395),o=n(104102);let s=function(e){let{className:t,guildId:n}=e,s=i.useRef(null),c=i.useCallback((e,t)=>{e.stopPropagation(),t.onClick(e)},[]);return(0,r.jsx)(a.Z,{guildId:n,position:"left",targetElementRef:s,children:e=>{var n,i;return(0,r.jsx)(l.P3F,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={innerRef:s,className:t,onClick:t=>c(t,e),children:(0,r.jsx)("div",{className:o.icon,children:(0,r.jsx)(l.bJT,{size:"xs",color:"currentColor"})})},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})}},273596:function(e,t,n){n.d(t,{Z:()=>j}),n(388685),n(415506);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(481060),u=n(393903),d=n(626135),p=n(823379),h=n(900849),f=n(356164),g=n(164991),m=n(726115),b=n(28494),_=n(746728),E=n(140700),O=n(665807),y=n(188493),I=n(294330),v=n(981631),C=n(984503);let S=Object.freeze({top:0,bottom:0,left:32,right:202}),N=Object.freeze({top:0,bottom:0,left:32,right:32}),T={page:v.ZY5.GUILD_DISCOVERY,object:v.qAy.CARD,section:v.jXE.DISCOVER_SEARCH},P=s().throttle(h.c6,1e3,{leading:!1,trailing:!0});function j(e){let{loadId:t,onGuildCardSeen:n,onGuildCardClick:l}=e,{guildIds:s,loading:h,searchResultsQuery:v,loadMore:j,searchCategoryId:A}=(0,b.f)({loadId:t}),Z=0===s.length&&!h,x=i.useContext(d.AnalyticsContext),[L,w]=i.useState((0,m.PM)()),[R,D]=i.useState(!0),k=i.useRef(R),[M,U]=i.useState(3),G=i.useRef(M),V=i.useRef(null),B=i.useCallback(e=>{if(null!=e&&!Z&&!h)336*(s.length/M)<=e.height&&j()},[Z,h,s.length,M,j]),H=i.useCallback(e=>{let t=e.contentRect;if(null==t)return;let n=t.width;n<1024&&k.current?(k.current=!1,D(!1)):n>1024&&!k.current&&(k.current=!0,D(!0));let r=1;for(n-=450*!!R,n-=280;n>0;)n-=264,r+=1;r!==G.current&&(G.current=r,U(r)),B(t)},[R,B]),F=(0,u.y)(H,[R,B]);i.useEffect(()=>{w((0,m.PM)())},[v]),i.useEffect(()=>{P({loadId:t,searchId:L,query:v,guildResults:s.map(f.Z.getGuild).filter(p.lm),analyticsContext:x,categoryId:A})},[x,s,t,A,L,v]);let z=i.useCallback(e=>n(e,A),[n,A]),W=i.useMemo(()=>h?[s.length,0]:[s.length],[s.length,h]),Y=i.useCallback((e,n,i)=>{switch(e){case 0:return(0,r.jsxs)("div",{style:{paddingLeft:n.left,width:n.width-16},className:a()(C.heading,{[C.headingTopbar]:!R}),children:[!R&&(0,r.jsxs)("div",{className:C.headingFilters,children:[(0,r.jsx)(E.Z,{loadId:t}),(0,r.jsx)(y.Z,{loadId:t})]}),Z&&(0,r.jsx)(O.Z,{loadId:t})]},i);case 1:return(0,r.jsx)(c.$jN,{className:a()(C.spinner,{[C.spinnerWithSidebar]:R})},i)}},[Z,R,t]),K=i.useCallback(e=>{switch(e){case 0:let t=R?16:50;return Z?t+448:t;case 1:return 120;default:throw Error("[getSectionHeight] Failed for section: ".concat(e))}},[Z,R]),q=i.useCallback((e,t)=>{switch(e){case 0:return s[t];case 1:return"loading";default:throw Error("[getItemKey] Failed for section: ".concat(e))}},[s]),Q=i.useCallback(e=>{switch(e){case 0:return 320;case 1:return 0;default:throw Error("[getItemHeight] Failed for section: ".concat(e))}},[]),X=i.useCallback(async(e,t,n,r)=>{var i,a;await l(e,t,n,r);let o=null==(a=V.current)||null==(i=a.getScrollerState())?void 0:i.scrollTop;null!=o&&g.Z.setState({scrollPosition:o})},[l]),J=i.useCallback((e,t,n,i)=>{if(0!==e)return null;{let e=s[t];return(0,r.jsx)("div",{style:n,children:(0,r.jsx)(I.ZP,{guildId:e,onClick:async e=>await X(e,t,A,T),onView:e=>z(e)})},i)}},[s,X,z,A]);i.useEffect(()=>{let e=V.current;return()=>{var t;let n=null==e||null==(t=e.getScrollerState())?void 0:t.scrollTop;null!=n&&g.Z.setState({scrollPosition:n})}},[]),i.useLayoutEffect(()=>{let e=g.Z.getField("scrollPosition");null!=e&&setTimeout(()=>{var t;null==(t=V.current)||t.scrollTo({to:e,animate:!1,callback:()=>{g.Z.setState({scrollPosition:null})}})})},[]);let $=i.useMemo(()=>(0,o.debounce)(()=>{var e;let t=null==(e=V.current)?void 0:e.getScrollerState();if(null==t)return;let n=t.scrollTop+t.offsetHeight;t.scrollHeight-n<240&&j()},100,{leading:!0}),[j]),ee=R?S:N;return(0,r.jsx)("div",{className:C.container,ref:F,children:(0,r.jsx)(c.GMG,{ref:V,className:C.masonryList,sections:W,columns:M,itemGutter:16,padding:ee,renderItem:J,renderSection:Y,getSectionHeight:K,getItemKey:q,getItemHeight:Q,chunkSize:24,onScroll:$,renderAccessory:e=>R?(0,r.jsx)("div",{className:C.sidebar,style:{height:e},children:(0,r.jsxs)("div",{className:C.sidebarContent,children:[(0,r.jsx)("div",{className:C.sidebarLanguageSelect,children:(0,r.jsx)(y.Z,{loadId:t})}),(0,r.jsx)(_.Z,{loadId:t})]})}):null})})}},750910:function(e,t,n){n.d(t,{H:()=>l});var r=n(73800),i=n(726115);function l(e){let{guildDiscoveryCardSeenManager:t,loadId:n}=e,l=r.useCallback((e,r)=>{t.markAsSeen(r,e,n)},[t,n]),a=r.useCallback((e,t,r,l)=>(0,i.vL)({loadId:n,guildId:e,index:t,categoryId:r,analyticsLocation:l}),[n]);return r.useMemo(()=>({onGuildCardSeen:l,onGuildCardClick:a}),[a,l])}},28494:function(e,t,n){n.d(t,{H:()=>f,f:()=>h}),n(781311);var r=n(73800),i=n(442837),l=n(900849),a=n(762692),o=n(959165),s=n(356164),c=n(164991),u=n(456268),d=n(859921),p=n(128449);function h(e){let{loadId:t}=e,n=c.Z.useField("fetchedQuery"),l=c.Z.useField("categoryId"),a=c.Z.useField("languageCode"),u=r.useMemo(()=>({categoryId:l,query:n,languageCode:a}),[l,a,n]),d=(0,i.e7)([s.Z],()=>{var e;return null!=(e=s.Z.getGuildIds(u))?e:p.q5}),h=(0,i.e7)([s.Z],()=>{var e;return null!=(e=s.Z.getIsFetching(u))&&e}),f=c.Z.useField("resultsQuery"),g=f!==n,m=r.useCallback(()=>{let e=s.Z.getGuildIds(u),n=s.Z.getTotal(u);if(null==e||null==n)return;let r=s.Z.getIsFetching(u),i=s.Z.getIsInitialFetchComplete(u);r||!i||e.length>=n||o.Z.loadMoreCategoryResults({loadId:t,offset:e.length,categoryId:c.Z.getField("categoryId"),query:c.Z.getField("fetchedQuery"),languageCode:c.Z.getField("languageCode")})},[t,u]);return r.useMemo(()=>({guildIds:d,loading:g||h,searchResultsQuery:f,loadMore:m,searchCategoryId:l}),[d,g,h,f,m,l])}function f(e){let{loadId:t}=e,n=d.Z.useField("isSearchVisible"),i=c.Z.useField("query");r.useEffect(()=>{(0,u.le)()},[]);let s=r.useCallback(e=>{c.Z.setState({query:e})},[]);return{searchQuery:i,onSearchTextChange:s,onClearSearch:r.useCallback(()=>{l.IZ(t),a.Z.clearSearchResults(),a.Z.resetSearchLayout(),c.Z.setState({query:"",fetchedQuery:"",resultsQuery:"",categoryId:p.Hk,resultsInitialCategoryId:null,scrollPosition:null}),d.Z.setState({isSearchVisible:!1})},[t]),onSearchSubmit:r.useCallback(()=>{let e=c.Z.getField("query"),n=c.Z.getField("fetchedQuery");if(""===e.trim()||e===n)return;a.Z.clearSearchResults();let r=c.Z.getField("languageCode"),i=c.Z.getField("categoryId");c.Z.setState({resultsInitialCategoryId:i}),d.Z.setState({isSearchVisible:!0}),o.Z.loadCategoryResultsAndCounts({loadId:t,categoryId:i,query:e,languageCode:r})},[t]),isSearchVisible:n}}},112471:function(e,t,n){n.d(t,{q:()=>c}),n(388685),n(539854),n(290780);var r=n(73800),i=n(442837),l=n(537883),a=n(356164),o=n(164991),s=n(128449);function c(){let e=o.Z.useField("fetchedQuery"),t=o.Z.useField("resultsInitialCategoryId"),n=o.Z.useField("languageCode"),c=(0,i.e7)([a.Z],()=>{if(null==t)return 0;let r=a.Z.getTotal({categoryId:t,query:e,languageCode:n});return null!=r?r:0}),u=(0,i.e7)([a.Z],()=>{let t=a.Z.getTotal({categoryId:s.Hk,query:e,languageCode:n});return null!=t?t:0}),d=(0,i.e7)([l.Z],()=>l.Z.getVisibleTabs());return r.useMemo(()=>{if(null==d)return null;if(null==t)return d;let e=[],n=new Set;for(let[t,r]of d)n.add(t),e.push([t,r]);let r=!1;return n.has(s.Hk)||(n.add(s.Hk),e.unshift([s.Hk,u]),r=!0),n.has(t)||(n.add(t),e.push([t,c]),r=!0),r?e:d},[d,t,u,c])}},29086:function(e,t,n){n.d(t,{Y:()=>o});var r=n(73800),i=n(726115),l=n(859921),a=n(128449);function o(){let e=l.Z.useField("selectedTab"),t=r.useMemo(()=>[a.vf.FEATURED,a.vf.GAMING,a.vf.MUSIC,a.vf.ENTERTAINMENT,a.vf.TECH,a.vf.EDUCATION,a.vf.HUBS].map(e=>({id:e,label:(0,i.vb)(e)})),[]),n=r.useCallback(e=>{l.Z.setState({selectedTab:e})},[]);return r.useEffect(()=>{null!=e&&t.some(t=>t.id===e)||n(t[0].id)},[e,t,n]),{tabs:t,selectedTab:null!=e?e:t[0].id,setSelectedTab:n}}},746728:function(e,t,n){n.d(t,{I:()=>f,Z:()=>m}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(481060),s=n(706454),c=n(959165),u=n(164991),d=n(783393),p=n(112471),h=n(384506);function f(e){let{categoryId:t,loadId:n}=e;u.Z.setState({categoryId:t}),c.Z.loadCategoryResults({loadId:n,categoryId:t,query:u.Z.getField("fetchedQuery"),languageCode:u.Z.getField("languageCode")})}function g(e){let{loadId:t,categoryId:n,count:l}=e,c=i.useCallback(()=>{f({categoryId:n,loadId:t})},[n,t]),p=u.Z.useField("categoryId")===n,g=l.toLocaleString(s.default.locale),m=(0,d.E)({categoryId:n});return(0,r.jsxs)(o.P3F,{onClick:c,className:a()(h.category,{[h.selected]:p}),children:[(0,r.jsx)(o.Text,{className:h.name,variant:"text-sm/medium",color:"header-primary",children:m}),(0,r.jsx)(o.Text,{className:h.count,variant:"text-sm/normal",color:"text-muted",children:g})]})}let m=function(e){let{loadId:t}=e,n=(0,p.q)();return null==n?null:(0,r.jsx)("div",{className:h.categories,children:n.map(e=>{let[n,i]=e;return(0,r.jsx)(g,{loadId:t,categoryId:n,count:i},n)})})}},140700:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r=n(255367),i=n(73800),l=n(481060),a=n(89182),o=n(164991),s=n(783393),c=n(112471),u=n(746728),d=n(388032),p=n(882375);function h(e){let{count:t,categoryId:n}=e,i=(0,s.E)({categoryId:n});return(0,r.jsx)(a.iG,{count:t,name:i})}function f(e){let{loadId:t}=e,n=o.Z.useField("categoryId"),f=(0,c.q)(),g=(0,s.E)({categoryId:n}),m=i.useCallback(e=>{(0,u.I)({loadId:t,categoryId:Number(e)})},[t]),b=i.useMemo(()=>null==f?[]:f.map(e=>{let[t,n]=e;return{id:"".concat(t),label:(0,r.jsx)(h,{categoryId:t,count:n})}}),[f]);return null==f?null:(0,r.jsxs)("div",{className:p.container,children:[(0,r.jsx)(l.Text,{variant:"text-sm/medium",color:"text-secondary",children:d.intl.string(d.t.f09BQE)}),(0,r.jsx)(a.ZP,{items:b,title:g,onSelect:m,selected:"".concat(n),"aria-label":d.intl.string(d.t.Ng5cTE),variant:a.PA.FILLED})]})}},665807:function(e,t,n){n.d(t,{Z:()=>f});var r=n(255367),i=n(73800),l=n(442837),a=n(481060),o=n(959165),s=n(164991),c=n(526429),u=n(128449),d=n(388032),p=n(30754),h=n(882008);let f=function(e){let{loadId:t}=e,n=s.Z.useField("categoryId"),f=(0,l.e7)([c.Z],()=>c.Z.getCategoryName(n)),g=i.useCallback(()=>{s.Z.setState({categoryId:u.Hk}),o.Z.loadCategoryResults({loadId:t,categoryId:u.Hk,query:s.Z.getField("fetchedQuery"),languageCode:s.Z.getField("languageCode")})},[t]),m=n===u.Hk?d.intl.string(d.t.Ivw1Ii):d.intl.formatToPlainString(d.t["+1WAFR"],{categoryName:f}),b=n===u.Hk?d.intl.string(d.t.aXvEjY):d.intl.format(d.t.XLioqq,{onClick:g});return(0,r.jsxs)("div",{className:p.container,children:[(0,r.jsx)("img",{alt:"",src:h,className:p.image}),(0,r.jsx)(a.X6q,{variant:"heading-xl/semibold",className:p.header,children:m}),(0,r.jsx)(a.Text,{variant:"text-md/normal",color:"header-secondary",children:b})]})}},188493:function(e,t,n){n.d(t,{Z:()=>f});var r=n(255367),i=n(73800),l=n(442837),a=n(89182),o=n(706454),s=n(762692),c=n(959165),u=n(164991),d=n(726115),p=n(128449),h=n(388032);function f(e){let{loadId:t}=e,n=(0,l.e7)([o.default],()=>(0,d.Xp)([o.default])),f=u.Z.useField("languageCode"),g=null!=f?f:n,m=i.useCallback(e=>{u.Z.setState({languageCode:e});let n=u.Z.getField("fetchedQuery");s.Z.clearSearchResults({ignoreQueries:[n]}),c.Z.loadCategoryResults({loadId:t,categoryId:u.Z.getField("categoryId"),query:n,languageCode:e})},[t]),b=i.useMemo(()=>(0,p.Cf)().map(e=>({id:e.code,label:e.name})),[]),_=i.useMemo(()=>{var e;let t=(0,p.Cf)().find(e=>e.code===g);return null!=(e=null==t?void 0:t.name)?e:h.intl.string(h.t.LQLMGB)},[g]);return(0,r.jsx)(a.ZP,{items:b,title:_,onSelect:m,selected:g,"aria-label":h.intl.string(h.t.Ng5cTE)})}},962486:function(e,t,n){n.d(t,{Z:()=>g}),n(539854);var r=n(255367),i=n(73800),l=n(481060),a=n(322665),o=n(17845),s=n(374939),c=n(283293),u=n(726115),d=n(294330),p=n(981631),h=n(849781);let f={page:p.ZY5.GUILD_DISCOVERY,object:p.qAy.CARD,section:p.jXE.DISCOVER_POPULAR};function g(e){let{tab:t,guildIds:n,loading:p,onScroll:g,onGuildCardClick:m,onGuildCardSeen:b}=e,_=(0,u.Mf)(t),E=(0,u.a$)(t),O=(0,u.QW)(t),y=(0,u.lg)(t),I=i.useMemo(()=>{let e=p?30:n.length,t=[];for(let a=0;a<e;a++){var i,l;t.push((0,r.jsx)(d.Eo,{guildId:null!=(i=n[a])?i:null,index:a,onClick:e=>m(e,a,y,f),onView:e=>b(e,y)},null!=(l=n[a])?l:a))}return t},[y,n,p,m,b]);return(0,r.jsxs)(c.Z,{onScroll:g,children:[(0,r.jsx)(o.Z,{title:_,description:E,children:(0,r.jsx)(a.Z,{})}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(l.X6q,{className:h.sectionTitle,variant:"heading-lg/semibold",color:"header-primary",children:O}),(0,r.jsx)("div",{className:h.content,children:I})]})]})}},149788:function(e,t,n){n.d(t,{Z:()=>b});var r=n(255367),i=n(73800),l=n(481060),a=n(749210),o=n(322665),s=n(17845),c=n(374939),u=n(283293),d=n(469988),p=n(526383),h=n(294330),f=n(388032),g=n(849781),m=n(795576);let b=function(e){let{onScroll:t}=e,n=(0,p.Z)(),b=i.useMemo(()=>n.map(e=>{var t,n;return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t}),[n]);return(0,r.jsxs)(u.Z,{onScroll:t,children:[(0,r.jsx)(s.Z,{title:f.intl.string(f.t.X5xPlZ),description:f.intl.string(f.t["F/IQCA"]),children:(0,r.jsx)(o.Z,{})}),(0,r.jsxs)(c.Z,{children:[n.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.X6q,{className:g.sectionTitle,variant:"heading-lg/semibold",color:"header-primary",children:f.intl.string(f.t["2DfZIS"])}),(0,r.jsxs)("div",{className:g.content,children:[b.map(e=>(0,r.jsx)(h.VD,{guild:e,onClick:()=>a.Z.transitionToGuildSync(e.id)},e.id)),(0,r.jsx)(d.Z,{hasHub:!0})]})]}):(0,r.jsx)("div",{className:g.content,children:(0,r.jsx)(d.Z,{hasHub:!1})}),(0,r.jsx)("div",{className:m.divider}),(0,r.jsxs)("div",{className:m.disclaimer,children:[(0,r.jsxs)(l.Text,{className:m.text,variant:"text-sm/medium",color:"header-secondary",children:[f.intl.string(f.t.O1k9XV)," "]}),(0,r.jsx)(l.Text,{className:m.text,variant:"text-sm/medium",color:"header-secondary",children:f.intl.string(f.t.FV5dvr)})]})]})]})}},869614:function(e,t,n){n.d(t,{Z:()=>i}),n(388685);let r=new Set(["nvidia"]);function i(e){for(let t of Object.keys(e)){let n=e[t];if(null!=n&&null==n.error&&r.has(t))return!0}return!1}},281083:function(e,t,n){n.d(t,{Z:()=>o}),n(388685);var r=n(209739),i=n.n(r),l=n(358085);let a={[l.PlatformTypes.WINDOWS]:{nvidia:"<=537.58.0 || >=546.31"}};function o(e){let t=a[(0,l.getPlatform)()];if(null==t)return!1;for(let n of Object.keys(e)){let r=e[n],l=t[n];if(null==r||null==l||null!=r.error)continue;let a=function(e){var t,n;return"".concat(null!=(t=e.major)?t:0,".").concat(null!=(n=e.minor)?n:0,".0")}(r);if(!i().satisfies(a,l))return!0}return!1}},672598:function(e,t,n){n.d(t,{Z:()=>o}),n(388685);var r=n(209739),i=n.n(r),l=n(358085);let a={[l.PlatformTypes.WINDOWS]:{nvidia:">=397.93.0"}};function o(e){let t=a[(0,l.getPlatform)()];if(null==t)return!1;for(let n of Object.keys(e)){let r=e[n],l=t[n];if(null==r||null==l||null!=r.error)continue;let a=function(e){var t,n;return"".concat(null!=(t=e.major)?t:0,".").concat(null!=(n=e.minor)?n:0,".0")}(r);if(!i().satisfies(a,l))return!0}return!1}},653255:function(e,t,n){n.d(t,{Z:()=>b});var r,i,l,a=n(442837),o=n(570140),s=n(358085),c=n(998502),u=n(869614),d=n(281083),p=n(672598);let h=!1,f=!0,g=!1;class m extends(l=a.ZP.Store){initialize(){!s.isPlatformEmbedded||__OVERLAY__||c.ZP.getGPUDriverVersions().then(e=>{h=(0,p.Z)(e),f=(0,u.Z)(e),g=(0,d.Z)(e),this.emitChange()})}get GPUDriversOutdated(){return h}get canUseHardwareAcceleration(){return f}get problematicGPUDriver(){return g}getState(){return{GPUDriversOutdated:h,canUseHardwareAcceleration:f,problematicGPUDriver:g}}}i="StreamingCapabilitiesStore",(r="displayName")in m?Object.defineProperty(m,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):m[r]=i;let b=new m(o.Z,{OVERLAY_INITIALIZE:function(e){let{streamingCapabilitiesStoreState:t}=e;h=t.GPUDriversOutdated,f=t.canUseHardwareAcceleration}})},722835:function(e,t,n){n.d(t,{Z:()=>y});var r=n(209739),i=n.n(r),l=n(872810),a=n(579806),o=n(594190),s=n(199902),c=n(592125),u=n(430824),d=n(131951),p=n(496675),h=n(944486),f=n(449224),g=n(358085),m=n(102172),b=n(74299),_=n(299570),E=n(989941),O=n(70722);function y(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!(0,b.Z)(d.Z)||null!=s.Z.getCurrentUserActiveStream())return!1;let t=h.Z.getVoiceChannelId(),n=c.Z.getChannel(t);if(null==n)return!1;let r=n.getGuildId();if(!(0,m.JL)(n,u.Z,p.Z,!1))return!1;if(d.Z.getUseSystemScreensharePicker())(0,g.isMac)()&&i().satisfies(null===a.Z||void 0===a.Z?void 0:a.Z.os.release,O.jR)?(0,_.T)():(0,_.T)("window");else{let t=(0,E.Z)(o.ZP,f.Z);if(null==t||t.isLauncher&&!e)return!1;(0,l.WH)(r,n.id,{pid:t.pid})}return!0}},43740:function(e,t,n){n.d(t,{l:()=>o,y:()=>s});var r=n(97519),i=n(731965);let l=Object.freeze({isPopoutOpen:!1}),a=(0,r.U)(e=>l),o=e=>{(0,i.j)(()=>{a.setState(()=>({isPopoutOpen:e}))})},s=a},501640:function(e,t,n){n.d(t,{Z:()=>s});var r=n(149765),i=n(442837),l=n(984933),a=n(496675),o=n(981631);function s(e){let t=(0,i.e7)([l.ZP],()=>{var t;return null!=(t=l.ZP.getChannels(e)[l.sH])?t:[]},[e]);return 0===t.length?0:t.filter(e=>{let{channel:t}=e;return a.Z.can(r.$e(o.Plq.SEND_MESSAGES,o.Plq.VIEW_CHANNEL),t)}).length}},360453:function(e,t,n){n.d(t,{Z:()=>f});var r=n(255367);n(73800);var i=n(442837),l=n(481060),a=n(949389),o=n(324262),s=n(434404),c=n(899667),u=n(267642),d=n(981631),p=n(388032),h=n(571472);let f=e=>{let{guild:t}=e,n=t.id,f=(0,i.e7)([c.Z],()=>c.Z.getAppliedGuildBoostsForGuild(t.id));return null==f||0>=(0,u._k)(f,n)?null:(0,r.jsx)(o.Z,{guild:t,onDismissed:()=>{(0,a.GO)(n)},onClick:()=>{s.Z.open(n,d.pNK.GUILD_PREMIUM)},message:p.intl.string(p.t.uogVVl),trackingSource:d.PsQ.GRACE_PERIOD_NOTICE,type:d.vID.GUILD_BOOSTING_GRACE_PERIOD,image:h,cta:p.intl.string(p.t["4E1M8P"]),ctaColor:l.Ttl.PRIMARY})}},377743:function(e,t,n){n.d(t,{Z:()=>f});var r=n(255367);n(73800);var i=n(100527),l=n(906732),a=n(324262),o=n(26323),s=n(267642),c=n(981631),u=n(921944),d=n(30513),p=n(388032),h=n(420569);function f(e){let{guild:t,markAsDismissed:n}=e,f=(0,s.KK)(t,c.Eu4.TIER_2),{analyticsLocations:g}=(0,l.ZP)(i.Z.GUILD_BANNER_NOTICE);return(0,r.jsx)(a.Z,{guild:t,onDismissed:()=>n(u.L.UNKNOWN),cta:p.intl.string(p.t["oPAx7+"]),message:p.intl.format(p.t.AcaNY2,{boostsNeeded:f}),type:c.vID.GUILD_BANNER,image:h,onClick:()=>(0,o.Z)({analyticsLocations:g,analyticsSourceLocation:{section:c.jXE.CHANNEL_NOTICE,object:c.qAy.SERVER_BANNER_TOOLTIP},guild:t,perks:(0,d.XO)()}),imageMarginTop:15,imageMarginX:22})}},834743:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r=n(255367),i=n(73800),l=n(442837),a=n(324262),o=n(623624),s=n(650774),c=n(981631),u=n(921944),d=n(388032),p=n(241626);class h extends i.PureComponent{render(){let{guild:e,memberCount:t,markAsDismissed:n}=this.props;return(0,r.jsx)(a.Z,{guild:e,onDismissed:()=>n(u.L.UNKNOWN),onClick:this.handleButtonClick,message:null==t||t<30?d.intl.string(d.t.hlitVV):d.intl.string(d.t.XHtaDA),cta:d.intl.string(d.t["vqb+Hx"]),trackingSource:c.PsQ.GUILD_SUBSCRIPTION_NOTICE,type:c.vID.GUILD_BOOSTING,image:p,imageMarginX:26})}constructor(...e){var t,n;super(...e),t="handleButtonClick",n=()=>{let{guild:e}=this.props;(0,o.f)({guildId:e.id,location:{section:c.jXE.CHANNEL_NOTICE,object:c.qAy.SERVER_STATUS_CTA}})},t in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}}let f=l.ZP.connectStores([s.Z],e=>{let{guild:t}=e;return{memberCount:s.Z.getMemberCount(t.id)}})(h)},596557:function(e,t,n){n.d(t,{Z:()=>g});var r=n(255367),i=n(73800),l=n(704215),a=n(481060),o=n(785697),s=n(626135),c=n(700785),u=n(645041),d=n(981631),p=n(921944),h=n(647086),f=n(135899);function g(e){var t;let g=(0,o.SE)(e),m=f.$X.some(t=>(null==e?void 0:e.id)!==h._&&c.oz(t,e)),b=(null==e?void 0:e.defaultMessageNotifications)===d.bL.ALL_MESSAGES,_=(0,u.FT)(l.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!=(t=null==e?void 0:e.id)?t:d.lds),E=g&&(m||b)&&!_,O=i.useCallback(()=>{var t;(0,u.Qd)(l.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!=(t=null==e?void 0:e.id)?t:d.lds,!0,p.L.DISMISS)},[e]),y=i.useRef(!1);i.useEffect(()=>{if(E&&!y.current){var t;(0,a.ZDy)(async()=>{let{default:t}=await n.e("54597").then(n.bind(n,29022));return n=>(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({guild:e,canEveryoneModerate:m,isDefaultNotificationsAllMessages:b},n))},{onCloseCallback:O}),s.default.track(d.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:l.C[l.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE],guild_id:null!=(t=null==e?void 0:e.id)?t:d.lds}),y.current=!0}},[m,e,O,b,E])}},580079:function(e,t,n){n(539854),n(388685);var r,i,l,a,o=n(392711),s=n.n(o),c=n(442837),u=n(570140),d=n(592125);n(914010);var p=n(709054),h=n(176505);let f={},g={},m={},b={};function _(e){let t=g[e];if(null==t)return;let n=p.default.fromTimestamp(Date.now()-9e5),r=s().findIndex(t,e=>p.default.compare(e.id,n)>0);if(-1===r)g[e]=[];else{let n=Math.max(r,t.length-26);g[e]=s().slice(t,n)}m[e]=Date.now()}function E(e,t,n,r){f[e].add(t);let i=m[t];(null==i||i+3e5>Date.now())&&_(t),null==g[t]&&(g[t]=[]),g[t].push({id:n,userId:r})}function O(e){let{channel:t}=e;delete g[t.id],delete m[t.id]}class y extends(a=c.ZP.Store){getActiveChannelsFetchStatus(e){return b[e]}getActiveChannelIds(e){return f[e]}getChannelMessageData(e){return g[e]}shouldFetch(e){var t;return null==f[e]&&!(null==(t=b[e])?void 0:t.loading)}}l="ActiveChannelsStore",(i="displayName")in(r=y)?Object.defineProperty(r,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[i]=l,new y(u.Z,{CHANNEL_SELECT:function(e){let{channelId:t,guildId:n}=e;if(!(0,h.ME)(t)||null==n)return!1;let r=f[n];if(null==r)return!1;r.forEach(e=>{var t;_(e),(null==(t=g[e])?void 0:t.length)===0&&delete g[e]});let i=s().chain(Array.from(r)).filter(e=>e in g).sortBy(e=>{var t,n;return-(null!=(n=null==(t=g[e])?void 0:t.length)?n:0)}).value();f[n]=new Set(i)},MESSAGE_CREATE:function(e){var t;let{channelId:n,message:r,optimistic:i,isPushNotification:l}=e;if(i||l)return!1;let a=d.Z.getChannel(n);if(null==a)return!1;let o=a.guild_id;if(null==o||null==f[o])return!1;E(o,n,r.id,null==(t=r.author)?void 0:t.id)},GUILD_DELETE:function(e){let{guild:t}=e;delete f[t.id]},CHANNEL_DELETE:O,THREAD_DELETE:O,ACTIVE_CHANNELS_FETCH_START:function(e){let{guildId:t}=e;b[t]={loading:!0,error:null,fetchedAt:Date.now()}},ACTIVE_CHANNELS_FETCH_SUCCESS:function(e){let{guildId:t,channels:n}=e;b[t]={loading:!1,error:null,fetchedAt:Date.now()},f[t]=new Set,n.forEach(e=>{let{channel_id:n,messages:r}=e;r.forEach(e=>{E(t,n,e.message_id,e.user_id)})})},ACTIVE_CHANNELS_FETCH_FAILURE:function(e){let{guildId:t,error:n}=e;b[t]={loading:!1,error:n,fetchedAt:null}},CONNECTION_OPEN:function(){}})},381416:function(e,t,n){n.d(t,{s:()=>o});var r=n(255367);n(73800);var i=n(481060),l=n(388032),a=n(568410);function o(e){let{onDiscardApplication:t,onContinueApplication:n,guild:o}=e;return(0,r.jsxs)("div",{className:a.confirmation,children:[(0,r.jsx)("div",{className:a.iconWrapper,children:(0,r.jsx)(i.Gzi,{size:"md",color:i.TVs.colors.INTERACTIVE_ACTIVE})}),(0,r.jsx)(i.X6q,{variant:"heading-lg/semibold",color:"header-primary",children:null!=o?l.intl.formatToPlainString(l.t.f5Jaw8,{guildName:o.name}):l.intl.string(l.t["0sTyER"])}),(0,r.jsxs)("div",{className:a.incompleteButtonsContainer,children:[(0,r.jsx)(i.zxk,{fullWidth:!0,onClick:n,look:i.zxk.Looks.FILLED,color:i.zxk.Colors.PRIMARY,size:i.zxk.Sizes.LARGE,children:l.intl.string(l.t.h3aGmp)}),(0,r.jsx)(i.zxk,{fullWidth:!0,onClick:t,look:i.zxk.Looks.FILLED,color:i.zxk.Colors.RED,size:i.zxk.Sizes.LARGE,children:l.intl.string(l.t.OQFlFB)})]})]})}},523924:function(e,t,n){n.d(t,{Z:()=>d});var r=n(255367),i=n(73800),l=n(442837),a=n(481060),o=n(693546),s=n(937111),c=n(388032),u=n(568410);let d=e=>{let{headerId:t,reapplyText:n,onReapply:d,confirmText:p,onWithdrawApplication:h,rejectionReason:f=null,guild:g=null}=e,m=(0,l.e7)([s.Z],()=>{var e;return s.Z.getCooldown(null!=(e=null==g?void 0:g.id)?e:"0")});i.useEffect(()=>{null==m&&null!=g&&o.Z.fetchJoinRequestCooldown(g.id)},[m,g]);let b=(null!=m?m:0)>0,_=b&&null!=m?Math.ceil((1e3*m-Date.now())/864e5):0;return(0,r.jsxs)("div",{className:u.confirmation,children:[(0,r.jsx)("div",{className:u.iconWrapper,children:(0,r.jsx)(a.P$X,{size:"md",color:a.TVs.colors.INTERACTIVE_ACTIVE})}),(0,r.jsxs)("div",{className:u.statusTextContainer,children:[(0,r.jsx)(a.X6q,{id:t,variant:"heading-lg/semibold",color:"header-primary",children:(null==g?void 0:g.name)!=null?c.intl.formatToPlainString(c.t["P+/gzM"],{guildName:g.name}):c.intl.string(c.t.gBPcuL)}),null!=f&&""!==f?(0,r.jsxs)(a.Text,{variant:"text-md/medium",color:"header-secondary",children:[(0,r.jsx)("span",{className:u.rejectionReasonLabel,children:c.intl.string(c.t.cf1psb)}),(0,r.jsx)("span",{children:f})]}):null]}),(0,r.jsxs)("div",{className:u.confirmationButtonRow,children:[(0,r.jsx)(a.DY3,{className:u.confirmationButton,text:b?c.intl.formatToPlainString(c.t.A0f0Pz,{days:_}):null,"aria-label":b?c.intl.formatToPlainString(c.t.A0f0Pz,{days:_}):void 0,children:(0,r.jsx)(a.zxk,{className:u.confirmationTooltipContents,onClick:d,color:a.zxk.Colors.PRIMARY,size:a.zxk.Sizes.LARGE,submitting:null==m,disabled:b,children:n})}),(0,r.jsx)(a.zxk,{onClick:h,size:a.zxk.Sizes.LARGE,color:a.zxk.Colors.RED,className:u.confirmationButton,children:p})]})]})}},390500:function(e,t,n){n.d(t,{Z:()=>c});var r=n(255367),i=n(73800),l=n(481060),a=n(926526),o=n(388032),s=n(568410);let c=function(e){let{onWithdrawApplication:t,guild:n=null}=e,c=null==n?void 0:n.id;return i.useEffect(()=>{null!=c&&(0,a.Pq)(c)},[c]),(0,r.jsxs)("div",{className:s.confirmation,children:[(0,r.jsx)("div",{className:s.iconWrapper,children:(0,r.jsx)(l.wGF,{size:"md",color:l.TVs.colors.INTERACTIVE_ACTIVE})}),(0,r.jsxs)("div",{className:s.statusTextContainer,children:[(0,r.jsx)(l.X6q,{variant:"heading-lg/semibold",color:"header-primary",children:(null==n?void 0:n.name)!=null?o.intl.formatToPlainString(o.t["0Qlu//"],{guildName:n.name}):o.intl.string(o.t["5iLvS0"])}),(0,r.jsx)(l.Text,{variant:"text-md/medium",color:"header-secondary",children:o.intl.string(o.t.FdsK4u)})]}),(0,r.jsx)(l.zxk,{fullWidth:!0,onClick:t,look:l.zxk.Looks.FILLED,color:l.zxk.Colors.RED,size:l.zxk.Sizes.LARGE,children:o.intl.string(o.t.g9tK0t)})]})}},6039:function(e,t,n){n.d(t,{Z:()=>N}),n(388685);var r=n(255367),i=n(73800),l=n(442837),a=n(481060),o=n(393238),s=n(877604),c=n(998730),u=n(703656),d=n(430824),p=n(768581),h=n(302221),f=n(693546),g=n(305325),m=n(246364),b=n(937111),_=n(381416),E=n(523924),O=n(390500),y=n(981631),I=n(898625),v=n(388032),C=n(74816);function S(e){let{guild:t,width:n,height:l}=e,a=i.useMemo(()=>(null==t?void 0:t.splash)!=null?p.ZP.getGuildSplashURL({id:null==t?void 0:t.id,splash:null==t?void 0:t.splash}):null,[null==t?void 0:t.splash,null==t?void 0:t.id]),o=(0,c.N)(a);return null==a?(0,r.jsx)("div",{className:C.defaultGradient}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{className:C.splash,src:a,imageClassName:C.cover,width:n,height:l}),null!=o&&(0,r.jsx)("div",{className:C.splashGradient,style:{background:"linear-gradient(180deg, ".concat((0,h.aD)(o,.16)," 0%, ").concat((0,h.aD)(o,1)," 100%)")}}),(0,r.jsx)("div",{className:C.splashGradient})]})}let N=e=>{let{guildId:t}=e,{ref:n,width:s,height:c}=(0,o.ZP)(),[p,h]=i.useState(I.hO.INITIAL),N=(0,l.e7)([b.Z],()=>b.Z.getRequest(t)),T=(0,l.e7)([d.Z],()=>d.Z.getGuild(t)),{hasFetchedRequestToJoinGuilds:P,guildPreviewDisabled:j}=(0,l.cj)([b.Z],()=>({hasFetchedRequestToJoinGuilds:b.Z.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:b.Z.getJoinRequestGuild(t)}));i.useEffect(()=>{null!=T&&(0,u.uL)(y.Z5c.CHANNEL(t))},[T,t]),i.useEffect(()=>{P||f.Z.fetchRequestToJoinGuilds()},[P]);let A=i.useCallback(()=>{h(Math.max(p,I.hO.FILLING)),f.Z.removeGuildJoinRequest(t),(0,u.uL)(y.Z5c.ME)},[t,p]),Z=(e,t)=>()=>{(0,a.h7j)(n=>{var i,l;return(0,r.jsx)(a.ConfirmModal,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({header:v.intl.string(v.t.y0CVen),cancelText:v.intl.string(v.t.oEAioK),onConfirm:t,confirmText:v.intl.string(v.t.p89ACg),confirmButtonColor:a.zxk.Colors.RED},n),l=l={children:(0,r.jsx)(a.Text,{variant:"text-sm/normal",color:"header-secondary",children:e})},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))})},x=async()=>{await f.Z.resetGuildJoinRequest(t),(0,g.hk)(t)},L=Z(v.intl.format(v.t["9ZezpK"],{name:null==j?void 0:j.name}),A),w=Z(v.intl.format(v.t.fJwWVl,{name:null==j?void 0:j.name}),A);return(0,r.jsxs)("div",{className:C.page,ref:n,children:[(0,r.jsx)(S,{guild:j,height:c,width:s}),(0,r.jsx)("div",{className:C.contentWrapper,children:(()=>{if(null==N)return null;switch(N.applicationStatus){case m.wB.SUBMITTED:return(0,r.jsx)(O.Z,{onWithdrawApplication:L,guild:j});case m.wB.REJECTED:return(0,r.jsx)(E.Z,{reapplyText:v.intl.string(v.t.I1LYVl),onReapply:x,confirmText:v.intl.string(v.t.g9tK0t),onWithdrawApplication:L,rejectionReason:N.rejectionReason,guild:j});default:return(0,r.jsx)(_.s,{onDiscardApplication:w,onContinueApplication:()=>(0,g.hk)(t),guild:j})}})()}),(0,r.jsx)("div",{className:C.dragRegion})]})}},584233:function(e,t,n){n.d(t,{x:()=>a});var r=n(447543),i=n(652898),l=n(430824);async function a(e){let{code:t}=e,a=(await (0,i.Z)(t)).invite;if(null==a||null==a.guild||(await new Promise(e=>{l.Z.addConditionalChangeListener(()=>!l.Z.isLoaded()||(e(),!1))}),null==l.Z.getGuild(a.guild.id)))return;let{default:o}=await Promise.resolve().then(n.bind(n,17181));await o({guildId:a.guild.id}),r.ZP.transitionToInvite(a,void 0,!0)}},326145:function(e,t,n){n.d(t,{Z:()=>I});var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(393238),u=n(877604),d=n(998730),p=n(540059),h=n(546247),f=n(430824),g=n(768581),m=n(302221),b=n(745752),_=n(17181),E=n(388032),O=n(150718),y=n(113728);function I(e){let{guildId:t,channelId:n}=e,{ref:l,width:I,height:v}=(0,c.ZP)(),C=(0,p.Q3)("GuildOnboardingBlockedPage"),S=i.useCallback(()=>{null!=t&&null!=n&&((0,b.I1)(t),(0,_.default)({guildId:t,returnChannelId:n}))},[t,n]),N=(0,o.e7)([f.Z],()=>f.Z.getGuild(t)),T=i.useMemo(()=>null==N?null:g.ZP.getGuildSplashURL({id:N.id,splash:N.splash}),[N]),P=(0,d.N)(T);return C?(0,r.jsxs)("div",{className:a()(O.outerWrapping,y.main,{[y.fullBorderWithGradient]:null==T}),ref:l,children:[null!=T?(0,r.jsx)(u.Z,{className:y.artwork,src:T,width:I,height:v,imageClassName:y.cover}):(0,r.jsx)(h.Z,{}),null!=P&&null!=T&&(0,r.jsx)("div",{className:y.gradient,style:{background:"linear-gradient(180deg, ".concat((0,m.aD)(P,.16)," 0%, ").concat((0,m.aD)(P,1)," 100%)")}}),null!=T&&(0,r.jsx)("div",{className:y.gradient}),(0,r.jsxs)("div",{className:a()(O.explainerContainer,O.transparentBackground),children:[(0,r.jsxs)("div",{className:O.header,children:[(0,r.jsx)(s.X6q,{variant:"heading-xxl/normal",children:E.intl.string(E.t.CCmhpK)}),(0,r.jsx)(s.Text,{variant:"text-lg/normal",children:E.intl.string(E.t.gRAHcX)})]}),(0,r.jsx)(s.zxk,{color:s.zxk.Colors.WHITE,size:s.zxk.Sizes.LARGE,onClick:S,children:E.intl.string(E.t.VVFjAA)})]})]}):(0,r.jsx)("div",{className:O.container,children:(0,r.jsxs)("div",{className:O.explainerContainer,children:[(0,r.jsx)(s.Text,{variant:"text-md/normal",children:E.intl.string(E.t.FWtdQk)}),(0,r.jsx)(s.zxk,{onClick:S,children:(0,r.jsx)(s.Text,{variant:"text-md/medium",children:E.intl.string(E.t.VVFjAA)})})]})})}},408042:function(e,t,n){n(388685),n(539854),n(953529);var r,i=n(442837),l=n(570140),a=n(314897),o=n(592125),s=n(430824),c=n(709054),u=n(231873);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p={};function h(e,t){let n=p[e];return!(null==n||n.has(t))&&(p[e]=new Set(n.add(t)),!0)}class f extends(r=i.ZP.PersistedStore){initialize(e){this.waitFor(a.default,s.Z),p={},null!=e&&c.default.keys(e).forEach(t=>{let n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(p[t]=new Set(n))})}getProgress(e){return p[e]}hasProgress(e){let t=p[e];return null!=t&&!t.has(u.Rg.DISMISSED)}getState(){return p}}d(f,"displayName","GuildProgressStore"),d(f,"persistKey","GuildProgressStore"),new f(l.Z,{CONNECTION_OPEN:function(){let e=[];c.default.keys(p).forEach(t=>{p[t].has(u.Rg.COMPLETED)&&e.push(t)}),e.forEach(e=>h(e,u.Rg.DISMISSED))},GUILD_PROGRESS_INITIALIZE:function(e){let{guildId:t}=e;null==p[t]&&(p[t]=new Set),p[t].has(u.Rg.COMPLETED)||p[t].delete(u.Rg.DISMISSED)},GUILD_PROGRESS_COMPLETED_SEEN:function(e){let{guildId:t}=e;if(null==p[t])return!1;p[t]=new Set(p[t].add(u.Rg.COMPLETED))},GUILD_PROGRESS_DISMISS:function(e){let{guildId:t}=e;return h(t,u.Rg.DISMISSED)},GUILD_CREATE:function(e){let{guild:{id:t,member_count:n}}=e,r=s.Z.getGuild(t);if(null==r)return!1;r.ownerId===a.default.getId()&&null!=p[r.id]&&(null!=r.icon&&p[r.id].add(u.Rg.AVATAR),n>1&&p[r.id].add(u.Rg.INVITE))},CHANNEL_CREATE:function(e){let{channel:t}=e;return null!=t&&null!=t.guild_id&&null!=p[t.guild_id]&&h(t.guild_id,u.Rg.CHANNEL)},CHANNEL_UPDATES:function(e){let{channels:t}=e,n=!1;for(let e of t)null!=e&&null!=e.guild_id&&null!=p[e.guild_id]&&!1!==h(e.guild_id,u.Rg.CHANNEL)&&(n=!0);return n},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){let{guild:t}=e;return null!=t&&null!=t.id&&null!=p[t.id]&&null!=t.icon&&h(t.id,u.Rg.AVATAR)},MESSAGE_CREATE:function(e){var t;let{channelId:n,message:r}=e,i=o.Z.getChannel(n);return(null==(t=r.author)?void 0:t.id)===a.default.getId()&&null!=i&&null!=p[i.guild_id]&&h(i.guild_id,u.Rg.MESSAGE)},GUILD_MEMBER_LIST_UPDATE:function(e){let{guildId:t,memberCount:n}=e;return null!=p[t]&&n>1&&h(t,u.Rg.INVITE)}})},817520:function(e,t,n){n.d(t,{Z:()=>c});var r=n(442837),i=n(430824),l=n(644542),a=n(923726),o=n(144507),s=n(981631);function c(e){let t=(0,r.e7)([i.Z],()=>i.Z.getGuild(e)),n=(0,a.ss)(e),c=(0,a.Gp)(),u=(null==t?void 0:t.hasFeature(s.oNc.ROLE_SUBSCRIPTIONS_ENABLED))===!0&&(null==t?void 0:t.hasFeature(s.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE))===!1,d=(0,o.H2)(t);return u&&c&&d&&l.jJ.trackExposure({guildId:e,location:"ca30d9_1"}),u&&c&&d&&n}},999309:function(e,t,n){n.d(t,{Z:()=>s});var r=n(442837),i=n(223892),l=n(430824),a=n(594174),o=n(981631);function s(e){var t;let n=(0,r.e7)([l.Z],()=>l.Z.getGuild(e)),s=(0,r.e7)([a.default],()=>a.default.getCurrentUser()),c=(null==n?void 0:n.ownerId)===(null==s?void 0:s.id),u=(0,i.Sd)();return c&&null!=(t=null==n?void 0:n.hasFeature(o.oNc.COMMUNITY))&&t&&u&&!((null==n?void 0:n.hasFeature(o.oNc.CREATOR_MONETIZABLE))||(null==n?void 0:n.hasFeature(o.oNc.CREATOR_MONETIZABLE_PROVISIONAL))||(null==n?void 0:n.hasFeature(o.oNc.CREATOR_MONETIZABLE_DISABLED)))}},433280:function(e,t,n){n.d(t,{Z:()=>g});var r=n(255367);n(73800);var i=n(990547),l=n(399606),a=n(213609),o=n(434404),s=n(970731),c=n(430824),u=n(594174),d=n(981631),p=n(388032),h=n(644909),f=n(968153);function g(e){let{guildId:t,markAsDismissed:n}=e,g=(0,l.e7)([c.Z,u.default],()=>{let e=u.default.getCurrentUser(),n=c.Z.getGuild(t);return(null==n?void 0:n.isOwner(e))===!0});return(0,a.Z)({type:i.ImpressionTypes.POPOUT,name:i.ImpressionNames.ENABLE_CREATOR_MONETIZATION_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:g}}),(0,r.jsx)("div",{className:h.container,children:(0,r.jsx)(s.ZP,{header:p.intl.string(p.t.C0m4ra),content:p.intl.string(p.t.zOHfER),asset:(0,r.jsx)("div",{className:h.image,children:(0,r.jsx)("img",{alt:p.intl.string(p.t.xad4wc),src:f,className:h.image})}),buttonCTA:p.intl.string(p.t.OgQQbG),onClick:()=>{o.Z.open(t,d.pNK.ROLE_SUBSCRIPTIONS)},secondaryButtonCTA:p.intl.string(p.t.WAI6xs),markAsDismissed:n})})}},34131:function(e,t,n){n.d(t,{Z:()=>u});var r=n(255367);n(73800);var i=n(70097),l=n(434404),a=n(970731),o=n(981631),s=n(388032),c=n(401623);function u(e){let{guildId:t,markAsDismissed:n}=e;return(0,r.jsx)("div",{className:c.container,children:(0,r.jsx)(a.ZP,{header:s.intl.string(s.t.gCgirq),content:s.intl.string(s.t.fLMZFx),asset:(0,r.jsx)(i.Z,{className:c.video,src:"https://cdn.discordapp.com/assets/server-subscription-tier-template/upsell.mov",autoPlay:!0,loop:!0}),buttonCTA:s.intl.string(s.t.BQq86u),onClick:()=>{l.Z.open(t,o.pNK.ROLE_SUBSCRIPTIONS,void 0,o.KsC.ROLE_SUBSCRIPTION_TIER_TEMPLATE)},secondaryButtonCTA:s.intl.string(s.t.WAI6xs),markAsDismissed:n})})}},939225:function(e,t,n){n.d(t,{Z:()=>u});var r=n(255367);n(73800);var i=n(481060),l=n(230711),a=n(931547),o=n(981631),s=n(526761),c=n(388032);function u(e){let{subscription:t}=e;return null==t?null:t.status===o.O0b.PAST_DUE?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.LZC,{size:16}),(0,r.jsx)(a.Z,{message:c.intl.string(c.t.eSuJEx),ctaMessage:c.intl.string(c.t.RXsxqa),onClick:()=>{l.Z.open(o.oAB.SUBSCRIPTIONS,s.cP)}})]}):null}},293423:function(e,t,n){n.d(t,{Z:()=>b}),n(953529);var r=n(255367);n(73800);var i=n(481060),l=n(584825),a=n(290348),o=n(934826),s=n(660196),c=n(330181),u=n(939225),d=n(36246),p=n(305342),h=n(726324),f=n(981631),g=n(388032),m=n(210998);let b=e=>{var t,n;let{guild:b}=e,_=(0,l.GG)(b.id)[0];(0,s.Z)({guildId:b.id,groupListingId:null==_?void 0:_.id,location:f.Sbl.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:null==_?void 0:_.subscription_listings_ids});let{activeSubscription:E}=(0,o.Z)(null==_?void 0:_.id),O=(0,l.YB)(b.id),y=null==O?void 0:O.description,{editStateIds:I}=a.B7(null!=(t=null==_?void 0:_.id)?t:null,b.id);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.Z,{title:g.intl.format(g.t["rm+ojI"],{serverName:b.toString()}),description:null!=y?y:null,coverImageAsset:null!=(n=null==O?void 0:O.cover_image_asset)?n:null,guild:b,children:[null!=_?(0,r.jsx)(c.Z,{className:m.pendingPlanChangeNotice,groupListingId:_.id,subscription:E}):null,(0,r.jsx)(u.Z,{subscription:E})]}),(0,r.jsx)(i.y5t,{children:(0,r.jsx)(d.Z,{guildId:b.id,children:I.map(e=>{var t;return(0,r.jsx)(p.Z,{guildId:b.id,groupListingId:null!=(t=null==_?void 0:_.id)?t:"",listingId:e,analyticsLocation:f.Sbl.ROLE_SUBSCRIPTIONS_TAB},e)})})})]})}},20967:function(e,t,n){n.d(t,{J:()=>d,z:()=>p});var r,i=n(255367);n(73800);var l=n(990547),a=n(481060),o=n(213609),s=n(388032),c=n(843990),u=n(837753),d=((r={}).GUILD_NOT_ELIGIBLE="guild_not_eligible",r.NOT_GUILD_MEMBER="not_guild_member",r);let p=e=>{let{errorType:t}=e;return(0,o.Z)({type:l.ImpressionTypes.PAGE,name:l.ImpressionNames.ROLE_SUBSCRIPTION_LISTING_UPSELL_ERROR_PAGE,properties:{error_page_type:t}}),(0,i.jsx)("div",{className:c.errorPageContainer,children:(0,i.jsxs)("div",{className:c.errorPageContent,children:[(0,i.jsx)("img",{src:u,alt:"",className:c.errorPageIllo}),(0,i.jsx)(a.X6q,{variant:"heading-xl/extrabold",className:c.errorPageTitle,children:"guild_not_eligible"===t?s.intl.string(s.t.atZQVV):s.intl.string(s.t.gAdWBg)}),(0,i.jsx)(a.Text,{variant:"text-md/normal",className:c.errorPagSubtitle,children:"guild_not_eligible"===t?s.intl.string(s.t.teWe5O):s.intl.string(s.t["X/yMrK"])})]})})}},269675:function(e,t,n){n.d(t,{Z:()=>j});var r=n(255367),i=n(73800),l=n(873546),a=n(442837),o=n(481060),s=n(355467),c=n(270237),u=n(252618),d=n(423e3),p=n(200876),h=n(674180),f=n(38618),g=n(984370),m=n(430824),b=n(351402),_=n(730647),E=n(772021),O=n(396828),y=n(293423),I=n(20967),v=n(504762),C=n(807152),S=n(176505),N=n(388032),T=n(86492);function P(e){let{guildId:t}=e,n=(0,a.e7)([m.Z],()=>m.Z.getGuild(t),[t]),P=(0,a.e7)([f.Z],()=>f.Z.isConnected()),j=(0,p.Z)(t),A=(0,E.Z)(t),Z=(0,a.e7)([b.Z],()=>b.Z.isSubscriptionFetching),x=(0,_.f)(),{shouldHideGuildPurchaseEntryPoints:L,restrictionsLoading:w}=(0,h.uP)(t),R=null==n||!x||Z||w;(0,u.Tt)({subsection:N.intl.string(N.t["KzCF//"]),location:null==n?void 0:n.name}),(0,c.Z)(l.tq?"role-subscriptions-overview":void 0);let D=P&&(null==n||!(j||A)||L&&!w);if(i.useEffect(()=>{s.jg()},[]),i.useEffect(()=>{D&&!l.tq&&(0,d.M)(t,S.oC.ROLE_SUBSCRIPTIONS)},[t,D]),l.tq&&D){let e=null==n?I.J.NOT_GUILD_MEMBER:I.J.GUILD_NOT_ELIGIBLE;return(0,r.jsx)(I.z,{errorType:e})}return(0,r.jsxs)("div",{className:T.container,children:[(0,r.jsxs)(g.Z,{toolbar:(0,r.jsx)(i.Fragment,{}),className:T.headerBar,children:[(0,r.jsx)(g.Z.Icon,{icon:(0,o.GSL)(O.Z),"aria-hidden":!0}),(0,r.jsx)(g.Z.Title,{children:N.intl.string(N.t["KzCF//"])})]}),(0,r.jsx)("div",{id:C.v}),(0,r.jsx)("div",{className:T.content,children:j?(0,r.jsx)(o.u2D,{className:T.scroller,children:(0,r.jsx)("div",{className:T.scrollerContent,children:R?(0,r.jsx)(o.$jN,{}):(0,r.jsx)(y.Z,{guild:n})})}):(0,r.jsx)(v.Z,{})})]})}function j(e){let{guildId:t}=e;return(0,r.jsx)(_.l,{guildId:t,refetchOnMount:!0,children:(0,r.jsx)(P,{guildId:t})})}},504762:function(e,t,n){n.d(t,{Z:()=>s});var r=n(255367);n(73800);var i=n(481060),l=n(388032),a=n(81512),o=n(968153);function s(){return(0,r.jsx)("div",{className:a.container,children:(0,r.jsxs)("div",{className:a.content,children:[(0,r.jsx)("img",{src:o,alt:l.intl.string(l.t.MvLOqq)}),(0,r.jsx)(i.LZC,{size:12}),(0,r.jsx)(i.X6q,{className:a.header,variant:"heading-lg/semibold",children:l.intl.string(l.t.t18lFh)}),(0,r.jsx)(i.LZC,{size:8}),(0,r.jsx)(i.Text,{color:"header-secondary",variant:"text-sm/normal",children:l.intl.string(l.t.TvGJgo)})]})})}},807152:function(e,t,n){n.d(t,{v:()=>r});let r="guild-role-subscription-overview-notice"},726324:function(e,t,n){n.d(t,{Z:()=>u}),n(953529),n(388685);var r=n(255367);n(73800);var i=n(481060),l=n(565138),a=n(695346),o=n(506071),s=n(353254),c=n(76014);function u(e){let{coverImageAsset:t,title:n,guild:u,description:d,children:p}=e,h=a.QK.useSetting(),f=(0,o.n)(),[g,m]=(0,s.Z)(t,f&&h);return(0,r.jsxs)("div",{className:c.container,children:[(0,r.jsx)("div",{ref:g,className:c.coverImageContainer,children:null!=m&&(0,r.jsx)("img",{src:m,alt:"",className:c.coverImage})}),(0,r.jsx)("div",{className:c.guildIconContainer,children:(0,r.jsx)(l.Z,{guild:u,size:l.Z.Sizes.XLARGE})}),(0,r.jsx)(i.X6q,{variant:"heading-xl/semibold",className:c.ctaTitle,children:n}),(0,r.jsx)(i.Text,{className:c.ctaSubtitle,variant:"text-md/normal",color:"header-secondary",children:d}),p]})}},504160:function(e,t,n){n.d(t,{L_:()=>l,_6:()=>a,ji:()=>i});var r=n(570140);function i(e){let{eventId:t,stageId:n}=e;(null!=t||null!=n)&&r.Z.dispatch({type:"LIVE_CHANNEL_NOTICE_HIDE",eventId:t,stageId:n})}function l(e){r.Z.dispatch({type:"UPCOMING_GUILD_EVENT_NOTICE_HIDE",eventId:e})}function a(e){r.Z.dispatch({type:"UPCOMING_GUILD_EVENT_NOTICE_SEEN",guildEventId:e})}},151864:function(e,t,n){n.d(t,{Z:()=>u}),n(539854);var r,i=n(442837),l=n(570140),a=n(765305);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s={hiddenEventsAndStages:[]};class c extends(r=i.ZP.PersistedStore){initialize(e){null!=e&&null!=e.hiddenEventsAndStages&&(s=e)}isLiveChannelNoticeHidden(e){let{eventId:t,stageId:n}=e;return!!(null!=n&&s.hiddenEventsAndStages.includes("stage-".concat(n)))||null!=t&&s.hiddenEventsAndStages.includes("event-".concat(t))}getState(){return s}}o(c,"displayName","LiveChannelNoticesStore"),o(c,"persistKey","liveChannelNotices_v2");let u=new c(l.Z,{LIVE_CHANNEL_NOTICE_HIDE:function(e){let{eventId:t,stageId:n}=e;null!=t?s.hiddenEventsAndStages.push("event-".concat(t)):null!=n&&s.hiddenEventsAndStages.push("stage-".concat(n))},GUILD_SCHEDULED_EVENT_UPDATE:function(e){let{guildScheduledEvent:t}=e,n="event-".concat(t.id);s.hiddenEventsAndStages.includes(n)&&(t.status===a.p1.CANCELED||t.status===a.p1.COMPLETED)&&(s.hiddenEventsAndStages=s.hiddenEventsAndStages.filter(e=>e!==n))},GUILD_SCHEDULED_EVENT_DELETE:function(e){let{guildScheduledEvent:t}=e,n="event-".concat(t.id);s.hiddenEventsAndStages.includes(n)&&(s.hiddenEventsAndStages=s.hiddenEventsAndStages.filter(e=>e!==n))},STAGE_INSTANCE_DELETE:function(e){let{instance:t}=e,n="stage-".concat(t.id);s.hiddenEventsAndStages.includes(n)&&(s.hiddenEventsAndStages=s.hiddenEventsAndStages.filter(e=>e!==n))}})},497656:function(e,t,n){n.d(t,{y:()=>a});var r=n(517334),i=n(592125),l=n(554747);function a(e){var t;let n=(0,l.eF)(e),a=(0,r.ZP)(e),o=i.Z.getChannel(null==(t=a[0])?void 0:t.id);return null!=n?n:o}},300213:function(e,t,n){n.d(t,{m:()=>c}),n(73800);var r=n(442837);n(565799),n(431328),n(501655);var i=n(427679),l=n(517334);n(199902);var a=n(592125);n(496675),n(938475);var o=n(151864);n(497656);var s=n(554747);function c(e){var t;let n=(0,l.ZP)(e),c=a.Z.getChannel(null==(t=n[0])?void 0:t.id),u=(0,r.e7)([i.Z],()=>i.Z.getStageInstanceByChannel(null==c?void 0:c.id),[c]),d=(0,s.k5)(e),{isStageNoticeHidden:p,isEventNoticeHidden:h}=(0,r.cj)([o.Z],()=>({isStageNoticeHidden:o.Z.isLiveChannelNoticeHidden({stageId:null==u?void 0:u.id}),isEventNoticeHidden:o.Z.isLiveChannelNoticeHidden({eventId:null==d?void 0:d.id})}),[u,d]);if(null!=d)if(null!=u)return!p;else return!h;return null!=u&&!p}n(765305),n(231338)},862099:function(e,t,n){n.d(t,{Co:()=>X,ZP:()=>J,bZ:()=>Q,gt:()=>B}),n(388685);var r,i=n(255367),l=n(73800),a=n(120356),o=n.n(a),s=n(442837),c=n(481060),u=n(884338),d=n(471445),p=n(986332),h=n(662842),f=n(540059),g=n(703656),m=n(922482),b=n(565799),_=n(501655),E=n(192079),O=n(427679),y=n(448206),I=n(496675),v=n(938475),C=n(626135),S=n(823379),N=n(15274),T=n(924301),P=n(504160),j=n(151864),A=n(835184),Z=n(725436),x=n(497656),L=n(79874),w=n(554747),R=n(230900),D=n(854698),k=n(139712),M=n(765305),U=n(981631),G=n(388032),V=n(647128);let B=l.memo(function(e){let{heading:t,location:n,locationIcon:r,details:l,detailsIcon:a,topic:s,onClickCloseIcon:u,children:d}=e,p=(0,f.Q3)("GuildNoticeBody");return(0,i.jsxs)("div",{className:V.channelNotice,children:[(0,i.jsxs)("div",{className:o()(V.textBlock,V.singleLine),children:[(0,i.jsx)("div",{className:V.liveIndicator}),(0,i.jsx)(c.Text,{color:"text-positive",variant:p?"text-xs/semibold":"text-xs/bold",className:V.liveNowText,children:t}),null!=u&&(0,i.jsx)(c.P3F,{onClick:u,className:V.closeIcon,"aria-label":G.intl.string(G.t.cpT0Cg),children:(0,i.jsx)(c.Dio,{size:"xs",color:"currentColor"})})]}),(0,i.jsx)(c.X6q,{color:"header-primary",variant:p?"heading-md/semibold":"text-md/semibold",className:V.eventName,children:s}),(0,i.jsxs)("div",{className:o()(V.textBlock,V.singleLine),children:[r,(0,i.jsx)(c.Text,{color:p?"none":"header-secondary",variant:"text-xs/normal",className:V.channelName,children:n}),null!=l&&null!=a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Text,{className:V.dotDivider,color:p?"none":"header-secondary",variant:"text-xs/normal",children:"•"}),a,(0,i.jsx)(c.Text,{color:p?"none":"header-secondary",variant:"text-xs/normal",className:V.details,children:l})]})]}),d]})});function H(e){let{guildEvent:t,channel:n}=e,r=(0,s.Wu)([v.ZP],()=>v.ZP.getVoiceStatesForChannel(n).map(e=>{let{user:t}=e;return t}),[n]),l=(0,d.KS)(n);return(0,i.jsx)(B,{onClickCloseIcon:()=>(0,P.ji)({eventId:null==t?void 0:t.id}),heading:G.intl.string(G.t["X2K3//"]),topic:t.name,location:n.name,locationIcon:null!=l?(0,i.jsx)(l,{size:"xs",color:"currentColor",className:V.stageIcon}):null,children:(0,i.jsx)(X,{channel:n,speakers:r,voiceType:1})})}function F(e){let{guildEvent:t,noticeType:n}=e,r=(0,D.DK)(t),l=(0,s.e7)([T.ZP],()=>T.ZP.isInterestedInEventRecurrence(t.id,r),[t.id,r]),a=(0,s.e7)([A.Z],()=>A.Z.getUpcomingNoticeSeenTime(t.id),[t.id]);return l||null!=a||(0,P._6)(t.id),(0,i.jsxs)(c.zxk,{fullWidth:!0,className:V.joinButton,innerClassName:V.rsvpButton,onClick:function(){(0,k.Z)(t.id,null,t.guild_id,()=>setTimeout(()=>(0,P.L_)(t.id),1e3)),C.default.track(U.rMx.CHANNEL_NOTICE_CTA_CLICKED,{guild_id:t.guild_id,notice_type:n})},look:l?c.zxk.Looks.OUTLINED:c.zxk.Looks.FILLED,color:l?c.zxk.Colors.TRANSPARENT:c.zxk.Colors.GREEN,size:c.zxk.Sizes.SMALL,children:[l?(0,i.jsx)(c.dz2,{size:"custom",color:"currentColor",width:16,height:16,className:V.buttonIcon}):(0,i.jsx)(c.Dkj,{size:"custom",color:"currentColor",width:16,height:16,className:V.buttonIcon}),G.intl.string(G.t.DlcqlZ)]})}function z(e){var t;let{guildEvent:n,noticeType:r}=e,a=(0,f.Q3)("GuildUpcomingEventNotice"),s=(0,R.cS)(n),u=null!=s?(0,Z.m)(s,!0):null,p=(0,R.nE)(n),h=(0,d.KS)(p),{startTime:g,endTime:m}=(0,L.ZP)(n),{startDateTimeString:b,upcomingEvent:_,diffMinutes:E}=(0,D.ub)(g.toISOString(),null==m?void 0:m.toISOString()),O=_?E>0?G.intl.formatToPlainString(G.t.PQlCWl,{minutes:E}):G.intl.string(G.t.WINqKS):G.intl.formatToPlainString(G.t.DC6h3N,{date:b});return l.useEffect(()=>{C.default.track(U.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:r,guild_id:n.guild_id})},[n,r]),(0,i.jsxs)("div",{className:V.channelNotice,children:[(0,i.jsxs)("div",{className:V.textBlock,children:[(0,i.jsx)(c.P3F,{onClick:()=>(0,N.bO)({eventId:n.id}),className:V.eventNameClickable,children:(0,i.jsx)(c.Text,{color:"header-primary",variant:"text-md/semibold",className:V.eventName,children:n.name})}),(0,i.jsx)(c.P3F,{onClick:()=>{C.default.track(U.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:r,guild_id:n.guild_id}),(0,P.L_)(n.id)},className:V.closeIcon,"aria-label":G.intl.string(G.t.cpT0Cg),children:(0,i.jsx)(c.Dio,{size:"xs",color:"currentColor"})})]}),(0,i.jsxs)("div",{className:o()(V.textBlock,V.singleLine),children:[(0,i.jsx)(c.Que,{size:"custom",color:"currentColor",className:V.stageIcon,width:16,height:16}),(0,i.jsx)(c.Text,{color:"header-secondary",variant:"text-xs/normal",className:V.startTime,children:O})]}),(0,i.jsxs)("div",{className:o()(V.textBlock,V.singleLine),children:[null!=h?(0,i.jsx)(h,{size:"xs",color:"currentColor",className:V.stageIcon}):(0,i.jsx)(c._tJ,{size:"custom",color:"currentColor",width:16,height:16,className:V.stageIcon}),(0,i.jsx)(c.Text,{color:a?"none":"header-secondary",variant:"text-xs/normal",className:V.channelName,children:null!=(t=null==p?void 0:p.name)?t:u})]}),(0,i.jsx)(F,{guildEvent:n,noticeType:r})]})}function W(e){let{guildEvent:t}=e,n=(0,R.cS)(t);return null==n?null:(0,i.jsx)(B,{onClickCloseIcon:()=>(0,P.ji)({eventId:null==t?void 0:t.id}),heading:G.intl.string(G.t["1+boPj"]),topic:t.name,location:(0,Z.m)(n,!0),locationIcon:(0,i.jsx)(c._tJ,{size:"custom",color:"currentColor",width:16,height:16,className:V.stageIcon}),children:(0,i.jsx)(Y,{guildEvent:t})})}function Y(e){let{guildEvent:t}=e,n=l.useCallback(()=>{(0,N.bO)({eventId:t.id})},[t]);return(0,i.jsx)(c.zxk,{fullWidth:!0,className:V.joinButton,onClick:n,color:c.zxk.Colors.GREEN,size:c.zxk.Sizes.SMALL,children:G.intl.string(G.t.z4FcDg)})}function K(e){let{channel:t,label:n}=e;return(0,i.jsx)(c.zxk,{fullWidth:!0,className:V.joinButton,onClick:()=>{null!=t&&null!=t.getGuildId()&&((0,m.Cq)(t),(0,g.XU)(t.getGuildId(),t.id))},color:c.zxk.Colors.GREEN,size:c.zxk.Sizes.SMALL,children:n})}function q(e){let{stageInstance:t,channel:n}=e,r=(0,s.Wu)([b.Z],()=>[...new Set(b.Z.getMutableParticipants(n.id,_.pV.SPEAKER).map(e=>e.user))],[n.id]),l=(0,s.e7)([b.Z],()=>b.Z.getParticipantCount(n.id,_.pV.AUDIENCE),[n.id]),a=G.intl.formatToPlainString(G.t["+v2pNz"],{count:"".concat(l)});return(0,i.jsx)(B,{onClickCloseIcon:()=>(0,P.ji)({stageId:null==t?void 0:t.id}),heading:G.intl.string(G.t["X2K3//"]),location:n.name,details:a,detailsIcon:(0,i.jsx)(c.VWR,{size:"custom",color:"currentColor",width:14,height:14,className:V.stageIcon}),locationIcon:(0,i.jsx)(c.ewx,{size:"custom",color:"currentColor",width:16,height:16,className:V.stageIcon}),topic:t.topic,children:(0,i.jsx)(X,{channel:n,speakers:r,voiceType:2})})}var Q=((r={})[r.VOICE=1]="VOICE",r[r.STAGE=2]="STAGE",r[r.STUDY_ROOM=3]="STUDY_ROOM",r);function X(e){let{channel:t,speakers:n,voiceType:r}=e,a=t.getGuildId(),d=l.useMemo(()=>n.slice(0,3),[n]),p=(0,s.e7)([I.Z],()=>I.Z.can(U.Plq.CONNECT,t)),h=(0,y.Z)(t.id),f=G.intl.string(G.t.VJlc0d);switch(r){case 1:f=G.intl.string(G.t.VJlc0d);break;case 2:f=G.intl.string(G.t.ZYO5OD),(null==h?void 0:h.speaker)?f=G.intl.string(G.t["/cnSFR"]):null!=h&&(f=G.intl.string(G.t.btSGOj));break;case 3:f=G.intl.string(G.t.wBoE6O);break;default:(0,S.vE)(r)}return null==a?null:(0,i.jsxs)(i.Fragment,{children:[d.length>0?(0,i.jsxs)("div",{className:o()(V.textBlock,V.singleLine),children:[(0,i.jsx)(u.Z,{guildId:a,users:d,showUserPopout:!0,size:u.u.SIZE_16}),(0,i.jsx)(c.Text,{color:"none",variant:"text-xs/normal",className:V.userNames,children:(0,E.ER)(a,d,null==t?void 0:t.id,n.length)})]}):null,p&&null==h&&(0,i.jsx)(K,{channel:t,label:f})]})}let J=l.memo(function(e){let{guild:t}=e,{showRedesignedLiveChannelNotice:n}=(0,p.o)(!0),r=(0,x.y)(t.id),l=(0,w.k5)(t.id),a=(0,w.Vm)(t.id),o=(0,s.e7)([O.Z],()=>O.Z.getStageInstanceByChannel(null==r?void 0:r.id),[r]),{isStageNoticeHidden:c,isEventNoticeHidden:u}=(0,s.cj)([j.Z],()=>({isStageNoticeHidden:j.Z.isLiveChannelNoticeHidden({stageId:null==o?void 0:o.id}),isEventNoticeHidden:j.Z.isLiveChannelNoticeHidden({eventId:null==l?void 0:l.id})}),[o,l]),d=null,f=null!=o&&null!=r&&!c;if(n)return(0,i.jsx)(h.Z,{guild:t});null==l||u?f&&(d=(0,i.jsx)(q,{stageInstance:o,channel:r})):l.entity_type===M.WX.STAGE_INSTANCE&&f?d=(0,i.jsx)(q,{stageInstance:o,channel:r}):l.entity_type===M.WX.EXTERNAL?d=(0,i.jsx)(W,{guildEvent:l}):l.entity_type===M.WX.VOICE&&null!=r&&(d=(0,i.jsx)(H,{guildEvent:l,channel:r}));let g=t.hasFeature(U.oNc.COMMUNITY)||t.hasFeature(U.oNc.HUB);if(null==d&&null!=a&&!g){let{upcomingEvent:e,noticeType:t}=a;d=(0,i.jsx)(z,{guildEvent:e,noticeType:t})}return d})},879064:function(e,t,n){n.d(t,{v:()=>l});var r=n(255367);n(73800);var i=n(481060);function l(e){(0,i.ZDy)(async()=>{let{default:t}=await n.e("8102").then(n.bind(n,674189));return n=>(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n,e))},{modalKey:"Guild Settings Picker Modal"})}},337721:function(e,t,n){n.d(t,{Z:()=>u});var r=n(255367);n(73800);var i=n(434404),l=n(970731),a=n(981631),o=n(388032),s=n(545900),c=n(930128);function u(e){let{guild:t,markAsDismissed:n}=e;return(0,r.jsx)(l.ZP,{header:o.intl.string(o.t.Hgd22t),content:o.intl.string(o.t.SorTPD),asset:(0,r.jsx)("div",{className:s.image,children:(0,r.jsx)("img",{alt:"",src:c})}),buttonCTA:o.intl.string(o.t["9l+df3"]),onClick:e=>{i.Z.open(t.id,a.pNK.DISCOVERY_LANDING_PAGE)},secondaryButtonCTA:o.intl.string(o.t.duVdqq),onSecondaryClick:()=>{},markAsDismissed:n})}},577718:function(e,t,n){n.d(t,{Z:()=>D}),n(388685);var r=n(255367),i=n(73800),l=n(704215),a=n(780384),o=n(481060),s=n(906732),c=n(243778),u=n(26323),d=n(433280),p=n(34131),h=n(434404),f=n(567458),g=n(782959),m=n(933104),b=n(276645),_=n(970731),E=n(626135),O=n(267642),y=n(337721),I=n(981631),v=n(921944),C=n(30513),S=n(474936),N=n(388032),T=n(540835),P=n(519254),j=n(741160),A=n(829972),Z=n(31932),x=n(642301);function L(e){null!=e&&h.Z.open(e.id,I.pNK.BOOST_PERKS,{section:I.jXE.PREMIUM_GUILD_PROGRESS_BAR})}function w(e,t){null!=t&&((0,O.f2)(t,I.Eu4.TIER_1)?h.Z.open(t.id,I.pNK.BOOST_PERKS,{section:I.jXE.PREMIUM_GUILD_INVITE_SPLASH}):(0,u.Z)({analyticsLocations:e,analyticsSourceLocation:I.jXE.PREMIUM_GUILD_INVITE_SPLASH,guild:t,perks:(0,C.o9)()}))}function R(e){let{renderPopout:t,renderGuildHeaderDropdownButton:n}=e,l=i.useRef(null);return(0,r.jsx)(o.yRy,{targetElementRef:l,renderPopout:()=>(0,r.jsx)("div",{onClick:e=>e.stopPropagation(),children:t}),position:"bottom",align:"center",animation:o.yRy.Animation.TRANSLATE,shouldShow:!0,children:()=>(0,r.jsx)("div",{ref:l,children:n()})})}let D=i.memo(function(e){let{contentTypes:t,theme:n,guild:i,renderGuildHeaderDropdownButton:o}=e,{analyticsLocations:u}=(0,s.ZP)(),C=()=>{E.default.track(I.rMx.TOOLTIP_VIEWED,{type:S.cd.PREMIUM_PROGRESS_BAR,location:{page:I.ZY5.GUILD_CHANNEL}})},D=()=>{E.default.track(I.rMx.PREMIUM_UPSELL_VIEWED,{type:S.cd.INVITE_SPLASH_UPSELL,location:{page:I.ZY5.GUILD_CHANNEL},location_stack:u})},k=(0,a.wj)(n)?A:Z,[M,U]=(0,c.US)(t,v.R.GUILD_HEADER_TOOLTIPS);return(0,r.jsx)(r.Fragment,{children:(()=>{switch(M){case l.z.GUILD_POWERUP_PERKS_COACHMARK:return(0,r.jsx)(R,{renderPopout:(0,r.jsx)(m.$h,{guildId:i.id,markAsDismissed:U}),renderGuildHeaderDropdownButton:o});case l.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_COACHMARK:return(0,r.jsx)(R,{renderPopout:(0,r.jsx)(b.Z,{guildId:i.id,markAsDismissed:U}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:return(0,r.jsx)(R,{renderPopout:(0,r.jsx)(_.ZP,{onComponentMount:C,header:N.intl.string(N.t.nxtaFx),asset:(0,r.jsx)("img",{alt:"",src:k,className:P.fullWidthImage}),content:N.intl.format(N.t.ujItEh,{}),buttonCTA:N.intl.string(N.t.UzVPra),secondaryButtonCTA:N.intl.string(N.t["KkK/aG"]),onSecondaryClick:()=>L(),onClick:()=>L(i),markAsDismissed:U}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK:return(0,r.jsx)(R,{renderPopout:(0,r.jsx)(_.ZP,{onComponentMount:C,header:N.intl.string(N.t.KAsfPT),asset:(0,r.jsx)("img",{alt:"",src:k,className:P.fullWidthImage}),content:N.intl.format(N.t.zK1hpq,{}),buttonCTA:N.intl.string(N.t.UzVPra),secondaryButtonCTA:N.intl.string(N.t["KkK/aG"]),onSecondaryClick:()=>L(),onClick:()=>L(i),markAsDismissed:U}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL:return(0,r.jsx)(R,{renderPopout:(0,r.jsx)(d.Z,{guildId:i.id,markAsDismissed:U}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL:return(0,r.jsx)(R,{renderPopout:(0,r.jsx)(y.Z,{guild:i,markAsDismissed:U}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_HEADER_INVITE_SPLASH:let e=(0,O.f2)(i,I.Eu4.TIER_1)?N.intl.format(N.t.DDzEVl,{}):N.intl.formatToPlainString(N.t.pMftkJ,{boostCount:(0,O.KK)(i,I.Eu4.TIER_1)}),t=(0,O.f2)(i,I.Eu4.TIER_1)?N.intl.string(N.t.rOFcBg):N.intl.string(N.t.hvVgAQ);return(0,r.jsx)(R,{renderPopout:(0,r.jsx)(_.ZP,{onComponentMount:D,header:N.intl.string(N.t["36wK8/"]),asset:(0,r.jsx)("img",{alt:"",src:j,className:P.fullWidthImage}),content:e,buttonCTA:t,secondaryButtonCTA:N.intl.string(N.t.hBIHLS),onSecondaryClick:()=>w(u),onClick:()=>w(u,i),markAsDismissed:U}),renderGuildHeaderDropdownButton:o});case l.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP:return(0,r.jsx)(R,{renderPopout:(0,r.jsx)(f.Z,{markAsDismissed:U}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_HEADER_ACTIVE_THREADS_NOTICE:return(0,r.jsx)(R,{renderPopout:(0,r.jsx)(_.ZP,{className:T.tooltipOverrideColor,header:N.intl.string(N.t.hLUL3t),content:N.intl.string(N.t.ahWaPT),buttonCTA:N.intl.string(N.t["NX+WJC"]),onClick:()=>U(v.L.UNKNOWN),markAsDismissed:U}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_HEADER_SOUNDBOARD_PERMISSION:return(0,r.jsx)(R,{renderPopout:(0,r.jsx)(_.ZP,{header:N.intl.string(N.t.PZNQKC),content:N.intl.string(N.t.jQIyyM),buttonCTA:N.intl.string(N.t.RzWDqa),secondaryButtonCTA:N.intl.string(N.t.f3Pet7),asset:(0,r.jsx)("img",{alt:"",src:x,className:P.fullWidthImage}),onClick:()=>{h.Z.open(i.id,I.pNK.ROLES),h.Z.selectRole(i.getEveryoneRoleId(),N.intl.string(N.t.Bco7ND))},markAsDismissed:U}),renderGuildHeaderDropdownButton:o});case l.z.MEDIA_CHANNEL_UPSELL:return(0,r.jsx)(R,{renderPopout:(0,r.jsx)(g.Z,{guildId:i.id,markAsDismissed:U}),renderGuildHeaderDropdownButton:o});case l.z.SERVER_SUBSCRIPTION_TIER_TEMPLATE_UPSELL:return(0,r.jsx)(R,{renderPopout:(0,r.jsx)(p.Z,{guildId:i.id,markAsDismissed:U}),renderGuildHeaderDropdownButton:o});default:return o()}})()})})},242601:function(e,t,n){n.d(t,{Z:()=>eT}),n(388685),n(539854);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(524979),u=n(94171),d=n(442837),p=n(704215),h=n(846519),f=n(481060),g=n(570140),m=n(239091),b=n(269128),_=n(711237),E=n(110924),O=n(100527),y=n(906732),I=n(211242),v=n(785203),C=n(745837),S=n(13228),N=n(540059),T=n(211644),P=n(605236),j=n(243778),A=n(492162),Z=n(43740),x=n(596557),L=n(817520),w=n(999309),R=n(408987),D=n(130734),k=n(499137),M=n(258871),U=n(340541),G=n(972264),V=n(50101),B=n(639777),H=n(11352),F=n(304445),z=n(344185),W=n(155409),Y=n(10401),K=n(970731),q=n(210887),Q=n(592125),X=n(796974),J=n(486472),$=n(984933),ee=n(650774),et=n(430824),en=n(819640),er=n(496675),ei=n(878884),el=n(19780),ea=n(594174),eo=n(74538),es=n(374023),ec=n(373274),eu=n(315174),ed=n(577718),ep=n(156978),eh=n(591190),ef=n(981631),eg=n(652785),em=n(921944),eb=n(647086),e_=n(388032),eE=n(540835);function eO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eO(e,t,n[t])})}return e}function eI(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function ev(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let eC="server-settings",eS={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}};class eN extends i.PureComponent{static getDerivedStateFromProps(e){let{guild:t,hasChannelNotice:n}=e;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null}componentDidMount(){var e;this.setAnimatedValue(0),g.Z.subscribe("LAYER_PUSH",this.closeAllHeaderNotices),this.historyUnlisten=F.Z.addRouteChangeListener(this.handleHistoryChange);let{location:t}=F.Z.getHistory();(null==(e=t.state)?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(1e3,()=>this.setState({shouldShowSubscribeTooltip:!0}))}componentWillUnmount(){this.showTimeout.stop(),this.state.controller.dispose(),this.historyUnlisten(),g.Z.unsubscribe("LAYER_PUSH",this.closeAllHeaderNotices)}getGuildBannerHash(){let{guild:e,hasChannelNotice:t}=this.props;return null==e||t?null:e.banner}renderGuildHeaderNotices(e){let{showGuildTemplateDirtyTooltip:t,showGuildHeaderTutorial:n,anyLayerOpen:i}=this.props,{shouldShowSubscribeTooltip:l}=this.state;return n?(0,r.jsx)("div",{onClick:t=>e?null:t.stopPropagation(),children:(0,r.jsx)(W.Z,{tutorialId:eC,position:"bottom",inlineSpecs:eS,children:this.renderGuildHeaderDropdownButton(e)})}):t?(0,r.jsx)(f.ua7,{forceOpen:!0,color:f.FGA.BRAND,position:"bottom",shouldShow:!e&&!i,text:e_.intl.string(e_.t.sFSrFB),"aria-label":e_.intl.string(e_.t.sFSrFB),children:()=>this.renderGuildHeaderDropdownButton(e)}):i||e?this.renderGuildHeaderDropdownButton(e):l?(0,r.jsx)(f.yRy,{targetElementRef:this.guildHeaderDropdownButtonRef,renderPopout:()=>(0,r.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,r.jsx)(K.ZP,{header:e_.intl.string(e_.t["Q3qa4+"]),content:e_.intl.string(e_.t.UyHD4O),buttonCTA:e_.intl.string(e_.t.U9PrMz),onClick:this.handleCloseSubscribeTooltip})}),position:"bottom",align:"center",animation:f.yRy.Animation.TRANSLATE,shouldShow:!0,children:()=>this.renderGuildHeaderDropdownButton(e)}):this.renderGuildHeaderUpsellPopout(e)}renderGuildHeader(e){let{guild:t,isHeaderPopoutOpen:n,showGuildHeaderTutorial:i,showGuildTemplateDirtyTooltip:l,isGuildHeaderDismissibleTooltipShown:a,headerAnalyticsLocations:o,isRefreshEnabled:s}=this.props,{controller:c,renderBanner:u,bannerVisible:d,bannerVisibleHeight:p,communityInfoVisible:h}=this.state,g=i||l||a;return null==t?null:(0,U.jW)({location:"guild_sidebar"}).entrypoints?(0,r.jsx)(y.Gt,{value:o,children:(0,r.jsx)(eu.ZP,{guild:t,controller:c,renderBanner:u,hasSubheader:e,bannerVisible:d,communityInfoVisible:h,guildBanner:this.getGuildBannerHash(),onContextMenu:this.handleHeaderContextMenu,disableBannerAnimation:g,animationOverlayHeight:p,children:this.renderGuildHeaderNotices(n)})}):(0,r.jsx)(y.Gt,{value:o,children:(0,r.jsx)(f.KeG,{targetElementRef:this.guildHeaderRef,renderPopout:this.renderMenuPopout,position:"bottom",align:"center",animation:f.yRy.Animation.SCALE,shouldShow:n,onRequestClose:()=>{(0,Z.l)(!1)},spacing:s?4:8,children:i=>{var{onClick:l}=i,a=ev(i,["onClick"]);return(0,r.jsx)(eu.ZP,eI(ey({ref:this.guildHeaderRef,guild:t,controller:c,renderBanner:u,hasSubheader:e,bannerVisible:d,communityInfoVisible:h,guildBanner:this.getGuildBannerHash(),onClick:this.handleHeaderMenuToggle,onContextMenu:this.handleHeaderContextMenu,disableBannerAnimation:g,animationOverlayHeight:p},a),{children:this.renderGuildHeaderNotices(n)}))}})})}setAnimatedValue(e){let{guild:t}=this.props,n=null!=this.getGuildBannerHash(),r=null==t?void 0:t.hasCommunityInfoSubheader();null!=t&&(n||r)&&(n?this.setAnimatedValueForBanner(e):this.setAnimatedValueForGuildInfo(e))}setAnimatedValueForGuildInfo(e){let{communityInfoVisible:t,controller:n}=this.state;(e>=20&&t||e<20&&!t)&&(t=!t),t!==this.state.communityInfoVisible&&this.setState({communityInfoVisible:t}),n.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()}renderChannelList(){let e=this.props,{isUnavailable:t,guild:n,selectedChannel:i,enableStudyGroup:l}=e,a=ev(e,["isUnavailable","guild","selectedChannel","enableStudyGroup"]);if(t||null==n)return(0,r.jsx)(eh.Z,{withBannerPadding:null!=n&&null!=this.getGuildBannerHash()});{if(n.hasFeature(ef.oNc.HUB)&&!l)return(0,r.jsx)("div",{className:eE.hubContainer,children:(0,r.jsx)(M.Z,{guild:n,channel:null!=i?i:$.ZP.getDefaultChannel(n.id)})});let e=n.id===eb._?ec.j:ec.E;return(0,r.jsx)(e,eI(ey({guild:n},a),{guildBanner:this.getGuildBannerHash(),hasGuildSubheader:this.state.hasGuildSubheader,onScroll:null!=n&&(null!=this.getGuildBannerHash()||n.hasCommunityInfoSubheader())?this.pinBannerOrGuildInfo:null}))}}renderFooter(){let{shouldRenderClipsEducation:e}=this.props;return(0,r.jsx)(j.ZP,{contentTypes:[],children:t=>{let{visibleContent:n}=t;return e?(0,r.jsx)(C.Z,{}):null}})}render(){let{guild:e,footerAnalyticsLocations:t}=this.props;return(0,r.jsxs)("nav",{className:eE.container,onContextMenu:this.handleContextMenu,"aria-label":e_.intl.formatToPlainString(e_.t.nj5gAQ,{guildName:null!=e?e.toString():""}),children:[null!=e&&this.renderGuildHeader(this.state.hasGuildSubheader),null!=e&&(0,r.jsx)(ep.Z,{guild:e,setHasSubheader:e=>this.setState({hasGuildSubheader:e})}),this.renderChannelList(),(0,r.jsx)(y.Gt,{value:t,children:this.renderFooter()})]})}constructor(...e){super(...e),eO(this,"historyUnlisten",()=>{}),eO(this,"guildHeaderRef",i.createRef()),eO(this,"guildHeaderDropdownButtonRef",i.createRef()),eO(this,"showTimeout",new h.V7),eO(this,"state",{controller:new c.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:(this.props.isRefreshEnabled,88),hasGuildSubheader:!1}),eO(this,"handleHistoryChange",e=>{null!=e.state&&e.state.shouldShowSubscribeTooltip&&this.showTimeout.start(1e3,()=>this.setState({shouldShowSubscribeTooltip:!0}))}),eO(this,"handleHeaderMenuToggle",e=>{let{isHeaderPopoutOpen:t}=this.props;e.stopPropagation(),(0,Z.l)(!t),this.closeAllHeaderNotices()}),eO(this,"handleContextMenu",e=>{let{guild:t}=this.props;null!=t&&(0,m.jW)(e,async()=>{let{default:e}=await n.e("92795").then(n.bind(n,652171));return n=>(0,r.jsx)(e,eI(ey({},n),{guild:t}))})}),eO(this,"handleHeaderContextMenu",e=>{let{guild:t}=this.props;null!=t&&(0,m.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("44156"),n.e("55616"),n.e("49286"),n.e("6850"),n.e("58227"),n.e("32652"),n.e("54408"),n.e("20087"),n.e("92754"),n.e("87154"),n.e("33213"),n.e("15875")]).then(n.bind(n,545135));return n=>(0,r.jsx)(e,eI(ey({},n),{guild:t}))})}),eO(this,"closeAllHeaderNotices",()=>{this.handleCloseSubscribeTooltip(),this.handleCloseTemplateDirtyTooltip(),this.handleCloseStudentHubPrivacySettingsTooltip()}),eO(this,"handleCloseStudentHubPrivacySettingsTooltip",()=>{var e;let t=(0,P.un)(p.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),n=null==(e=this.props.guild)?void 0:e.hasFeature(ef.oNc.HUB);!t&&n&&(0,P.EW)(p.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP,{dismissAction:em.L.AUTO})}),eO(this,"handleCloseSubscribeTooltip",()=>{this.showTimeout.stop(),this.state.shouldShowSubscribeTooltip&&this.setState({shouldShowSubscribeTooltip:!1})}),eO(this,"handleCloseTemplateDirtyTooltip",()=>{let{guild:e,showGuildTemplateDirtyTooltip:t}=this.props;null!=e&&t&&R.Z.hideGuildTemplateDirtyTooltip(e.id)}),eO(this,"renderMenuPopout",async()=>{let{default:e}=await Promise.all([n.e("87154"),n.e("42018")]).then(n.bind(n,859432));return t=>{let{closePopout:n}=t,{guild:i}=this.props;return null!=i&&(0,r.jsx)(e,{onClose:n,guild:i})}}),eO(this,"renderGuildHeaderUpsellPopout",e=>{let{showGuildBoostingProgressBarUpsell:t,showGuildBoostingProgressBarSizeUpsell:n,showRoleSubscriptionUpsell:i,showInviteSplashUpsell:l,showDiscoveryLandingPageSettingsUpsell:a,showHubPrivacySettingsTooltip:o,showActiveThreadsNotice:s,showGuildSoundboardPermissionUpsell:c,showMediaChannelUpsell:u,showTierTemplatesUpsell:d,shouldRenderCustomNotificationSoundsCoachmark:h,shouldRenderGuildPowerupPerkCoachmark:f,guild:g,theme:m}=this.props;if(null==g)return this.renderGuildHeaderDropdownButton(e);let b=[];return(o&&b.push(p.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),s&&b.push(p.z.GUILD_HEADER_ACTIVE_THREADS_NOTICE),t&&b.push(p.z.GUILD_HEADER_PREMIUM_GUILD_PROGRESS),n&&b.push(p.z.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK),i&&b.push(p.z.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL),c&&b.push(p.z.GUILD_HEADER_SOUNDBOARD_PERMISSION),l&&b.push(p.z.GUILD_HEADER_INVITE_SPLASH),a&&b.push(p.z.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL),f&&b.push(p.z.GUILD_POWERUP_PERKS_COACHMARK),0===b.length)?this.renderGuildHeaderDropdownButton(e):(u&&b.push(p.z.MEDIA_CHANNEL_UPSELL),d&&b.push(p.z.SERVER_SUBSCRIPTION_TIER_TEMPLATE_UPSELL),h&&b.push(p.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_COACHMARK),(0,r.jsx)(ed.Z,{contentTypes:b,theme:m,guild:g,renderGuildHeaderDropdownButton:()=>this.renderGuildHeaderDropdownButton(e)}))}),eO(this,"renderGuildHeaderDropdownButton",e=>(0,U.jW)({location:"guild_sidebar"}).entrypoints?(0,r.jsx)(eu.wD,{open:e}):(0,r.jsx)(b.Z,{open:e,className:a()(eE.dropdownButton,{[eE.dropdownButtonBannerVisible]:this.state.bannerVisible}),ref:this.guildHeaderDropdownButtonRef})),eO(this,"setAnimatedValueForBanner",e=>{let t=(this.props.isRefreshEnabled,88),n=this.props.isRefreshEnabled?88:64,{renderBanner:r,communityInfoVisible:i,bannerVisible:l,bannerVisibleHeight:a,controller:o}=this.state;(e>=n&&l||e<n&&!l)&&(l=!l),(e>=t&&!r||e<t&&r)&&(r=!r),a=Math.max(t-e,0),i=l,(r!==this.state.renderBanner||l!==this.state.bannerVisible||a!==this.state.bannerVisibleHeight||i!==this.state.communityInfoVisible)&&this.setState({renderBanner:r,bannerVisible:l,bannerVisibleHeight:a,communityInfoVisible:i}),o.update({value:Math.min(1,Math.max(0,1-e/t)),immediate:!0}).start()}),eO(this,"pinBannerOrGuildInfo",e=>{let{scrollTop:t}=e;this.setAnimatedValue(t)})}}function eT(e){var t;let{guildId:n,hideSelectedChannel:l,selectedChannelId:a}=e,o=(0,d.e7)([et.Z],()=>et.Z.getGuild(n));(0,_.J_)(n);let c=(0,A.Z)(n),h=(0,d.e7)([X.Z],()=>X.Z.getGuildDimensions(n).scrollTo),g=(0,d.e7)([el.Z],()=>el.Z.getChannelId()),[m,b,C]=(0,d.Wu)([er.Z],()=>[er.Z.can(ef.Plq.MANAGE_GUILD,o),er.Z.can(ef.Plq.MANAGE_ROLES,o),er.Z.can(ef.Plq.MANAGE_THREADS,o)]),j=(0,d.e7)([J.Z],()=>J.Z.isUnavailable(n)),R=(0,d.e7)([ea.default],()=>ea.default.getCurrentUser()),M=(0,d.e7)([q.Z],()=>q.Z.darkSidebar?ef.BRd.DARK:q.Z.theme),{enableStudyGroup:U}=(0,k.s)(o),F=(0,T.ZP)(e=>e.currentlyShown.has(p.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION)),[W,K]=i.useState(!F),$=(0,E.Z)(n),{analyticsLocations:ec}=(0,y.ZP)(O.Z.GUILD_HEADER),{analyticsLocations:eu}=(0,y.ZP)(O.Z.GUILD_CHANNEL_LIST_FOOTER);i.useEffect(()=>{n!==$&&K(!F)},[n,$,F]);let[ed,ep]=(0,T.ZP)(e=>[eg.XN.some(t=>e.currentlyShown.has(t.dismissibleContentType)),e.currentlyShownGroup.has(em.R.GUILD_HEADER_TOOLTIPS)],u.X),eh=(0,v.Z)(o),eb=(0,f.s9z)(f.JQI),e_=(0,d.e7)([en.Z],()=>en.Z.hasLayers()),eE=(0,d.e7)([Y.Z],()=>Y.Z.shouldShow(eC)),eO=m&&(null==o?void 0:o.premiumProgressBarEnabled)===!1&&!es.s.isDisallowPopupsSet(),ey=(0,d.e7)([ee.Z],()=>ee.Z.getMemberCount(n)),eI=m&&null!=ey&&ey>=30&&(null==o?void 0:o.premiumProgressBarEnabled)===!1&&!es.s.isDisallowPopupsSet(),ev=b&&null!=o&&(o.hasFeature(ef.oNc.COMMUNITY)||null!=ey&&ey>50),eS=(0,w.Z)(n),eT=(null==o?void 0:o.hasFeature(ef.oNc.HUB))===!0,eP=m&&(null==o?void 0:o.hasFeature(ef.oNc.DISCOVERABLE))===!0,ej=(0,I.Q)(),eA=(m||(null==o?void 0:o.premiumTier)===ef.Eu4.NONE)&&!es.s.isDisallowPopupsSet()&&!ej,eZ=(0,d.e7)([D.Z,en.Z],()=>null!=o&&null!=R&&m&&!en.Z.hasLayers()&&D.Z.shouldShowGuildTemplateDirtyTooltip(n)),ex=(0,d.e7)([Q.Z],()=>Q.Z.getChannel(a)),{isPopoutOpen:eL}=(0,Z.y)(),ew=null!=(t=null==o?void 0:o.hasFeature(ef.oNc.COMMUNITY))&&t,eR=(0,d.e7)([z.Z],()=>!s().isEmpty(z.Z.getThreadsForGuild(n))),eD=eo.ZP.isNewUser(R),ek=W&&!eD,eM=(0,S.Z)(R);(0,x.Z)(o);let eU=(0,P.wE)(p.z.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP),eG=(0,G.Z)(n),eV=(0,L.Z)(n),eB=(0,d.e7)([el.Z],()=>el.Z.getChannelId()),eH=(0,d.e7)([ei.Z],()=>ei.Z.desyncedVoiceStatesCount),eF=H.Y.useExperiment({location:"GuildSidebar"},{autoTrackExposure:!0}).enabled,ez=(0,V.Ek)(n,"ConnectedGuildSidebar"),eW=(0,B.Z)(n),eY=(0,N.Q3)("GuildSidebar");return(0,r.jsx)(eN,{guildId:n,hideSelectedChannel:l,guild:o,scrollToChannel:h,selectedChannelId:l?null:a,selectedChannel:ex,selectedVoiceChannelId:g,voiceStates:c,rtcConnectedChannelId:eB,rtcDesyncedVoiceStatesCount:eH,isUnavailable:j,theme:M,user:R,hasChannelNotice:null!=eh||ed,anyLayerOpen:eb||e_,showGuildBoostingProgressBarUpsell:eO,showGuildBoostingProgressBarSizeUpsell:eI,showInviteSplashUpsell:eA,showDiscoveryLandingPageSettingsUpsell:eP,showGuildHeaderTutorial:eE,showGuildTemplateDirtyTooltip:eZ,showRoleSubscriptionUpsell:eS,showHubPrivacySettingsTooltip:eT,showNewUnreadsBar:ew,showActiveThreadsNotice:C&&null!=ey&&ey>=200&&eR,showGuildSoundboardPermissionUpsell:ev,showMediaChannelUpsell:eG,showTierTemplatesUpsell:eV,isHeaderPopoutOpen:eL,enableStudyGroup:U,isGuildHeaderDismissibleTooltipShown:ep,canShowCoachMarkAtBottom:W,headerAnalyticsLocations:ec,footerAnalyticsLocations:eu,shouldRenderClipsEducation:eM,isTutorialHighlightDismissed:eU,shouldRenderBurstCoachmark:ek,shouldRenderCustomNotificationSoundsCoachmark:eF,shouldRenderGuildPowerupPerkCoachmark:ez&&!1===eW,isRefreshEnabled:eY})}},156978:function(e,t,n){n.d(t,{Z:()=>o});var r=n(255367),i=n(73800),l=n(122611),a=n(302e3);function o(e){let{guild:t,setHasSubheader:n}=e,o=i.useRef(null);return i.useLayoutEffect(()=>{let e=o.current;null!=e&&n(e.childNodes.length>0)}),(0,r.jsx)("div",{className:a.container,ref:o,children:(0,r.jsx)(l.Z,{guild:t})})}},130734:function(e,t,n){n.d(t,{Z:()=>g});var r,i=n(442837),l=n(433517),a=n(570140);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let u="hasSeenGuildTemplatePromotionTooltip",d={},p=!0===l.K.get(u);function h(e){let{guildId:t}=e;d=c(s({},d),{[t]:!1})}class f extends(r=i.ZP.Store){shouldShowGuildTemplateDirtyTooltip(e){var t;return null!=(t=d[e])&&t}shouldShowGuildTemplatePromotionTooltip(){return!p}}o(f,"displayName","GuildTemplateTooltipStore");let g=new f(a.Z,{GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH:function(e){let{guildTemplate:t}=e;d=c(s({},d),{[t.source_guild_id]:t.is_dirty||!1})},GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE:function(){l.K.set(u,!0),p=!0},GUILD_TEMPLATE_SYNC_SUCCESS:function(e){d=c(s({},d),{[e.guildTemplate.source_guild_id]:!1})},GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE:h,GUILD_TEMPLATE_DELETE_SUCCESS:h})},962220:function(e,t,n){n.d(t,{Z:()=>f});var r,i,l=n(39612),a=n(271579),o=n(756647),s=n(625128),c=n(626135),u=n(954824),d=n(751189),p=n(981631);let h="template",f=(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},d.Z),i=i={openNativeAppModal(e){s.Z.openNativeAppModal(e,p.Etm.GUILD_TEMPLATE_BROWSER)},openMobileApp(e,t){if(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)return;let n=null!=e?(0,l.Oh)(e):(0,l.Gk)(),r=(0,a.WS)(),i=(0,a.ZP)(n,{utmSource:h,fingerprint:t,attemptId:r});c.default.track(p.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,o.K)(t),attempt_id:r,source:h,guild_template_code:e}),u.Z.launch(i,()=>{})}},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r)},315964:function(e,t,n){n.d(t,{Z:()=>a});var r=n(570140),i=n(142497),l=n(190378);let a={init(){r.Z.subscribe("VOICE_CHANNEL_SELECT",e=>{let{channelId:t}=e;null==t&&i.Kw(l.v.VOICE_PANEL_INTRODUCTION)})}}},499137:function(e,t,n){n.d(t,{s:()=>o});var r=n(73800),i=n(818083),l=n(981631);let a=(0,i.B)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]}),o=e=>{var t;return r.useEffect(()=>{null!=e&&e.hasFeature(l.oNc.HUB)&&a.trackExposure({guildId:e.id,location:"467c32_1"})},[e]),a.useExperiment({guildId:null!=(t=null==e?void 0:e.id)?t:l.lds,location:"467c32_2"},{autoTrackExposure:!1,disable:null==e||!e.hasFeature(l.oNc.HUB)})}},469988:function(e,t,n){n.d(t,{Z:()=>o});var r=n(255367);n(73800);var i=n(481060),l=n(388032),a=n(333182);let o=e=>{let{hasHub:t}=e;return(0,r.jsxs)("div",{className:a.container,children:[(0,r.jsx)("div",{className:a.iconContainer,children:(0,r.jsx)(i.aVH,{size:"md",color:i.TVs.colors.WHITE.css})}),(0,r.jsx)(i.Text,{color:"header-primary",variant:"text-lg/semibold",className:a.header,children:t?l.intl.string(l.t.hsSHh4):l.intl.string(l.t.Wf6iio)}),(0,r.jsx)(i.Text,{color:"header-secondary",variant:"text-sm/normal",className:a.__invalid_description,children:t?l.intl.string(l.t.FZ2J3d):l.intl.string(l.t.TvHcv7)}),(0,r.jsx)("div",{className:a.gap}),(0,r.jsx)(i.zxk,{size:i.zxk.Sizes.LARGE,color:t?i.zxk.Colors.PRIMARY:i.zxk.Colors.GREEN,onClick:()=>(0,i.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t))}),children:(0,r.jsx)(i.Text,{variant:"text-sm/semibold",className:a.addButton,color:"none",children:t?l.intl.string(l.t.IyjHDw):l.intl.string(l.t["KU/aNz"])})})]})}},613609:function(e,t,n){n.d(t,{Z:()=>m}),n(388685),n(457542);var r=n(255367),i=n(73800),l=n(442837),a=n(447543),o=n(568154),s=n(703656),c=n(430824),u=n(701190),d=n(449934),p=n(650233),h=n(981631),f=n(898625),g=n(460160);let m=e=>{let{guildId:t,inviteCode:n}=e,[m,b]=i.useState(f.hO.INITIAL),[_,E]=i.useState(null!=n);i.useEffect(()=>{null!=n&&a.ZP.resolveInvite(n,"Hub").finally(()=>E(!1))},[n]);let O=(0,l.e7)([u.Z],()=>null!=n?u.Z.getInvite(n):null),y=(0,l.e7)([c.Z],()=>c.Z.getGuild(t));i.useEffect(()=>{null!=y&&(0,s.uL)(h.Z5c.CHANNEL(t))},[y,t]);let I=i.useCallback(e=>{b(t=>Math.max(t,e))},[]),v=(0,d.gK)();return(0,r.jsx)("div",{className:g.page,children:(0,r.jsxs)(o.Z,{embedded:!0,splash:v,waveState:m,showLogo:!1,updateWaveState:I,children:[(0,r.jsx)("div",{className:g.dragRegion}),(0,r.jsx)("div",{className:g.contentWrapper,children:!_&&(0,r.jsx)(p.H,{invite:O})})]})})}},704631:function(e,t,n){n.d(t,{Z:()=>u});var r=n(255367);n(73800);var i=n(481060),l=n(324262),a=n(981631),o=n(921944),s=n(388032),c=n(524094);function u(e){let{guild:t,markAsDismissed:u}=e;return(0,r.jsx)(l.Z,{guild:t,onDismissed:()=>u(o.L.UNKNOWN),onClick:function(){(0,i.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,r.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t))})},message:s.intl.string(s.t["1+hiPz"]),cta:s.intl.string(s.t.hvVgAQ),trackingSource:a.PsQ.HUB_LINK_NOTICE,type:a.vID.HUB_LINK,image:c})}},567458:function(e,t,n){n.d(t,{Z:()=>s});var r=n(255367);n(73800);var i=n(481060),l=n(921944),a=n(388032),o=n(253563);function s(e){let{markAsDismissed:t}=e;return(0,r.jsxs)("div",{className:o.container,children:[(0,r.jsx)("div",{className:o.pointer}),(0,r.jsx)(i.Text,{variant:"text-sm/normal",className:o.content,children:a.intl.string(a.t.rdzeVF)}),(0,r.jsx)(i.zxk,{color:i.zxk.Colors.BRAND_INVERTED,fullWidth:!0,onClick:()=>{t(l.L.AUTO)},children:a.intl.string(a.t["NX+WJC"])})]})}},526383:function(e,t,n){n.d(t,{Z:()=>a}),n(388685);var r=n(442837),i=n(430824),l=n(981631);function a(){return(0,r.Wu)([i.Z],()=>Object.entries(i.Z.getGuilds()).filter(e=>{let[t,n]=e;return n.hasFeature(l.oNc.HUB)}).map(e=>{let[t,n]=e;return n}))}},819792:function(e,t,n){n.d(t,{Z:()=>g});var r=n(255367);n(73800);var i=n(524979),l=n(442837),a=n(481060),o=n(536442),s=n(984933),c=n(496675),u=n(51382),d=n(91326),p=n(503856),h=n(981631);function f(e){let{channel:t,guild:n}=e,s=(0,l.e7)([o.qc],()=>o.qc.hasHotspot(o.v6.HUB_STUDY_ROOM_NOTICE)),c=(0,p.r)(t.guild_id),h=(0,a.q_F)({maxHeight:300*!c,overflow:"hidden",delay:400});return(0,r.jsx)(i.animated.div,{style:h,children:s?(0,r.jsx)(u.Z,{channel:t,guild:n}):(0,r.jsx)(d.Z,{name:"\uD83D\uDCDA☕ ".concat(t.name),channel:t})})}let g=function(e){let{guild:t}=e,n=(0,l.e7)([s.ZP],()=>s.ZP.getChannels(t.id)[s.Zb][0]),i=(0,l.e7)([c.Z],()=>null!=n&&c.Z.can(h.Plq.CONNECT,n.channel));return t.hasFeature(h.oNc.HUB)&&null!=n&&i?(0,r.jsx)(f,{channel:n.channel,guild:t}):null}},51382:function(e,t,n){n.d(t,{Z:()=>d});var r=n(255367);n(73800);var i=n(324262),l=n(536442),a=n(703656),o=n(922482),s=n(981631),c=n(388032),u=n(882977);let d=e=>{let{channel:t,guild:n}=e;return(0,r.jsx)(i.Z,{guild:n,onDismissed:()=>{(0,l.Kw)(l.v6.HUB_STUDY_ROOM_NOTICE)},onClick:()=>{(0,l.Kw)(l.v6.HUB_STUDY_ROOM_NOTICE),null!=t&&null!=t.getGuildId()&&((0,o.Cq)(t),(0,a.XU)(t.getGuildId(),t.id))},title:c.intl.string(c.t["4Y2AS0"]),message:c.intl.string(c.t.wTsxTU),cta:c.intl.string(c.t.wBoE6O),image:u,type:s.vID.HUB_STUDY_ROOM})}},91326:function(e,t,n){n.d(t,{Z:()=>u});var r=n(255367);n(73800);var i=n(442837),l=n(471445),a=n(862099),o=n(938475),s=n(388032),c=n(376e3);let u=function(e){let{name:t,channel:n}=e,u=(0,i.Wu)([o.ZP],()=>o.ZP.getVoiceStatesForChannel(n).map(e=>{let{user:t}=e;return t}),[n]),d=(0,l.KS)(n);return(0,r.jsx)(a.gt,{heading:s.intl.string(s.t["X2K3//"]),topic:t,location:s.intl.string(s.t.LZA6NT),locationIcon:null!=d?(0,r.jsx)(d,{size:"xs",color:"currentColor",className:c.icon}):null,children:(0,r.jsx)(a.Co,{channel:n,speakers:u,voiceType:a.bZ.STUDY_ROOM})})}},919285:function(e,t,n){n.d(t,{Z:()=>u});var r=n(255367);n(73800);var i=n(324262),l=n(434404),a=n(929507),o=n(981631),s=n(388032),c=n(943935);function u(e){let{guild:t}=e,n=()=>a.Z.dismissNotice(t.id);return(0,r.jsx)(i.Z,{guild:t,onDismissed:n,cta:s.intl.string(s.t.RzWDqa),message:s.intl.format(s.t["kQ/MDg"],{}),type:o.vID.COMMANDS_MIGRATION,image:c,onClick:()=>{n(),l.Z.open(t.id,o.pNK.INTEGRATIONS)},imageMarginTop:15,imageMarginX:22})}},975533:function(e,t,n){n.d(t,{Z:()=>R}),n(388685);var r=n(570140),i=n(846027),l=n(13245),a=n(287734),o=n(872810),s=n(223245),c=n(479837),u=n(317770),d=n(924557),p=n(39604),h=n(569545),f=n(722835),g=n(703656),m=n(352527),b=n(641015),_=n(183584),E=n(383451),O=n(199902),y=n(131951),I=n(246946),v=n(808506),C=n(237997),S=n(626135),N=n(554174),T=n(577153),P=n(981631),j=n(345655),A=n(65154);let Z=new Map;function x(e,t,n){var r;let i=performance.now(),l=null!=(r=n.context)?r:A.Yn.DEFAULT;if(!0!==n.latched&&e)n.pressedTime=i;else if(null!=n.pressedTime&&(0,E.f)({location:"doPTT",autoTrackExposure:!1}).enableLatching){let e=j._M,{pttLatchingEnabled:t=!1}=y.Z.getModeOptions(l);if(!0===t&&i<n.pressedTime+e){n.latched=!0;return}n.latched=!1}let a=Z.get(l);null==a&&(a=new Map,Z.set(l,a));let o=a.get(t);null==o&&(o=new Set,a.set(t,o)),e?o.add(n.id):o.delete(n.id);let s=o.size>0;y.Z.getMediaEngine().eachConnection(e=>e.setForceAudioInput(s,t),l)}let L={[P.kg4.TOGGLE_PRIORITY_SPEAKER]:{onTrigger(){},keyEvents:{}},[P.kg4.UNASSIGNED]:{onTrigger(){},keyEvents:{}},[P.kg4.PUSH_TO_TALK]:{onTrigger(e,t){y.Z.getMode(t.context)===P.pM4.PUSH_TO_TALK&&(L[P.kg4.PUSH_TO_TALK].isPressed=e,x(e,!1,t))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[P.kg4.PUSH_TO_TALK_PRIORITY]:{onTrigger(e,t){(y.Z.getMode()===P.pM4.PUSH_TO_TALK||T.Z.getCurrentConfig({location:"keybinds"}).onPTTKeybind)&&(L[P.kg4.PUSH_TO_TALK_PRIORITY].isPressed=e,x(e,!0,t))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[P.kg4.VAD_PRIORITY]:{onTrigger(e,t){y.Z.getMode()===P.pM4.VOICE_ACTIVITY&&T.Z.getCurrentConfig({location:"keybinds"}).separateKeybind&&(L[P.kg4.VAD_PRIORITY].isPressed=e,x(e,!0,t))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[P.kg4.PUSH_TO_MUTE]:{onTrigger(e){y.Z.getMode()===P.pM4.VOICE_ACTIVITY&&(L[P.kg4.PUSH_TO_MUTE].isPressed=e,i.Z.setTemporarySelfMute(e))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[P.kg4.TOGGLE_MUTE]:{onTrigger:()=>i.Z.toggleSelfMute({usedKeybind:!0,location:"Custom Keybind"}),keyEvents:{keyup:!0,keydown:!1}},[P.kg4.TOGGLE_DEAFEN]:{onTrigger:()=>i.Z.toggleSelfDeaf({usedKeybind:!0,location:"Custom Keybind"}),keyEvents:{keyup:!0,keydown:!1}},[P.kg4.TOGGLE_CAMERA]:{onTrigger:()=>(0,c.r)(),keyEvents:{keyup:!0,keydown:!1}},[P.kg4.TOGGLE_VOICE_MODE]:{onTrigger(){let e=y.Z.getMode()===P.pM4.PUSH_TO_TALK?P.pM4.VOICE_ACTIVITY:P.pM4.PUSH_TO_TALK;i.Z.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},[P.kg4.TOGGLE_OVERLAY]:{onTrigger(){},keyEvents:{keyup:!0,keydown:!1}},[P.kg4.TOGGLE_OVERLAY_INPUT_LOCK]:{onTrigger(){let e=(0,N.Z)();null!=e&&l.Z.setInputLocked(!C.default.isLocked(e),e)},keyEvents:{keyup:!0,keydown:!1}},[P.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]:{onTrigger(){let e=v.default.getFocusedPID(),t=null!=e;null!=e&&t&&C.default.isPinned(P.Odu.TEXT)&&C.default.isLocked(e)&&v.default.isReady(e)&&l.Z.activateRegion(P.O0n.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},[P.kg4.TOGGLE_GO_LIVE_STREAMING]:{onTrigger(){let e=O.Z.getCurrentUserActiveStream();if(null!=e)return(0,o.g)((0,h.V9)(e));(0,f.Z)()},keyEvents:{keyup:!0,keydown:!1}},[P.kg4.TOGGLE_STREAMER_MODE]:{onTrigger(){s.Z.setEnabled(!I.Z.enabled)},keyEvents:{keyup:!0,keydown:!1}},[P.kg4.NAVIGATE_BACK]:{onTrigger:()=>(0,g.op)(),keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},[P.kg4.NAVIGATE_FORWARD]:{onTrigger:()=>(0,g.eH)(),keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},[P.kg4.SOUNDBOARD]:{onTrigger:()=>{let e=(0,N.Z)();if(null!=e)if(m.Z.enabled)(0,_.oZ)(e);else{if(!(0,b.D)())return;(0,_.IN)(!0,e)}},keyEvents:{keyup:!0,keydown:!1}},[P.kg4.SOUNDBOARD_HOLD]:{onTrigger:e=>{let t=(0,N.Z)();if(null!=t){if(e){if(!(0,b.D)())return;(0,_.IN)(!1,t)}else(0,_.oZ)(t);return}},keyEvents:{keyup:!0,keydown:!0}},[P.kg4.SAVE_CLIP]:{onTrigger:()=>{(0,d.ln)()&&(S.default.track(P.rMx.CLIP_SAVE_KEYBIND_PRESSED),(0,p.C1)())},keyEvents:{keyup:!1,keydown:!0}},[P.kg4.SWITCH_TO_VOICE_CHANNEL]:{onTrigger(e,t){let{params:{channelId:n}}=t;null!=n&&a.default.selectVoiceChannel(n)},keyEvents:{keyup:!0,keydown:!1,blurred:!0,focused:!0}},[P.kg4.DISCONNECT_FROM_VOICE_CHANNEL]:{onTrigger(){a.default.selectVoiceChannel(null)},keyEvents:{keyup:!0,keydown:!1,blurred:!0,focused:!0}}};class w extends u.Z{_initialize(){r.Z.wait(()=>r.Z.dispatch({type:"KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS",keybinds:L}))}_terminate(){}}let R=new w},972264:function(e,t,n){n.d(t,{Z:()=>s});var r=n(442837),i=n(430824),l=n(496675),a=n(312146),o=n(981631);function s(e){let t=(0,r.e7)([i.Z],()=>i.Z.getGuild(e)),n=(0,a.Ui)(t),s=l.Z.can(o.Plq.MANAGE_CHANNELS,t);return n&&s}},782959:function(e,t,n){n.d(t,{Z:()=>f});var r=n(255367);n(73800);var i=n(481060),l=n(367907),a=n(70097),o=n(970731),s=n(626135),c=n(63063),u=n(981631),d=n(388032),p=n(966651);function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function f(e){let{guildId:t,markAsDismissed:f}=e,g=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Text,{color:"always-white",variant:"text-sm/normal",className:p.upsellBody,children:d.intl.string(d.t["yQ0X+f"])}),(0,r.jsx)(i.Text,{color:"always-white",variant:"text-sm/normal",children:d.intl.format(d.t["2Sapx8"],{hcArticleUrl:c.Z.getCreatorSupportArticleURL(u.BhN.MEDIA_CHANNEL)})})]});return(0,r.jsx)(o.ZP,{header:d.intl.string(d.t.fW7UqK),content:g,asset:(0,r.jsx)(a.Z,{className:p.video,src:"https://cdn.discordapp.com/assets/media_channel/media_channel_upsell_demo.mp4",autoPlay:!0,loop:!0}),buttonCTA:d.intl.string(d.t.JzJpg4),onClick:()=>{s.default.track(u.rMx.MEDIA_CHANNEL_UPSELL_CLICKED,h({},(0,l.hH)(t))),(0,i.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("45094"),n.e("45822")]).then(n.bind(n,218613));return n=>{var i,l;return(0,r.jsx)(e,(i=h({},n),l=l={channelType:u.d4z.GUILD_MEDIA,guildId:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},secondaryButtonCTA:d.intl.string(d.t.WAI6xs),markAsDismissed:f})}},584731:function(e,t,n){n(388685);var r=n(442837),i=n(570140),l=n(513418),a=n(710845),o=n(592125),s=n(375954),c=n(625236);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=-1/0,p=new a.Z("MessagePreviewStore");class h extends r.ZP.Store{isLatest(e,t){var n;let r=this.guilds.get(null!=e?e:null);return null!=(n=null==r?void 0:r.isLatest(t,this.generation))&&n}isLocalFetchNeeded(e){var t,n;return null==(n=null==(t=this.guilds.get(e))?void 0:t.localNeeded)||n}message(e,t){var n,r;return null!=(r=null==(n=this.guilds.get(e))?void 0:n.messageRecord(t))?r:null}data(e){return this.guilds.has(e)||this.guilds.set(e,new c.B),this.guilds.get(e)}handleOneGuildCreate(e){var t,n;let r=this.data(e.id);r.putMany(null!=(t=e.lastMessages)?t:[],this.generation),r.putMany(null!=(n=e.threadMessages)?n:[],this.generation),null!=e.lastMessages&&(r.localNeeded=!1)}handleConnectionOpen(e){for(let t of(this.generation+=1,e.guilds))this.handleOneGuildCreate(t)}handleGuildCreate(e){this.handleOneGuildCreate(e.guild)}handleGuildDelete(e){this.guilds.delete(e.guild.id)}handleMessageCreate(e){var t;if(e.optimistic||e.isPushNotification)return!1;this.data(null!=(t=e.guildId)?t:null).put(e.message.channel_id,e.message,this.generation)}handleMessageDelete(e){var t,n;let r=null!=(n=e.guildId)?n:null;if((null==(t=this.data(r))?void 0:t.messageId(e.channelId))===e.id){let t=s.Z.getMessages(e.channelId),n=t.hasMoreAfter?null:t.last();null!=n?this.data(r).put(e.channelId,n,this.generation):this.data(r).delete(e.channelId)}}handleMessageUpdate(e){var t;let n=null!=(t=e.guildId)?t:null,r=e.message.channel_id,i=e.message.id;if(null==r||null==i)return!1;let l=this.data(n);if((null==l?void 0:l.messageId(r))!==i)return!1;null==l||l.update(e.message)}handleThreadListSync(e){var t;this.data(e.guildId).putMany(null!=(t=e.mostRecentMessages)?t:[],this.generation)}handleLoadMessagesSuccess(e){var t,n;let r=o.Z.getBasicChannel(e.channelId);if(null==r)return!1;(0,l.Z)(e.messages),e.isAfter||e.isBefore||e.hasMoreAfter?this.data(r.guild_id).putNew(e.channelId,null!=(n=e.messages[0])?n:null,this.generation):this.data(r.guild_id).put(e.channelId,null!=(t=e.messages[0])?t:null,this.generation)}handleLocalMessagesLoaded(e){let t=o.Z.getBasicChannel(e.channelId);if(null!=t){var n;(0,l.Z)(e.messages),this.data(t.guild_id).putNew(e.channelId,null!=(n=e.messages[0])?n:null,d)}}handleMessagePreviewsLoaded(e){p.verbose("adding remote previews (guildId: ".concat(e.guildId,", messages: ").concat(e.messages.length,")"));let t=this.data(e.guildId);for(let n of e.messages)t.isLatest(n.channel_id,this.generation)||t.put(n.channel_id,n,this.generation)}handleMessagePreviewsLocallyLoaded(e){p.verbose("adding local previews (guildId: ".concat(e.guildId,", messages: ").concat(e.messages.length,")"));let t=this.data(e.guildId);for(let[n,r]of e.messages)t.has(n)||t.put(n,r,d);t.localNeeded=!1}handleLogout(e){this.guilds.clear()}constructor(){super(i.Z,{CONNECTION_OPEN:e=>this.handleConnectionOpen(e),GUILD_CREATE:e=>this.handleGuildCreate(e),GUILD_DELETE:e=>this.handleGuildDelete(e),LOAD_MESSAGES_SUCCESS:e=>this.handleLoadMessagesSuccess(e),LOCAL_MESSAGES_LOADED:e=>this.handleLocalMessagesLoaded(e),LOGOUT:e=>this.handleLogout(e),MESSAGE_CREATE:e=>this.handleMessageCreate(e),MESSAGE_DELETE:e=>this.handleMessageDelete(e),MESSAGE_PREVIEWS_LOADED:e=>this.handleMessagePreviewsLoaded(e),MESSAGE_PREVIEWS_LOCALLY_LOADED:e=>this.handleMessagePreviewsLocallyLoaded(e),MESSAGE_UPDATE:e=>this.handleMessageUpdate(e),THREAD_LIST_SYNC:e=>this.handleThreadListSync(e)}),u(this,"guilds",new Map),u(this,"generation",0)}}new h},625236:function(e,t,n){n.d(t,{B:()=>u}),n(388685);var r=n(786761),i=n(23750),l=n(306680),a=n(709054);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class u{isLatest(e,t){return this.messageGeneration(e,t)===t}messageGeneration(e,t){let n=this.messages.get(e);return null==n?-1/0:n.generation!==t&&null!=n.message&&n.message.id===l.ZP.lastMessageId(e)?(this.messages.set(e,c(s({},n),{generation:t})),t):n.generation}messageId(e){var t,n;let r=this.messages.get(e);return null!=(n=null==r||null==(t=r.message)?void 0:t.id)?n:null}messageRecord(e){var t;let n=this.messages.get(e);return null==n||null==n.message||n.message instanceof i.ZP||(n.message=(0,r.e5)(n.message)),null!=(t=null==n?void 0:n.message)?t:null}has(e){return this.messages.has(e)}put(e,t,n){this.messages.set(e,{message:t,generation:n})}putNew(e,t,n){var r,i,l;let o=this.messages.get(e);null!=t&&(i=t.id,null==(l=null==o||null==(r=o.message)?void 0:r.id)||a.default.compare(i,l)>0)&&this.put(e,t,n)}putMany(e,t){for(let n of e)this.put(n.channel_id,n,t)}update(e){var t;if(null==e.id||null==e.channel_id)return;let n=e.channel_id,l=this.messages.get(n);if((null==l||null==(t=l.message)?void 0:t.id)!==e.id)return;let a=l.message instanceof i.ZP?(0,r.wi)(l.message,e):(0,r.gx)(l.message,e);this.messages.set(n,c(s({},l),{message:a}))}delete(e){this.messages.delete(e)}constructor(){o(this,"localNeeded",!0),o(this,"messages",new Map)}}},900255:function(e,t,n){n.d(t,{x:()=>i}),n(642613),n(583741);var r=n(709054);function i(e){return e.sort((e,t)=>r.default.compare(e.lastMessageId,t.lastMessageId)).reverse()}},647090:function(e,t,n){n.d(t,{J:()=>a});var r=n(442837),i=n(375954),l=n(594174);let a=e=>(0,r.e7)([i.Z,l.default],()=>{if(null==e)return!1;let t=l.default.getCurrentUser();return null!=i.Z.getMessages(e).findNewest(e=>e.author.id===(null==t?void 0:t.id))})},26373:function(e,t,n){n.d(t,{K:()=>u,V:()=>d});var r=n(73800),i=n(442837),l=n(990169),a=n(355298),o=n(333984),s=n(899740),c=n(355350);function u(){let e=(0,s.q)(),t=r.useRef(e),n=(0,i.e7)([a.Z],()=>a.Z.isReady()),o=r.useRef(n);return r.useEffect(()=>{n&&!o.current&&(o.current=!0,t.current=e)},[n,e]),1>=(0,l.Z)(t)&&1===e}function d(){let e=(0,c.w)(),t=r.useRef(e),n=(0,i.e7)([o.Z],()=>o.Z.isReady()),a=r.useRef(n);return r.useEffect(()=>{n&&!a.current&&(a.current=!0,t.current=e)},[n,e]),1>=(0,l.Z)(t)&&1===e}},620924:function(e,t,n){n.d(t,{c:()=>s}),n(913527);var r=n(442837),i=n(91159),l=n(306680),a=n(709054),o=n(868807);function s(e){let t=(0,o.a)(e),n=function(e){let{lastMessageId:t,message:n,loaded:r}=e;return r&&null!=n?a.default.extractTimestamp(n.id):null!=t?a.default.extractTimestamp(t):null}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({lastMessageId:(0,r.e7)([l.ZP],()=>l.ZP.lastMessageId(e.id))},t));return null==n?"":(0,i.Ye)(n)}},332712:function(e,t,n){n.d(t,{O:()=>c});var r=n(73800),i=n(442837),l=n(570140),a=n(621853),o=n(484459),s=n(594174);function c(e){let t=(0,i.e7)([s.default],()=>s.default.getUser(e)),n=(0,i.Wu)([a.Z],()=>{var t,n;return null!=(n=null==(t=a.Z.getMutualGuilds(e))?void 0:t.map(e=>e.guild))?n:[]});return r.useEffect(()=>{0===n.length&&null!=t&&null==a.Z.getMutualGuilds(e)&&l.Z.wait(()=>(0,o.Z)(e,void 0,{withMutualGuilds:!0}))},[n,t,e]),n}},28476:function(e,t,n){n.d(t,{a:()=>o});var r=n(442837),i=n(355298),l=n(869404),a=n(333984);function o(){return(0,r.e7)([i.Z,a.Z],()=>(0,l.IO)([i.Z,a.Z]))}},177033:function(e,t,n){n.d(t,{Z:()=>c});var r=n(73800),i=n(442837),l=n(592125),a=n(594174),o=n(355298),s=n(900255);function c(){let e=(0,i.e7)([l.Z],()=>l.Z.getPrivateChannelsVersion()),t=(0,i.Wu)([l.Z,o.Z],()=>{let e=l.Z.getMutablePrivateChannels(),t=Array.from(o.Z.getMessageRequestChannelIds()).map(t=>e[t]).filter(e=>null!=e);return(0,s.x)(t)},[e]),n=(0,i.cj)([a.default],()=>{let e={};return t.forEach(t=>{let n=a.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}),e},[t]);return r.useMemo(()=>t.map(e=>({channel:e,user:n[e.id]})),[t,n])}},110287:function(e,t,n){n.d(t,{Z:()=>c});var r=n(73800),i=n(442837),l=n(592125),a=n(594174),o=n(900255),s=n(333984);function c(){let e=(0,i.e7)([l.Z],()=>l.Z.getPrivateChannelsVersion()),t=(0,i.Wu)([l.Z,s.Z],()=>{let e=l.Z.getMutablePrivateChannels(),t=Array.from(s.Z.getSpamChannelIds()).map(t=>e[t]).filter(e=>null!=e);return(0,o.x)(t)},[e]),n=(0,i.cj)([a.default],()=>{let e={};return t.forEach(t=>{let n=a.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}),e},[t]);return r.useMemo(()=>t.map(e=>({channel:e,user:n[e.id]})),[t,n])}},355350:function(e,t,n){n.d(t,{w:()=>l});var r=n(442837),i=n(333984);function l(){return(0,r.e7)([i.Z],()=>i.Z.getSpamChannelsCount())}},545724:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(748780),s=n(91192),c=n(481060),u=n(239091),d=n(687683),p=n(645923);function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let g=function(e){let{index:t,children:l,user:g,channel:m,onClick:b,isFocused:_,isActive:E,onOtherHover:O,className:y}=e,[I,v]=i.useState(!1),[C,S]=i.useState(!1),N=()=>{v(!0),!_||E||C||null==O||O()},T=()=>{v(!1)},P=(e,t)=>{null!=t&&(S(!0),(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("86423")]).then(n.bind(n,881351));return n=>(0,r.jsx)(e,f(h({},n),{user:t}))},{onClose:()=>{S(!1)}}))};return(0,r.jsx)(s.mh,{id:m.id,children:e=>(0,r.jsx)(c.tEY,{offset:{left:-8,right:-8},children:(0,r.jsx)(o.Z.div,f(h({className:a()(p.messageRequestItem,y,{[p.active]:E||C,[p.firstItem]:0===t}),onContextMenu:e=>P(e,g),onMouseEnter:N,onMouseLeave:T,onClick:null!=b?b:void 0,style:{LIST_ROW_HEIGHT:d.WN,opacity:1}},e),{children:l(I||E||C)}))})})}},745052:function(e,t,n){n.d(t,{Z:()=>eo}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(91192),s=n(286379),c=n(442837),u=n(704215),d=n(481060),p=n(150063),h=n(230711),f=n(112724),g=n(183126),m=n(493773),b=n(607070),_=n(209613),E=n(325708),O=n(320149),y=n(82295),I=n(252618),v=n(605236),C=n(243778),S=n(984370),N=n(797614),T=n(359110),P=n(6025),j=n(897473),A=n(108427),Z=n(970731),x=n(210887),L=n(433355),w=n(592125),R=n(819640),D=n(626135),k=n(647090),M=n(385956),U=n(610697),G=n(26373),V=n(486622),B=n(488634),H=n(899740),F=n(177033),z=n(355350),W=n(948247),Y=n(96479),K=n(480874),q=n(687683),Q=n(981631),X=n(921944),J=n(526761),$=n(388032),ee=n(596576),et=n(100658);function en(){let e=i.useRef(null),t=(0,H.q)(),n=(0,F.Z)(),l=(0,G.K)(),c=(0,g.N)(),u=i.useCallback(()=>{(0,d.showToast)((0,d.createToast)($.intl.string($.t.EDYbS0),d.ToastType.FAILURE))},[]),{rejectAll:p}=(0,V.m)({onError:u}),h=(0,_.Z)("message-requests-list"),{channelId:f}=(0,B._)(),m=i.useCallback(()=>{p(n.map(e=>e.channel.id))},[n,p]),b=i.useCallback(e=>{var t,i;let{row:o}=e,s=n[o],c=null==(i=n[o+1])||null==(t=i.channel)?void 0:t.id,u=s.channel.id;return(0,r.jsx)(Y.Z,{index:o,className:a()({[ee.selected]:null!=f&&f===u,[ee.siblingSelected]:null!=f&&f===c}),channel:s.channel,user:s.user,hasSingleMessageRequest:l},u)},[l,n,f]),E=i.useCallback(()=>(0,r.jsxs)(y.Z,{className:ee.sectionTitle,children:[t>0?$.intl.formatToPlainString($.t.rA4iWV,{count:t}):$.intl.string($.t.flPU6u),c&&t>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Text,{className:ee.titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:"•"}),(0,r.jsx)(d.zxk,{onClick:m,look:d.iLD.LINK,color:d.Ttl.LINK,size:d.PhG.NONE,className:ee.clearAllButton,"aria-label":$.intl.string($.t.p6t7RE),children:$.intl.string($.t.p6t7RE)})]}):null]},"title"),[t,m,c]);return(n.length!==t&&N.Z.increment({name:s.V.MESSAGE_REQUEST_COUNT_DRIFT}),0===n.length)?(0,r.jsx)(W.Z,{section:q.pS.REQUESTS}):(0,r.jsx)(o.bG,{navigator:h,children:(0,r.jsx)(o.SJ,{children:t=>{var{ref:i,role:l}=t,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["ref","role"]);return(0,r.jsx)(d.aVo,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:ee.list,innerRole:l,innerAriaLabel:$.intl.string($.t.e7GWjY),ref:t=>{var n;e.current=t,i.current=null!=(n=null==t?void 0:t.getScrollerNode())?n:null},paddingTop:24,paddingBottom:24,sectionHeight:q.oi,rowHeight:q.WN,renderSection:E,renderRow:b,sections:[n.length],chunkSize:30,fade:!0},a),"message-requests-list")}})})}function er(e){let{pageWidth:t,onSidebarResize:n}=e,i=(0,c.e7)([L.ZP],()=>L.ZP.getSidebarState(L.uZ)),l=(0,c.e7)([w.Z],()=>w.Z.getChannel(null==i?void 0:i.channelId));if(null==i||i.type!==j.tI.VIEW_MESSAGE_REQUEST||null==l||!l.isPrivate())return null;let a=t-Q.R7I;return(0,r.jsx)(E.Z,{sidebarType:E.y.MessageRequestSidebar,maxWidth:a,onWidthChange:n,children:(0,r.jsx)(O.Z,{channel:l,baseChannelId:L.uZ})})}let ei=function(e){let{markAsDismissed:t}=e;return(0,r.jsx)(Z.ZP,{header:$.intl.string($.t.hRT8tb),content:$.intl.string($.t.apPgJC),buttonCTA:$.intl.string($.t.LNoAQU),className:ee.messageRequestCoachmark,onClick:()=>t(X.L.UNKNOWN),markAsDismissed:t,caretPosition:Z.DF.TOP_CENTER,headerClassName:ee.__invalid_header})},el=e=>{let t=(0,U.Z)(),n=()=>R.Z.hasLayers()||(0,d.$sL)(),l=(0,c.e7)([b.Z],()=>b.Z.useReducedMotion);return i.useEffect(()=>{(0,v.kk)(u.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK)},[]),(0,r.jsx)(C.ZP,{contentTypes:[u.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK],children:i=>{let{visibleContent:a,markAsDismissed:o}=i;return a===u.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK?(0,r.jsx)(d.yRy,{targetElementRef:e.targetElementRef,renderPopout:()=>t?(0,r.jsx)(ei,{markAsDismissed:o}):(0,r.jsx)(Z.ZP,{header:$.intl.string($.t.hRT8tb),content:$.intl.string($.t["8JWodn"]),buttonCTA:$.intl.string($.t.JN6EOD),secondaryButtonCTA:$.intl.string($.t.LNoAQU),className:ee.messageRequestCoachmark,onClick:e=>{e.stopPropagation(),h.Z.open(Q.oAB.CONTENT_AND_SOCIAL,null,{scrollPosition:J.FY.MESSAGE_REQUESTS_V2})},markAsDismissed:o,caretPosition:Z.DF.TOP_CENTER,headerClassName:ee.__invalid_header}),position:"bottom",align:"center",animation:l?d.yRy.Animation.NONE:d.yRy.Animation.TRANSLATE,shouldShow:!n(),spacing:16,children:()=>e.children}):e.children}})};function ea(e){let{section:t}=e;return t===q.pS.SPAM?(0,r.jsx)(K.Z,{}):(0,r.jsx)(en,{})}let eo=(0,f.Z)(function(e){let{width:t}=e,n=(0,H.q)();(0,m.ZP)(()=>{p.Y(Q.Z5c.MESSAGE_REQUESTS),(0,A.e)("message-requests"),D.default.track(Q.rMx.MESSAGE_REQUESTS_VIEWED,{num_message_requests:n}),N.Z.increment({name:s.V.MESSAGE_REQUEST_VIEW})});let l=(0,c.e7)([x.Z],()=>x.Z.theme),o=(0,z.w)(),[u,h]=i.useState(!1),f=(0,c.e7)([L.ZP],()=>{let e=L.ZP.getSidebarState(L.uZ);return null!=e&&e.type===j.tI.VIEW_MESSAGE_REQUEST?e:null}),g=null==f?void 0:f.channelId,b=null!=f,_=(0,M.T)(g),E=(0,k.J)(g),O=i.useRef(null);i.useEffect(()=>{null!=g&&!_&&E&&b&&((0,T.Kh)(g),P.Z.closeChannelSidebar(L.uZ))},[g,E,b,_]);let[y,v]=i.useState(q.pS.REQUESTS),C=e=>{v(e)};return(0,I.Tt)({location:$.intl.string($.t.e7GWjY)}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:a()(et.chat,ee.container,{[et.threadSidebarOpen]:b,[et.threadSidebarFloating]:b&&u}),children:[(0,r.jsx)(d.f6W,{theme:l,children:e=>(0,r.jsxs)(S.Z,{className:e,toolbar:!0,children:[(0,r.jsx)(S.Z.Icon,{icon:d._XJ,"aria-hidden":!0}),(0,r.jsx)(el,{targetElementRef:O,children:(0,r.jsx)(S.Z.Title,{ref:O,children:$.intl.string($.t.e7GWjY)})}),(0,r.jsx)(S.Z.Divider,{}),(0,r.jsxs)(d.njP,{"aria-label":$.intl.string($.t.e7GWjY),selectedItem:y,type:"top-pill",onItemSelect:C,children:[(0,r.jsx)(d.njP.Item,{id:q.pS.REQUESTS,className:ee.item,children:$.intl.string($.t["7RFcXV"])}),(0,r.jsx)(d.njP.Item,{id:q.pS.SPAM,className:ee.item,children:0===o?$.intl.string($.t.ulKXHh):$.intl.formatToPlainString($.t["5jtrlZ"],{count:o})})]})]})}),(0,r.jsx)("div",{className:et.content,children:(0,r.jsx)(ea,{section:y})})]}),b&&(0,r.jsx)(er,{pageWidth:t,onSidebarResize:(e,t)=>{h(t)}})]})})},81471:function(e,t,n){n.d(t,{Z:()=>v});var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(95398),u=n(905405),d=n(255269),p=n(937889),h=n(267128),f=n(695346),g=n(496675),m=n(699516),b=n(868807),_=n(981631),E=n(217702),O=n(388032),y=n(391587),I=n(73433);let v=i.memo(function(e){let{channel:t}=e,{loaded:n,error:l,message:v}=(0,b.a)(t),C=(0,u.p)(),{isBlocked:S,isIgnored:N}=(0,o.cj)([m.Z],()=>({isBlocked:null!=v&&m.Z.isBlockedForMessage(v),isIgnored:null!=v&&m.Z.isIgnoredForMessage(v)}),[v]),T=(0,o.e7)([g.Z],()=>g.Z.can(_.Plq.MANAGE_MESSAGES,t)),P=f.cC.useSetting(),{content:j}=i.useMemo(()=>(null==v?void 0:v.content)!=null&&""!==v.content?(0,p.ZP)(v,{formatInline:!0,noStyleAndInteraction:!0,shouldFilterKeywords:C}):{content:null},[v,C]),A=null;if(l)A=(0,r.jsx)(s.Text,{className:y.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:O.intl.string(O.t.BZHld3)});else if(n)if(null!=v&&S)A=(0,r.jsx)(s.Text,{className:y.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:O.intl.string(O.t["WPe+xM"])});else if(null!=v&&N)A=(0,r.jsx)(s.Text,{className:y.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:O.intl.string(O.t.uxrh1N)});else if(null!=v){let{contentPlaceholder:e,renderedContent:t}=(0,h.f)(v,j,S,N,a()(y.messageContent,I.inlineFormat),{leadingIconClass:y.messageContentIcon,trailingIconClass:y.messageContentIcon,iconSize:E.WW});A=null!=t?(0,r.jsx)(s.Text,{variant:"text-sm/normal",color:"text-muted",className:y.messageContent,children:t}):(0,r.jsx)(s.Text,{tag:"span",variant:"text-sm/normal",color:"text-muted",className:y.messageReplacement,children:e})}else A=(0,r.jsx)(s.Text,{className:y.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:O.intl.string(O.t["0KfDxM"])});else A=null;return(0,r.jsx)(c.aQ.Provider,{value:(0,d.Z)(P,T),children:(0,r.jsx)(s.Rny,{className:y.messageFocusBlock,children:A})})})},376191:function(e,t,n){n.d(t,{Z:()=>C});var r=n(255367);n(73800);var i=n(442837),l=n(481060),a=n(129861),o=n(607070),s=n(570928),c=n(388905),u=n(1585),d=n(125988),p=n(43267),h=n(522289),f=n(699516),g=n(51144),m=n(998502),b=n(620924),_=n(332712),E=n(81471),O=n(388032),y=n(818816);let I=e=>{let{userId:t}=e,n=(0,_.O)(t);return null==n||0===n.length?(0,r.jsx)(l.Text,{className:y.mutualGuilds,variant:"text-sm/normal",color:"text-muted",children:O.intl.string(O.t.jpY0X1)}):(0,r.jsxs)("div",{className:y.mutualGuildsContainer,children:[(0,r.jsx)(h.Z,{guilds:n,maxGuilds:3,size:c.Vj.Sizes.SMOL,hideOverflowCount:!0}),(0,r.jsx)(l.Text,{className:y.mutualGuilds,variant:"text-sm/normal",color:"text-muted",children:O.intl.format(O.t.eE3oen,{count:n.length})})]})},v=m.ZP.getEnableHardwareAcceleration()?l.Xo$:l.qEK;function C(e){var t;let{channel:n,otherUser:c,active:h}=e,m=(0,i.e7)([o.Z],()=>o.Z.useReducedMotion),_=(0,i.e7)([f.Z],()=>null==c?null:f.Z.getNickname(c.id)),C=!m&&h,S=(0,b.c)(n),{avatarDecorationSrc:N}=(0,d.Z)({user:c,size:(0,u.y9)(l.EFr.SIZE_40),onlyAnimateOnHover:!0});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v,{className:y.avatar,src:(0,p.x)(n,40,C),avatarDecoration:N,size:l.EFr.SIZE_40,"aria-label":null!=(t=null==c?void 0:c.username)?t:O.intl.string(O.t["30mdIy"])}),(0,r.jsxs)("div",{className:y.userPreview,children:[(0,r.jsxs)("div",{className:y.userContainerWithPreview,children:[(0,r.jsx)(a.Z,{nick:_,user:c,showAccountIdentifier:!0,className:y.tagContainer,usernameClass:y.username,discriminatorClass:null!=g.ZP.getGlobalName(c)?y.globalName:y.discriminator}),(0,r.jsx)(l.Text,{className:y.timestampWithPreview,color:"text-muted",variant:"text-xs/normal",children:S})]}),(0,r.jsx)(s.Z,{hoverText:(0,r.jsx)(E.Z,{channel:n}),forceHover:h,children:(0,r.jsx)(I,{userId:c.id})})]})]})}},948247:function(e,t,n){n.d(t,{Z:()=>p});var r=n(255367);n(73800);var i=n(442837),l=n(481060),a=n(210887),o=n(687683),s=n(388032),c=n(96532),u=n(138715),d=n(979770);function p(e){let{section:t}=e,n=(0,i.e7)([a.Z],()=>a.Z.theme);return(0,r.jsxs)(l.ubH,{theme:n,className:c.emptyStateContainer,children:[(0,r.jsx)(l.oxh,{width:415,height:200,lightSrc:d,darkSrc:u}),(0,r.jsx)(l.OZU,{note:t===o.pS.SPAM?s.intl.string(s.t.hasFPT):s.intl.string(s.t.SXrqTU)})]})}},96479:function(e,t,n){n.d(t,{Z:()=>p});var r=n(255367);n(73800);var i=n(6025),l=n(433355),a=n(626135),o=n(585483),s=n(488634),c=n(545724),u=n(749405),d=n(981631);function p(e){let{index:t,className:n,channel:p,user:h,hasSingleMessageRequest:f}=e,{channelId:g}=(0,s._)();return(0,r.jsx)(c.Z,{index:t,className:n,isFocused:g===p.id,channel:p,user:h,onClick:e=>{e.stopPropagation(),i.Z.openPrivateChannelAsSidebar({channelId:p.id,baseChannelId:l.uZ,hasSingleMessageRequest:f}),a.default.track(d.rMx.MESSAGE_REQUEST_PREVIEW_VIEWED,{is_spam:!1,channel_id:p.id,other_user_id:h.id}),setTimeout(()=>{o.S.dispatch(d.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:p.id})},0)},children:e=>(0,r.jsx)(u.C,{active:e,user:h,channel:p})})}},749405:function(e,t,n){n.d(t,{C:()=>f});var r=n(255367),i=n(73800),l=n(481060),a=n(359110),o=n(6025),s=n(433355),c=n(26373),u=n(486622),d=n(376191),p=n(388032),h=n(23704);function f(e){let{active:t,user:n,channel:f}=e,g=(0,c.K)(),m=i.useCallback(()=>{(0,l.showToast)((0,l.createToast)(p.intl.string(p.t.EDYbS0),l.ToastType.FAILURE))},[]),b=i.useCallback(()=>{o.Z.closeChannelSidebar(s.uZ)},[]),_=i.useCallback(()=>{o.Z.closeChannelSidebar(s.uZ),g&&(0,a.Kh)(f.id)},[f.id,g]),{acceptMessageRequest:E,rejectMessageRequest:O,isAcceptLoading:y,isRejectLoading:I,isUserProfileLoading:v,isOptimisticAccepted:C,isOptimisticRejected:S}=(0,u.m)({user:n,onAcceptSuccess:_,onRejectSuccess:b,onError:m}),N=y||I||v||C||S;return(0,r.jsxs)("div",{className:h.container,children:[(0,r.jsx)(d.Z,{channel:f,otherUser:n,active:t}),(0,r.jsxs)("div",{className:h.actions,children:[(0,r.jsx)(l.zxk,{className:h.button,color:l.Ttl.PRIMARY,size:l.zxk.Sizes.SMALL,onClick:e=>{e.stopPropagation(),O(f.id)},disabled:N,submitting:I||S,children:p.intl.string(p.t.B2nygY)}),(0,r.jsx)(l.zxk,{className:h.button,color:l.Ttl.BRAND,size:l.zxk.Sizes.SMALL,onClick:e=>{e.stopPropagation(),E(f.id)},disabled:N,submitting:y||v||C,children:p.intl.string(p.t.Kz8Pws)})]})]})}},125855:function(e,t,n){n.d(t,{Z:()=>d});var r=n(255367);n(73800);var i=n(6025),l=n(433355),a=n(626135),o=n(585483),s=n(545724),c=n(426051),u=n(981631);function d(e){let{index:t,className:n,channel:d,user:p,hasSingleMessageRequest:h}=e;return(0,r.jsx)(s.Z,{index:t,className:n,isFocused:!1,channel:d,user:p,onClick:e=>{e.stopPropagation(),i.Z.openPrivateChannelAsSidebar({channelId:d.id,baseChannelId:l.uZ,hasSingleMessageRequest:h}),a.default.track(u.rMx.MESSAGE_REQUEST_PREVIEW_VIEWED,{is_spam:!0,channel_id:d.id,other_user_id:p.id}),setTimeout(()=>{o.S.dispatch(u.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:d.id})},0)},children:e=>(0,r.jsx)(c.Z,{active:e,user:p,channel:d})})}},480874:function(e,t,n){n.d(t,{Z:()=>T});var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(91192),s=n(286379),c=n(481060),u=n(183126),d=n(493773),p=n(209613),h=n(82295),f=n(797614),g=n(626135),m=n(26373),b=n(486622),_=n(488634),E=n(110287),O=n(355350),y=n(948247),I=n(125855),v=n(687683),C=n(981631),S=n(388032),N=n(39276);function T(){let e=i.useRef(null),t=(0,E.Z)(),n=(0,O.w)(),l=(0,m.V)(),T=(0,u.N)(),P=(0,p.Z)("message-requests-spam-list"),{channelId:j}=(0,_._)(),A=i.useCallback(()=>{(0,c.showToast)((0,c.createToast)(S.intl.string(S.t.EDYbS0),c.ToastType.FAILURE))},[]),{rejectAll:Z}=(0,b.m)({onError:A}),x=i.useCallback(()=>{Z(t.map(e=>e.channel.id))},[t,Z]);(0,d.ZP)(()=>{g.default.track(C.rMx.SPAM_MESSAGE_REQUESTS_VIEWED,{num_spam_message_requests:n}),f.Z.increment({name:s.V.SPAM_MESSAGE_REQUEST_VIEW})});let L=i.useCallback(e=>{var n,i;let{row:o}=e,s=t[o],c=null==(i=t[o+1])||null==(n=i.channel)?void 0:n.id,u=s.channel.id;return(0,r.jsx)(I.Z,{index:o,className:a()({[N.selected]:null!=j&&j===u,[N.siblingSelected]:null!=j&&j===c}),channel:s.channel,user:s.user,hasSingleMessageRequest:l},u)},[t,l,j]),w=i.useCallback(()=>(0,r.jsxs)(h.Z,{className:N.sectionTitle,children:[S.intl.format(S.t.C79Edn,{count:n}),T&&n>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Text,{className:N.titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:"•"}),(0,r.jsx)(c.zxk,{onClick:x,look:c.iLD.LINK,color:c.Ttl.LINK,size:c.PhG.SMALL,className:N.clearAllButton,"aria-label":S.intl.string(S.t.p6t7RE),children:S.intl.string(S.t.p6t7RE)})]}):null]},"message-requests-spam-title"),[n,x,T]);return 0===t.length?(0,r.jsx)(y.Z,{section:v.pS.SPAM}):(0,r.jsx)(o.bG,{navigator:P,children:(0,r.jsx)(o.SJ,{children:n=>{var{ref:i,role:l}=n,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,["ref","role"]);return(0,r.jsx)(c.aVo,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:N.list,innerRole:l,innerAriaLabel:S.intl.string(S.t.e7GWjY),ref:t=>{var n;e.current=t,i.current=null!=(n=null==t?void 0:t.getScrollerNode())?n:null},paddingTop:24,paddingBottom:24,sectionHeight:v.oi,rowHeight:v.WN,renderSection:w,renderRow:L,sections:[t.length],chunkSize:30,fade:!0},a),"message-requests-spam-list")}})})}},426051:function(e,t,n){n.d(t,{Z:()=>b});var r=n(255367),i=n(73800),l=n(286379),a=n(481060),o=n(797614),s=n(359110),c=n(6025),u=n(433355),d=n(26373),p=n(486622),h=n(376191),f=n(86203),g=n(388032),m=n(972308);function b(e){let{active:t,user:n,channel:b}=e,_=(0,d.V)(),E=i.useCallback(()=>{(0,a.showToast)((0,a.createToast)(g.intl.string(g.t.pIQ3h4),a.ToastType.FAILURE)),o.Z.increment({name:l.V.SPAM_MESSAGE_REQUEST_ERROR_VIEW})},[]),O=i.useCallback(()=>{c.Z.closeChannelSidebar(u.uZ)},[]),y=i.useCallback(()=>{c.Z.closeChannelSidebar(u.uZ),_&&(0,s.Kh)(b.id)},[b.id,_]),{acceptMessageRequest:I,isAcceptLoading:v,isUserProfileLoading:C,isOptimisticAccepted:S}=(0,p.m)({user:n,onAcceptSuccess:y,onRejectSuccess:O,onError:E}),N=v||C,T=N||S;return(0,r.jsxs)("div",{className:m.container,children:[(0,r.jsx)(h.Z,{otherUser:n,channel:b,active:t}),(0,r.jsxs)("div",{className:m.actions,children:[(0,r.jsx)(a.zxk,{className:m.button,color:a.Ttl.PRIMARY,size:a.zxk.Sizes.SMALL,onClick:e=>{I(b.id),e.stopPropagation()},disabled:T,submitting:N,children:g.intl.string(g.t.vicfl5)}),(0,r.jsx)(f.Z,{className:m.button,channel:b,buttonSize:a.zxk.Sizes.SMALL})]})]})}},285865:function(e,t,n){n.d(t,{Z:()=>i});var r=n(570140);let i={closeSidebar(){r.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_CLOSE"})},openSidebar(){r.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_OPEN"})}}},659971:function(e,t,n){n.d(t,{Z:()=>d});var r,i,l,a=n(873546),o=n(442837),s=n(570140);let c=!1;class u extends(l=o.ZP.Store){getIsOpen(){return!a.tq||c}}i="MobileWebSidebarStore",(r="displayName")in u?Object.defineProperty(u,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):u[r]=i;let d=new u(s.Z,{MOBILE_WEB_SIDEBAR_OPEN:function(){c=!0},MOBILE_WEB_SIDEBAR_CLOSE:function(){c=!1}})},109497:function(e,t,n){n(539854);var r,i=n(442837),l=n(570140),a=n(695346),o=n(885110),s=n(70956),c=n(981631);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=[],p=!1;function h(){return d.length>=4&&d.some(e=>e<Date.now()-3*s.Z.Millis.DAY)}class f extends(r=i.ZP.PersistedStore){initialize(e){null!=e&&Array.isArray(e.sessionStartsWithDND)&&(d=e.sessionStartsWithDND)}showNagBar(){return p}getState(){return{sessionStartsWithDND:d}}getTemp(){return{x:a.Cr.getSetting()}}}u(f,"displayName","HabitualDNDStore"),u(f,"persistKey","habitualDND"),new f(l.Z,{POST_CONNECTION_OPEN:function(){o.Z.getStatus()===c.Skl.DND&&"0"===a.Cr.getSetting()?(d.push(Date.now()),d=d.filter(e=>e>Date.now()-5*s.Z.Millis.DAY),h()&&setTimeout(()=>{l.Z.dispatch({type:"HABITUAL_DND_CLEAR"})},15*s.Z.Millis.SECOND)):d=[]},HABITUAL_DND_CLEAR:function(){p=!!h(),d=[]}})},147341:function(e,t,n){n.d(t,{Z:()=>s});var r=n(255367);n(73800);var i=n(481060),l=n(546247),a=n(388032),o=n(677973);function s(){return(0,r.jsxs)("div",{className:o.wrapper,children:[(0,r.jsx)(l.Z,{}),(0,r.jsxs)(i.Kqy,{className:o.textContainer,gap:16,padding:32,children:[(0,r.jsx)(i.X6q,{variant:"heading-xxl/normal",color:"always-white",className:o.heading,children:a.intl.string(a.t["VAK+h4"])}),(0,r.jsx)(i.Text,{variant:"text-lg/normal",color:"always-white",className:o.text,children:a.intl.string(a.t.dcpdhI)})]})]})}},791359:function(e,t,n){n.d(t,{Z:()=>w}),n(388685);var r=n(255367),i=n(73800),l=n(392711),a=n.n(l),o=n(954955),s=n.n(o),c=n(442837),u=n(481060),d=n(570140),p=n(569984),h=n(918701),f=n(93127),g=n(752048),m=n(594174),b=n(801077),_=n(626135),E=n(70956),O=n(225559),y=n(910436),I=n(203028),v=n(358924),C=n(292140),S=n(525296),N=n(981631),T=n(674563),P=n(46140),j=n(388032),A=n(370168);let Z=15*E.Z.Millis.MINUTE,x=(0,S.Z)(function(e){let{party:t,onUserContextMenu:n,onChannelContextMenu:l,quest:a}=e,o=i.useRef(null),c=(0,r.jsx)(I.Z,{party:t,onUserContextMenu:n}),d=(0,r.jsx)(y.Z,{party:t,onChannelContextMenu:l,quest:a}),{partiedMembers:p,applicationStreams:h,currentActivities:f,voiceChannels:g}=t,m=p.length,b=h.length,E=f.length,O=g.length>0,S=i.useCallback(()=>{let e=f.filter(e=>{var t,n;return(null==(t=e.game)?void 0:t.name)!=null&&(null==(n=e.game)?void 0:n.type)===T.wW.GAME}).map(e=>e.game.name);_.default.track(N.rMx.NOW_PLAYING_CARD_HOVERED,{num_users:m,num_streams:b,num_activities:E,in_voice_channel:O,games_detected:e})},[m,b,E,O,f]),P=s()(S,Z);return null!=c||null!=d?(0,r.jsx)(u.yRy,{targetElementRef:o,position:"left",renderPopout:e=>{let{closePopout:n}=e;return(0,r.jsx)(C.Z,{party:t,close:n})},spacing:8,children:(e,t)=>{var n,i;let{isShown:l}=t;return(0,r.jsx)(v.Z,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={ref:o,onMouseEnter:P,"aria-haspopup":"menu",className:A.itemCard,active:l,children:(0,r.jsxs)("div",{children:[c,d]})},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}}):null}),L=a().throttle(()=>f._(),3e5);function w(){let{nowPlayingCards:e,loaded:t,needsRefresh:n,fetching:l,currentUser:a}=(0,c.cj)([b.Z,g.Z,m.default],()=>({nowPlayingCards:b.Z.nowPlayingCards,loaded:b.Z.loaded,needsRefresh:g.Z.shouldFetch(),fetching:g.Z.isFetching(),currentUser:m.default.getCurrentUser()})),o=(0,c.e7)([p.Z],()=>p.Z.quests);i.useEffect(()=>(d.Z.wait(()=>O.L()),()=>d.Z.wait(()=>O.v())),[null==a?void 0:a.id]),i.useEffect(()=>{n&&!l&&L()},[n,l]);let s=i.useMemo(()=>{let t=new Map,n=new Set,r=(0,h.MM)(o,P.l$);for(let i of e)i.party.currentActivities.forEach(e=>{let{activity:l}=e;if(null==l)return;let a=(0,h.ZZ)(r,l);null==a||n.has(a.id)||(t.set(i.party.id,a),n.add(a.id))});return t},[e,o]),f=null;return t?f=e.length>0?e.map(e=>{let{party:t}=e;return(0,r.jsx)(x,{party:t,quest:s.get(t.id)},t.id)}):(0,r.jsxs)("div",{className:A.emptyCard,children:[(0,r.jsx)(u.X6q,{variant:"heading-md/semibold",className:A.emptyHeader,children:j.intl.string(j.t["ngJ/5u"])}),(0,r.jsx)(u.Text,{color:"none",className:A.emptyText,variant:"text-sm/normal",children:j.intl.string(j.t["99ZWxc"])})]}):(0,r.jsx)("div",{className:A.emptyCard,children:(0,r.jsx)(u.$jN,{})})}},910436:function(e,t,n){n.d(t,{Z:()=>O}),n(539854),n(388685);var r=n(255367);n(73800);var i=n(287734),l=n(872810),a=n(122810),o=n(841784),s=n(503438),c=n(802856),u=n(420660),d=n(497505),p=n(918701),h=n(23404),f=n(81063),g=n(761282),m=n(358924),b=n(868854),_=n(817915),E=n(981631);function O(e){let{party:t,onChannelContextMenu:n,quest:O}=e,y=(0,b.L)(),{voiceChannels:I,currentActivities:v,partiedMembers:C,applicationStreams:S,guildContext:N}=t,T=[],P=e=>{var t,n;let{length:i}=T;if(0===i)return void T.push(e);let l=T[i-1],a="".concat(null!=(t=null==e?void 0:e.key)?t:""),o="".concat(null!=(n=null==l?void 0:l.key)?n:"").startsWith("game")&&a.startsWith("rich-presence");T.push((0,r.jsx)(m.Z.Separator,{inset:o},"sep-".concat(a))),T.push(e)};for(let{activity:e}of(I.length>0&&I.forEach(e=>{let{members:t,channel:i,guild:l}=e;P((0,r.jsx)(m.Z.VoiceSection,{guild:l,channel:i,members:t,partySize:function(e,t){let n=e.length;return{knownSize:n,unknownSize:0,totalSize:n+0}}(t),onChannelContextMenu:n},"voice-".concat(i.id)))}),t.currentActivities))if(null!=e){let t=g.ct(e);if(null!=t){P(t);break}}return S.length>0&&y&&S.forEach(e=>{let{stream:t,streamUser:n,activity:a}=e;P((0,r.jsx)(m.Z.ApplicationStreamingSection,{guildId:null==N?void 0:N.id,user:n,activity:a,applicationStream:t,onPreviewClick:()=>{i.default.selectVoiceChannel(t.channelId),(0,l.iV)(t)}},"application-stream-".concat(t.ownerId)))}),v.forEach((e,t)=>{var n,i,l,g,b,y,S,T,j;let{activity:A,game:Z,playingMembers:x,activityUser:L}=e;if(null==A||null==A.type)return null;if(v.length>1&&A.type===E.IIU.PLAYING&&!(0,a.Z)(A)&&null!=Z)P((0,r.jsx)(m.Z.GameSection,{icon:Z.getIconURL(_.Z),name:Z.name,partySize:{knownSize:x.length,unknownSize:0,totalSize:x.length},members:x},"game-".concat(null!=(n=A.session_id)?n:t,"-").concat(null!=(i=A.application_id)?i:t)));else if((0,o.Z)(A)){let e=new Set(x.map(e=>e.id)),t=null==(l=I.find(e=>null!=e))?void 0:l.channel;null!=t&&P((0,r.jsx)(m.Z.EmbeddedActivitySection,{activity:A,participants:e,channel:t,guildId:t.guild_id},"embedded-activity-".concat(A.application_id)))}else if((null!=A.assets||(0,a.Z)(A))&&A.type===E.IIU.PLAYING)P((0,r.jsx)(m.Z.RichPresenceSection,{activity:A,getAssetImage:f.xF},"rich-presence-".concat(null!=(g=A.session_id)?g:t,"-").concat(L.id)));else if((0,u.Z)(A)){let e=I.length>0&&I[0].members.length>1,n=x.length>1;P((0,r.jsx)(m.Z.TwitchSection,{guildId:null==N?void 0:N.id,activity:A,user:e||n?L:null,getAssetImage:f.xF},"streaming-".concat(null!=(b=A.session_id)?b:t)))}else(0,s.Z)(A)?P((0,r.jsx)(m.Z.SpotifySection,{activity:A,isSolo:1===C.length,partySize:{knownSize:x.length,unknownSize:0,totalSize:x.length},getAssetImage:f.xF,members:x},"spotify-".concat(null!=(y=A.session_id)?y:t,"-").concat(L.id))):(null!=A.assets||(0,a.Z)(A))&&A.type===E.IIU.LISTENING?P((0,r.jsx)(m.Z.RichPresenceSection,{activity:A,getAssetImage:f.xF},"rich-presence-".concat(null!=(S=A.session_id)?S:t,"-").concat(L.id))):(0,c.Z)(A)&&P((0,r.jsx)(m.Z.XboxSection,{title:Z.name},"xbox-".concat(null!=(T=A.session_id)?T:t)));null!=O&&null!=Z&&(0,p._D)(A,O)&&(null==O.userStatus||!(0,p.zE)(O.userStatus,d.jn.ACTIVITY_PANEL))&&P((0,r.jsx)(h.Z,{quest:O},"quest-".concat(O.id,"-").concat(null!=(j=A.session_id)?j:t)))}),T.length>0?(0,r.jsx)(m.Z.Body,{children:T}):null}},203028:function(e,t,n){n.d(t,{Z:()=>_}),n(388685);var r=n(255367);n(73800);var i=n(512722),l=n.n(i),a=n(841784),o=n(503438),s=n(802856),c=n(810568),u=n(168524),d=n(707409),p=n(51144),h=n(761282),f=n(358924),g=n(817915),m=n(981631),b=n(388032);function _(e){var t,i;let{party:_,onUserContextMenu:E}=e,{priorityMembers:O,guildContext:y}=_,I=O[0],v=function(e){let{priorityMembers:t,partiedMembers:n}=e,r=new Set(t.map(e=>{let{user:t}=e;return t.id})),i=n.filter(e=>!r.has(e.id)),l=p.ZP.getName(t[0].user),a=null!=t[1]?p.ZP.getName(t[1].user):null!=i[0]?p.ZP.getName(i[0]):null;switch(n.length){case 1:return l;case 2:return b.intl.format(b.t.t1DyCw,{user1:l,user2:a});default:return b.intl.format(b.t["5CSEcH"],{user1:l,user2:a,extras:n.length-2})}}(_),{subtitle:C,icon:S}=function(e){var t;let{priorityMembers:i,partiedMembers:c,voiceChannels:u,currentActivities:p}=e,_=i.length,E=c.length-_,O=p[0],y=null==O?void 0:O.activity,I=null==O?void 0:O.startedPlayingTime,v={name:null!=(t=null==y?void 0:y.name)?t:""};if((0,a.Z)(y)&&null!=y)return{subtitle:(0,r.jsx)(d.ZP,{start:I,location:d.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:v}),icon:null};if(_+E===1&&null!=O){let{game:e}=O;if(null==y)return{subtitle:null,icon:null};let t=h.dc(y);if(null!=t)return t;switch(y.type){case m.IIU.PLAYING:if((0,s.Z)(y))return{subtitle:b.intl.string(b.t.tO8wOz),icon:(0,r.jsx)(f.Z.Header.Icon,{src:f.Z.Header.Icon.Src.XBOX})};return{subtitle:(0,r.jsx)(d.ZP,{start:I,location:d.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:v}),icon:null!=e?(0,r.jsx)(f.Z.Header.Icon,{src:null!=e.getIconURL(g.Z)?e.getIconURL(g.Z):n(211827)}):null};case m.IIU.STREAMING:return{subtitle:b.intl.string(b.t.HyGHj4),icon:null!=e&&null!=e.getIconURL(g.Z)?(0,r.jsx)(f.Z.Header.Icon,{src:e.getIconURL(g.Z)}):null};case m.IIU.LISTENING:let i;return i=(0,o.Z)(y)?(0,r.jsx)(f.Z.Header.Icon,{src:f.Z.Header.Icon.Src.SPOTIFY}):null!=e.getIconURL(g.Z)?(0,r.jsx)(f.Z.Header.Icon,{src:e.getIconURL(g.Z)}):(0,r.jsx)(f.Z.Header.Icon,{src:n(211827)}),{subtitle:b.intl.formatToPlainString(b.t.NF5xoq,{name:y.name}),icon:i};case m.IIU.WATCHING:return{subtitle:b.intl.formatToPlainString(b.t.pW3Ip6,{name:y.name}),icon:null!=e&&null!=e.getIconURL(g.Z)?(0,r.jsx)(f.Z.Header.Icon,{src:e.getIconURL(g.Z)}):null};default:return{subtitle:b.intl.string(b.t.grGyaW),icon:null}}}if(0===p.length){if(u.length>0)return{subtitle:b.intl.string(b.t.grGyaW),icon:null};let e=p[0];if(null!=e){let{activity:t}=e;if(null!=t){let e=h.dc(t);if(null!=e)return e}if(null!=t&&t.type===m.IIU.LISTENING)return{subtitle:b.intl.string(b.t.rmnkz8),icon:(0,r.jsx)(f.Z.Header.Icon,{src:f.Z.Header.Icon.Src.SPOTIFY})}}}else if(1===p.length){let e=p.find(e=>null!=e.activity);if(null==e)return{subtitle:null,icon:null};let{activity:t,game:n,startedPlayingTime:i}=e;return l()(null!=t,"Activity was null somehow"),{subtitle:(0,r.jsx)(d.ZP,{start:i,location:d.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:v}),icon:null!=n&&null!=n.getIconURL(g.Z)?(0,r.jsx)(f.Z.Header.Icon,{src:n.getIconURL(g.Z)}):null}}return{subtitle:b.intl.string(b.t.sau5tr),icon:(0,r.jsx)(f.Z.Header.Icon,{src:f.Z.Header.Icon.Src.MULTIPLE})}}(_),N=(0,u.Z)({applicationId:null==(i=_.currentActivities[0])||null==(t=i.activity)?void 0:t.application_id,location:"FriendsActivityFeed",source:c.m1.FriendsActivityFeed});return(0,r.jsx)(f.Z.Header,{priorityUser:I,guildId:null==y?void 0:y.id,title:v,subtitle:C,icon:S,onSubtitleClick:N,onIconClick:N,onContextMenu:e=>E(e,I.user)})}},358924:function(e,t,n){n.d(t,{Z:()=>ei}),n(388685);var r,i=n(255367),l=n(73800),a=n(120356),o=n.n(a),s=n(442837),c=n(692547),u=n(481060),d=n(287734),p=n(438139),h=n(2052),f=n(726542),g=n(638880),m=n(655922),b=n(122810),_=n(833664),E=n(503438),O=n(420660),y=n(74433),I=n(906732),v=n(812206),C=n(933557),S=n(194082),N=n(264165),T=n(548816),P=n(925329),j=n(102172),A=n(871118),Z=n(707409),x=n(359110),L=n(769654),w=n(849171),R=n(314897),D=n(592125),k=n(594174),M=n(395361),U=n(639351),G=n(81063),V=n(823379),B=n(51144),H=n(599706),F=n(981631),z=n(388032),W=n(147049);let Y={SMALL:64,LARGE:160},K=[14,14,12,12,10,8,6],q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,i.jsx)(u.Text,{className:o()(W.textContent,t),variant:"text-sm/semibold",children:e})},Q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,i.jsx)(u.Text,{className:o()(W.textContent,t),variant:"text-xs/normal",children:e})},X=(0,p.Z)(e=>{let{message:t}=e;return(0,i.jsx)("div",{className:W.__invalid_timestamp,children:t})}),J=e=>{let{children:t}=e;return(0,i.jsx)("section",{className:W.section,children:t})};class $ extends l.Component{renderTimePlayed(){let e,{activity:t}=this.props,{timestamps:n}=t;return null==n||!(0,_.Z)(t)||(0,E.Z)(t)?null:Q((0,b.Z)(t)?(0,i.jsx)(X,{timestamps:n}):(0,i.jsx)(Z.ZP,{start:n.start,end:n.end,location:Z.ZP.Locations.USER_ACTIVITY,className:W.__invalid_playTime}))}render(){var e,t;let{activity:{assets:r,details:l,state:a,application_id:s},getAssetImage:c}=this.props;return(0,i.jsx)(J,{children:(0,i.jsxs)("div",{className:W.activitySection,children:[null!=r&&0!==Object.keys(r).length?(0,i.jsxs)("div",{className:W.activitySectionAssets,children:[(0,i.jsx)("img",{alt:null!=(e=r.large_text)?e:"",src:c(s,r.large_image,[Y.LARGE,Y.LARGE]),className:o()(W.largeImage,{[W.largeImageMask]:null!=r.small_image})}),null!=r.small_image?(0,i.jsx)("img",{alt:null!=(t=r.small_text)?t:"",src:c(s,r.small_image,[Y.SMALL,Y.SMALL]),className:W.smallImage}):null]}):(0,i.jsx)("div",{className:W.activitySectionAssets,children:(0,i.jsx)("img",{alt:"",src:n(211827),className:W.largeImage})}),(0,i.jsxs)("div",{children:[q(null!=l&&""!==l?l:z.intl.string(z.t["2TbM/P"])),null!=a?Q(a):null,this.renderTimePlayed()]})]})})}}var ee=((r=ee||{}).XBOX="XBOX",r.SPOTIFY="SPOTIFY",r.MULTIPLE="MULTIPLE",r);let et=e=>{let t,{src:n,onClick:r,onContextMenu:l}=e;switch(n){case"XBOX":t=(0,i.jsx)(U.Z,{className:W.headerIcon,color:c.Z.unsafe_rawColors.PRIMARY_300.css});break;case"SPOTIFY":t=(0,i.jsx)(M.Z,{className:W.headerIcon,color:c.Z.unsafe_rawColors.SPOTIFY.css});break;case"MULTIPLE":t=(0,i.jsx)("div",{className:W.multipleIconWrapper,children:(0,i.jsx)(u.iWm,{size:"md",className:o()(W.headerIcon,W.multipleIcon),color:c.Z.unsafe_rawColors.PRIMARY_300.css})});break;default:t=(0,i.jsx)("img",{src:null!=n?n:void 0,alt:"",className:W.headerIcon})}return null!=r||null!=l?(0,i.jsx)(u.P3F,{onClick:r,className:o()(null!=r?W.clickable:""),onContextMenu:l,children:t}):t};et.Src=ee;let en=e=>{let{priorityUser:t,title:n,subtitle:r,icon:l,onSubtitleClick:a,onIconClick:o,onContextMenu:s,guildId:c}=e,d=(0,i.jsx)(u.Text,{color:"header-secondary",className:W.textContent,variant:"text-sm/normal",children:r});return(0,i.jsxs)("header",{className:null!=l?W.headerFull:W.headerSimple,children:[(0,i.jsx)(u.qEK,{src:t.user.getAvatarURL(c,32),"aria-label":t.user.username,size:u.EFr.SIZE_32,className:W.headerAvatar,status:t.status,onContextMenu:s}),(0,i.jsxs)("div",{className:W.__invalid_headerDetails,children:[(0,i.jsx)(u.Text,{className:W.textContent,variant:"text-md/semibold",children:n}),null!=a?(0,i.jsx)(u.P3F,{className:W.clickable,onClick:a,children:d}):d]}),null!=l&&null!=o?(0,i.jsx)(u.P3F,{className:W.clickable,onClick:o,children:l}):l]})};en.Icon=et;let er=e=>{var t,n,{children:r,className:l}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children","className"]);return(0,i.jsx)(u.tEY,{children:(0,i.jsx)(T.Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:o()(l,W.wrapper),padded:!0},a),n=n={children:r},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})};er.Header=en,er.Body=e=>{let{children:t}=e;return(0,i.jsx)(T.Z,{inset:!0,padded:!1,className:W.body,children:t})},er.Separator=e=>{let{inset:t,className:n}=e;return(0,i.jsx)("div",{className:o()(W.separator,{[W.inset]:t},n)})},er.VoiceSection=e=>{var t,n;let{guild:r,channel:a,partySize:s,members:c,onChannelContextMenu:p}=e,h=l.useRef(null),f=(0,C.ZP)(a,!0);return(0,i.jsx)(J,{children:(0,i.jsxs)("div",{className:W.voiceSection,ref:h,onContextMenu:e=>p(e,a),children:[(0,i.jsx)(u.P3F,{onClick:()=>(0,L.X)(r.id),"aria-hidden":!0,tabIndex:-1,children:(0,i.jsxs)("div",{className:W.voiceSectionAssets,children:[null!=r.getIconURL(32)?(0,i.jsx)("img",{alt:"",src:null!=(t=r.getIconURL(32))?t:void 0,className:o()(W.voiceSectionGuildImage,W.largeImageMask)}):(0,i.jsx)("div",{className:W.voiceSectionNoGuildImageWrapper,children:(0,i.jsx)("div",{className:W.voiceSectionNoGuildImage,style:{fontSize:null!=(n=K[r.acronym.length])?n:K[K.length-1]},children:r.acronym})}),(0,i.jsx)("div",{className:W.voiceSectionIconWrapper,children:(0,i.jsx)(u.gj8,{size:"md",color:"currentColor",className:W.voiceSectionIcon})})]})}),(0,i.jsx)(u.P3F,{onClick:()=>{d.default.selectVoiceChannel(a.id),(0,x.Kh)(a.id)},focusProps:{ringTarget:h},children:(0,i.jsxs)("div",{className:W.voiceSectionDetails,children:[q(r.toString(),W.voiceSectionText),Q(f,W.voiceSectionText)]})}),(0,i.jsx)(H.Z,{partySize:s,members:c,guildId:r.id})]})})},er.GameSection=e=>{let{icon:t,name:n,partySize:r,members:l}=e;return(0,i.jsx)(J,{children:(0,i.jsxs)("div",{className:W.gameSection,children:[null!=t?(0,i.jsx)("img",{alt:"",src:t,className:W.gameSectionIcon}):null,(0,i.jsxs)("div",{children:[q(n),Q(z.intl.formatToPlainString(z.t.C4WXvb,{memberCount:r.totalSize}))]}),(0,i.jsx)(H.Z,{partySize:r,members:l})]})})},er.RichPresenceSection=$,er.XboxSection=e=>{let{title:t}=e;return(0,i.jsx)(J,{children:(0,i.jsxs)("div",{className:W.xboxSection,children:[(0,i.jsx)(U.Z,{className:W.xboxSectionIcon}),(0,i.jsxs)("div",{className:W.__invalid_xboxSectionDetails,children:[q(t),Q(z.intl.string(z.t["JG9r+/"]))]})]})})},er.SpotifySection=e=>{var t;let{activity:{assets:n,details:r,state:l,application_id:a},partySize:s,members:u,isSolo:d,getAssetImage:p}=e;return(0,i.jsx)(J,{children:(0,i.jsxs)("div",{className:W.spotifySection,children:[null!=n?(0,i.jsxs)("div",{className:W.activitySectionAssets,children:[(0,i.jsx)("img",{alt:null!=(t=n.large_text)?t:"",src:p(a,n.large_image,[Y.LARGE,Y.LARGE]),className:o()(W.largeImage,W.borderRadius0,{[W.largeImageMask]:null!=n.small_image})}),d?null:(0,i.jsx)(M.Z,{className:W.smallImage,color:c.Z.unsafe_rawColors.SPOTIFY.css})]}):(0,i.jsx)("div",{}),(0,i.jsxs)("div",{children:[null!=r?q(r):null,null!=l?Q(l):null]}),(0,i.jsx)(H.Z,{minAvatarsShown:d?2:1,partySize:s,members:u})]})})},er.TwitchSection=e=>{let t,{activity:r,user:l,getAssetImage:a,guildId:s}=e,{name:c,details:d,assets:p,application_id:h}=r;if(null!=p&&(0,O.Z)(r)){var g;t=(0,i.jsx)(N.Z,{className:W.twitchSectionPreviewWrapper,aspectRatio:16/9,children:(0,i.jsxs)(u.P3F,{href:(0,m.Z)(r),tag:"a",target:"_blank",children:[(0,i.jsx)("img",{alt:null!=(g=p.large_text)?g:"",src:a(h,p.large_image,[900,500]),className:W.twitchSectionPreview}),(0,i.jsx)("img",{src:n(497726),className:W.twitchSectionPlayButton,alt:""})]})})}return(0,i.jsxs)(J,{children:[(0,i.jsxs)("div",{className:o()({[W.twitchSectionSimple]:null==l,[W.twitchSectionFull]:null!=l}),children:[(0,i.jsx)("img",{alt:"",src:f.Z.get(F.ABu.TWITCH).icon.lightSVG,className:W.twitchSectionIcon}),(0,i.jsxs)("div",{children:[q(c),null!=d?Q(d):null]}),null!=l?(0,i.jsx)(u.qEK,{src:l.getAvatarURL(s,24),"aria-label":l.username,className:W.twitchSectionAvatar,size:u.EFr.SIZE_24}):null]}),t]})},er.ApplicationStreamingSection=e=>{var t,n;let{activity:r,user:l,applicationStream:a,onPreviewClick:o,guildId:c}=e,d=(0,s.e7)([D.Z],()=>D.Z.getChannel(a.channelId)),[p,h]=(0,j.wq)(d),f=(0,i.jsxs)(u.P3F,{onClick:p?o:void 0,className:W.applicationStreamingPreviewWrapper,children:[(0,i.jsx)(A.Z,{stream:a,className:W.applicationStreamingPreviewSize}),(0,i.jsx)(u.Text,{className:W.applicationStreamingHoverText,variant:"text-sm/medium",color:"always-white",children:(0,j.P9)(h)})]}),g=null!=(n=null==(t=(0,y.Z)(r,a))?void 0:t.activityText)?n:z.intl.string(z.t.eXan7O);return(0,i.jsxs)(J,{children:[(0,i.jsxs)("div",{className:W.applicationStreamingSection,children:[(0,i.jsx)(u.qEK,{size:u.EFr.SIZE_32,src:l.getAvatarURL(c,32),"aria-label":l.username,className:W.applicationStreamingAvatar}),(0,i.jsxs)("div",{children:[q(B.ZP.getName(l)),Q(g)]}),(0,i.jsx)(S.ZP,{size:S.ZP.Sizes.SMALL})]}),f]})},er.EmbeddedActivitySection=e=>{let{activity:t,channel:n,guildId:r,participants:a}=e,[o,c]=l.useState(null),d=t.application_id;l.useEffect(()=>{null!=d&&(0,G.hR)(d,["embedded_background"]).then(e=>{let[t]=e;return c(t)})},[d]);let p=(0,s.Wu)([k.default,R.default],()=>Array.from(a).map(e=>R.default.getId()===e?null:k.default.getUser(e)).filter(V.lm)),f=(0,h.O)(),{analyticsLocations:m}=(0,I.ZP)();if(null==d)return null;let b=v.Z.getApplication(d);if(null==b)return null;let _=null!=t.created_at&&t.created_at>0?{start:t.created_at}:void 0,E=(0,G.xF)(b.id,o,300);return(0,i.jsxs)(J,{children:[(0,i.jsxs)("div",{className:W.embeddedActivityTopRow,children:[(0,i.jsx)(P.Z,{game:b,size:P.Z.Sizes.XSMALL,className:W.embeddedActivityIcon}),(0,i.jsx)("div",{className:W.embeddedActivityName,children:(0,i.jsx)(u.Text,{variant:"text-sm/semibold",children:b.name})}),null!=_?(0,i.jsx)("div",{className:W.embeddedActivityTimeElapsed,children:(0,i.jsx)(u.Text,{color:"text-muted",variant:"text-sm/normal",children:(0,i.jsx)(X,{timestamps:_})})}):null]}),(0,i.jsxs)("div",{className:W.embeddedActivityPlayerContainer,children:[null!=E?(0,i.jsx)("img",{src:E,alt:b.name,className:W.embeddedActivityImage}):null,(0,i.jsxs)("div",{className:W.embeddedActivityImageOverlay,children:[(0,i.jsx)(w.OV,{users:p,guildId:r,channelId:n.id}),(0,i.jsx)("div",{className:W.embeddedActivityJoinWrapper,children:(0,i.jsx)(u.zxk,{size:u.zxk.Sizes.SMALL,onClick:e=>{e.stopPropagation(),(0,g.Z)({applicationId:d,activityChannelId:n.id,locationObject:f.location,analyticsLocations:m})},children:z.intl.string(z.t.VJlc0d)})})]})]})]})};let ei=er},199104:function(e,t,n){n.d(t,{Z:()=>_});var r=n(255367);n(73800);var i=n(442837),l=n(704215),a=n(481060),o=n(410575),s=n(100527),c=n(906732),u=n(313201),d=n(243778),p=n(352455),h=n(480294),f=n(791359),g=n(981631),m=n(388032),b=n(530925);function _(){let{analyticsLocations:e}=(0,c.ZP)(s.Z.ACTIVE_NOW_COLUMN),t=(0,i.e7)([h.Z],()=>h.Z.hasConsented(g.pjP.PERSONALIZATION))?[]:[l.z.NOW_PLAYING_CONSENT_CARD],n=(0,u.Dt)();return(0,r.jsx)(c.Gt,{value:e,children:(0,r.jsx)(o.Z,{section:g.jXE.ACTIVE_NOW_COLUMN,children:(0,r.jsx)("aside",{className:b.container,"aria-labelledby":n,children:(0,r.jsxs)(a.Ttm,{className:b.scroller,children:[(0,r.jsx)(a.X6q,{variant:"heading-lg/semibold",className:b.header,id:n,children:m.intl.string(m.t.F4Zgg4)}),(0,r.jsx)(d.ZP,{contentTypes:t,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;if(t===l.z.NOW_PLAYING_CONSENT_CARD)return(0,r.jsx)(p.Z,{className:b.__invalid_consentCard,markAsDismissed:n})}}),(0,r.jsx)(f.Z,{})]})})})})}},292140:function(e,t,n){n.d(t,{Z:()=>m});var r=n(255367);n(73800);var i=n(481060),l=n(493773),a=n(626135),o=n(144145),s=n(555927),c=n(738762),u=n(244080),d=n(247530),p=n(260889),h=n(981631),f=n(674563),g=n(388032);function m(e){let{party:t,close:n,onSelect:m}=e,b=(0,c.Z)(t),_=(0,p.Z)(t),E=(0,d.Z)(t),O=(0,u.Z)(t),y=(0,o.Z)(t),I=(0,s.Z)(t);return(0,l.ZP)(()=>{let e=t.currentActivities.filter(e=>{var t,n;return(null==(t=e.game)?void 0:t.name)!=null&&(null==(n=e.game)?void 0:n.type)===f.wW.GAME}).map(e=>e.game.name);a.default.track(h.rMx.OPEN_POPOUT,{type:"Now Playing Card Popout",games_detected:e})}),(0,r.jsxs)(i.v2r,{navId:"now-playing-menu",onClose:n,"aria-label":g.intl.string(g.t.ogxXGh),onSelect:m,children:[b,(0,r.jsxs)(i.kSQ,{children:[_,E]}),(0,r.jsx)(i.kSQ,{children:O}),(0,r.jsx)(i.kSQ,{children:y}),I]})}},841710:function(e,t,n){n.d(t,{Y:()=>u,Z:()=>c});var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(481060),o=n(129861),s=n(376316);function c(e){let{user:t,status:n,isFocused:i,guildId:l}=e;return(0,r.jsxs)("div",{className:s.memberItem,children:[(0,r.jsx)(a.qEK,{src:t.getAvatarURL(l,24),className:s.avatar,"aria-label":t.username,size:a.EFr.SIZE_24,status:n,statusColor:i?"currentColor":void 0}),(0,r.jsx)(o.Z,{user:t,hideDiscriminator:!0})]})}function u(e){let{label:t}=e;return(0,r.jsxs)("div",{className:s.memberItem,children:[(0,r.jsx)("div",{className:l()(s.avatar,s.unknown)}),(0,r.jsx)("div",{children:t})]})}},144145:function(e,t,n){n.d(t,{Z:()=>P}),n(539854),n(388685);var r=n(255367),i=n(73800),l=n(442837),a=n(481060),o=n(278323),s=n(287734),c=n(230711),u=n(726542),d=n(620662),p=n(841784),h=n(802856),f=n(594190),g=n(592745),m=n(553795),b=n(757266),_=n(283595),E=n(417363),O=n(626135),y=n(804739),I=n(346329),v=n(981631),C=n(388032);function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function N(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let T=u.Z.get(v.ABu.XBOX).name;function P(e){let{currentActivities:t}=e,n=t.length>1,P=function(e){let{currentActivities:t}=e,n=(0,l.e7)([m.Z],()=>m.Z.getAccounts().some(e=>e.type===u.Z.get(v.ABu.XBOX).type)),i=t.some(e=>{let{activity:t}=e;return(0,h.Z)(t)});return n||!i?null:(0,r.jsx)(a.sNh,{id:"xbox-connect",action:()=>c.Z.open(v.oAB.CONNECTIONS),label:C.intl.formatToPlainString(C.t.XWSHTU,{platform:T})})}(e),j=function(e){let{currentActivities:t}=e,n=i.useContext(O.AnalyticsContext);return(0,l.Wu)([f.ZP,_.Z,g.Z,E.Z,b.Z],()=>t.filter(e=>!(0,p.Z)(e.activity)).map(e=>{let{activity:t,game:r}=e,i=_.Z.getActiveLibraryApplication(r.id);return N(S({},e),{libraryApplication:i,canJoin:null!=t&&(0,d.Z)(t,v.xjy.JOIN)&&t.type===v.IIU.PLAYING,canPlay:(0,y.t)({LibraryApplicationStore:_.Z,LaunchableGameStore:g.Z,DispatchApplicationStore:E.Z,ConnectedAppsStore:b.Z,applicationId:r.id,branchId:null!=i?i.branchId:null}),isLaunching:g.Z.launchingGames.has(r.id),isRunning:f.ZP.getRunningVerifiedApplicationIds().includes(r.id),location:n.location})}),[n.location,t])}(e),A=[];for(let e of j){let{activity:t}=e;null!=t&&null!=t.type&&A.push(function(e,t){let{canJoin:n,activity:i,activityUser:l}=e;if(!n||null==i)return null;async function c(){if(null==i)return;let e=await o.Z.sendActivityInviteUser({type:v.mFx.JOIN_REQUEST,userId:l.id,activity:i,location:v.Sbl.USER_ACTIVITY_ACTIONS});null!=e&&s.default.selectPrivateChannel(e.id)}return(0,r.jsx)(a.sNh,{id:"join-".concat(i.session_id),label:t?C.intl.formatToPlainString(C.t.wFAvxM,{name:l.toString()}):C.intl.string(C.t.OKsSCQ),action:c})}(e,n),function(e,t){let{activity:n,game:i,libraryApplication:l,location:o,canPlay:s,isRunning:c,isLaunching:u}=e;if(!s||null==n)return null;let d=c?C.intl.formatToPlainString(C.t["gBme//"],{name:i.name}):u?C.intl.formatToPlainString(C.t.WtSQwM,{name:i.name}):void 0;return(0,r.jsx)(a.sNh,{id:"play-".concat(n.session_id),action:function(){(0,I.playApplication)(i.id,l,{analyticsParams:{location:N(S({},o),{object:v.qAy.LIST_ITEM})}})},label:t?C.intl.formatToPlainString(C.t.ZDZEJC,{name:i.name}):C.intl.string(C.t.XKUw8v),subtext:d})}(e,n))}return[P,...A]}},555927:function(e,t,n){n.d(t,{Z:()=>h}),n(539854),n(388685),n(361932),n(187205);var r=n(255367),i=n(73800),l=n(481060),a=n(906732),o=n(892001),s=n(841710),c=n(388032);function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function d(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function p(e){let{priorityMembers:t,otherMembers:n,totalMembers:i,activity:a,guildId:p,sourceAnalyticsLocations:h}=e,f=[];for(let{user:e,status:n}of t)f.push((0,r.jsx)(l.sNh,{id:e.id,keepItemStyles:!0,render:t=>(0,r.jsx)(s.Z,d(u({},t),{user:e,status:n,guildId:p})),action:()=>(0,o.openUserProfileModal)({userId:e.id,guildId:p,sourceAnalyticsLocations:h})}));for(let e of n)f.push((0,r.jsx)(l.sNh,{id:e.id,keepItemStyles:!0,render:t=>(0,r.jsx)(s.Z,d(u({},t),{user:e,guildId:p})),action:()=>(0,o.openUserProfileModal)({userId:e.id,guildId:p,sourceAnalyticsLocations:h})}));let g=i-f.length;return g>0&&f.push((0,r.jsx)(l.sNh,{id:"unknown-members-".concat(null==a?void 0:a.session_id),render:e=>(0,r.jsx)(s.Y,d(u({},e),{label:c.intl.formatToPlainString(c.t["6Kqn9P"],{count:g})}))})),f}function h(e){let{priorityMembers:t,partiedMembers:n,currentActivities:o,guildContext:s}=e,u=new Set(t.map(e=>{let{user:t}=e;return t.id})),d=n.filter(e=>!u.has(e.id)),{analyticsLocations:h}=(0,a.ZP)(),f=i.useMemo(()=>{let e=o.flatMap(e=>{let{playingMembers:t}=e;return t}).map(e=>e.id);return n.filter(t=>!e.includes(t.id))},[n,o]);if(o.length<=1&&0===f.length){var g,m;return(0,r.jsx)(l.kSQ,{label:n.length>1?c.intl.formatToPlainString(c.t.C4WXvb,{memberCount:n.length}):void 0,children:p({priorityMembers:t,otherMembers:d,totalMembers:n.length,activity:null!=(m=null==(g=o[0])?void 0:g.activity)?m:void 0,guildId:null==s?void 0:s.id,sourceAnalyticsLocations:h})})}let b=o.map((e,n)=>{let{playingMembers:i,game:a,activity:o}=e,c=new Set(i.map(e=>e.id));return(0,r.jsx)(l.kSQ,{label:"".concat(a.name," - ").concat(i.length),children:p({priorityMembers:t.filter(e=>{let{user:t}=e;return c.has(t.id)}),otherMembers:i.filter(e=>!u.has(e.id)),totalMembers:i.length,activity:null!=o?o:void 0,guildId:null==s?void 0:s.id,sourceAnalyticsLocations:h})},n)}),_=f.map(e=>e.id);return[...b,(0,r.jsx)(l.kSQ,{label:"".concat(c.intl.string(c.t["mIx+gI"])," - ").concat(f.length),children:p({priorityMembers:t.filter(e=>{let{user:t}=e;return _.includes(t.id)}),otherMembers:f.filter(e=>!u.has(e.id)),totalMembers:f.length,guildId:null==s?void 0:s.id,sourceAnalyticsLocations:h})})]}},738762:function(e,t,n){n.d(t,{Z:()=>h});var r=n(255367),i=n(73800),l=n(481060),a=n(493683),o=n(367907),s=n(205129),c=n(626135),u=n(981631),d=n(388032);function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{priorityMembers:n,partiedMembers:h}=e,f=i.useContext(c.AnalyticsContext),g=n.map(e=>{let{user:t}=e;return t.id}),m=1===h.length&&1===n.length,b=n.length-h.length>0;return(m||t)&&!b&&0!==g.length?(0,r.jsx)(l.sNh,{id:"message",action:function(){a.Z.openPrivateChannel({recipientIds:g}).then(t=>{var n,r;return o.ZP.trackWithMetadata(u.rMx.ACTIVITY_FEED_DM_VISITED,p({source:(n=p({},f.location),r=r={object:u.qAy.LIST_ITEM},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n),channel_id:t,recipient_id:"string"==typeof g?g:g[0],af_recently_played:!1},(0,s.y)(e)))})},label:d.intl.string(d.t["g33r/P"])}):null}},244080:function(e,t,n){n.d(t,{Z:()=>i});var r=n(380349);function i(e){let{currentActivities:t,isSpotifyActivity:n}=e,i=t[0],l=(0,r.Z)(null==i?void 0:i.activity,null==i?void 0:i.activityUser);return n?l:null}},247530:function(e,t,n){n.d(t,{Z:()=>c});var r=n(255367);n(73800);var i=n(481060),l=n(287734),a=n(872810),o=n(51144),s=n(388032);function c(e){let{applicationStreams:t}=e;return t.map(e=>{let{stream:t,streamUser:n}=e;return(0,r.jsx)(i.sNh,{id:"spectate-".concat(t.ownerId),action:()=>{l.default.selectVoiceChannel(t.channelId),(0,a.iV)(t)},label:s.intl.formatToPlainString(s.t.m09d0d,{streamerName:o.ZP.getName(n)})},"spectate-".concat(t.ownerId))})}},260889:function(e,t,n){n.d(t,{Z:()=>_});var r=n(255367),i=n(73800),l=n(442837),a=n(481060),o=n(287734),s=n(367907),c=n(359110),u=n(769654),d=n(496675),p=n(205129),h=n(626135),f=n(981631),g=n(388032);function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function _(e){let t=i.useContext(h.AnalyticsContext),n=e.voiceChannels[0],_=(0,l.e7)([d.Z],()=>null!=n&&d.Z.can(f.Plq.CONNECT,n.channel));return null==n?null:[(0,r.jsx)(a.sNh,{id:"join-voice",action:function(){(0,c.Kh)(n.channel.id),o.default.selectVoiceChannel(n.channel.id),s.ZP.trackWithMetadata(f.rMx.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,m({source:b(m({},t.location),{object:f.qAy.LIST_ITEM}),guild_id:n.guild.id,channel_id:n.channel.id},(0,p.y)(e)))},label:g.intl.string(g.t["8yOlh4"]),disabled:!_},"join-voice"),(0,r.jsx)(a.sNh,{id:"goto-server",action:function(){(0,u.X)(n.guild.id),s.ZP.trackWithMetadata(f.rMx.ACTIVITY_FEED_GUILD_VISITED,m({source:b(m({},t.location),{object:f.qAy.LIST_ITEM}),guild_id:n.guild.id,af_recently_played:!1},(0,p.y)(e)))},label:g.intl.string(g.t.RGgqm5)},"goto-server")]}},525296:function(e,t,n){n.d(t,{Z:()=>d});var r=n(255367),i=n(73800),l=n(493683),a=n(239091),o=n(730749),s=n(430824);function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function d(e){return(0,o.Z)(class extends i.Component{render(){return(0,r.jsx)(e,u(c({},this.props),{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))}handleMessageUser(e,t){return l.Z.openPrivateChannel({recipientIds:t.id})}handleUserContextMenu(e,t,i){(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("86423")]).then(n.bind(n,881351));return n=>(0,r.jsx)(e,u(c({},n),{user:t}))},{onClose:i})}handleGuildContextMenu(e,t){(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("44156"),n.e("55616"),n.e("49286"),n.e("6850"),n.e("58227"),n.e("32652"),n.e("54408"),n.e("20087"),n.e("92754"),n.e("87154"),n.e("33213"),n.e("15875")]).then(n.bind(n,545135));return n=>(0,r.jsx)(e,u(c({},n),{guild:t}))})}handleChannelContextMenu(e,t){let i=s.Z.getGuild(t.getGuildId());if(null==i)return null;(0,a.jW)(e,async()=>{let{default:e}=await n.e("40283").then(n.bind(n,428108));return n=>(0,r.jsx)(e,u(c({},n),{channel:t,guild:i}))})}})}},929809:function(e,t,n){n.d(t,{H:()=>l,c:()=>i});var r=n(570140);function i(e){r.Z.wait(()=>r.Z.dispatch({type:"NUF_NEW_USER",newUserType:e}))}function l(){r.Z.wait(()=>r.Z.dispatch({type:"NUF_COMPLETE"}))}},701476:function(e,t,n){n.d(t,{M5:()=>i});var r,i=((r={})[r.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED",r[r.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED",r[r.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED",r[r.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE",r)},785997:function(e,t,n){n.d(t,{F:()=>i});var r,i=((r={}).AGE_GATE="age-gate",r.CHOOSE_TEMPLATE="choose-template",r.CUSTOMIZE_GUILD="customize-server",r.CHANNEL_PROMPT="channel-prompt",r.JOIN_GUILD="join-server",r.CREATION_INTENT="creation-intent",r.COMPLETE="complete",r)},122333:function(e,t,n){let r;n.d(t,{Z:()=>L}),n(388685),n(583741);var i=n(255367);n(73800);var l=n(481060),a=n(570140),o=n(317770),s=n(622822),c=n(391650),u=n(305325),d=n(983736),p=n(341298),h=n(390885),f=n(524329),g=n(995532),m=n(486472),b=n(430824),_=n(914010),E=n(594174),O=n(823379),y=n(358085),I=n(929809),v=n(179645),C=n(701476),S=n(785997),N=n(981631),T=n(188785),P=n(630724);function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function A(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function Z(){null!=r&&(0,l.Mr3)(r)}class x extends o.Z{_initialize(){a.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen),a.Z.subscribe("LOGOUT",Z)}_terminate(){a.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen),a.Z.unsubscribe("LOGOUT",Z)}handleConnectionOpen(){var e;let t,a=v.Z.getType();if(null==a)return;switch(a){case C.M5.INVITE_UNCLAIMED:h.Z.flowStart(P.MK.INVITE,P.EW.NUF_STARTED);break;case C.M5.ORGANIC_REGISTERED:h.Z.flowStart(P.MK.ORGANIC,P.EW.NUF_STARTED);break;case C.M5.MARKETING_UNCLAIMED:h.Z.flowStart(P.MK.ORGANIC_MARKETING,P.EW.NUF_STARTED)}let o=!1,Z=_.Z.getGuildId();if(a===C.M5.INVITE_UNCLAIMED){let e=b.Z.getGuild(Z);null!=e&&(0,d.Dc)(e)&&(o=!0,(0,f.RM)(e.id))}let x=()=>0===m.Z.totalGuilds&&!y.isPlatformEmbedded,L=s.bN();e=[{key:"Unified NUF Modal",open:async function(e){let t=e=>{switch(e){case S.F.AGE_GATE:h.Z.flowStep(P.MK.ANY,P.EW.AGE_GATE);break;case S.F.CHOOSE_TEMPLATE:h.Z.flowStep(P.MK.ANY,P.X2.GUILD_TEMPLATES);break;case S.F.CUSTOMIZE_GUILD:h.Z.flowStep(P.MK.ANY,P.X2.GUILD_CREATE);break;case S.F.CHANNEL_PROMPT:h.Z.flowStep(P.MK.ANY,P.X2.CHANNEL_PROMPT);break;case S.F.JOIN_GUILD:h.Z.flowStep(P.MK.ANY,P.X2.JOIN_GUILD);break;case S.F.CREATION_INTENT:h.Z.flowStep(P.MK.ANY,P.X2.CREATION_INTENT);break;case S.F.COMPLETE:h.Z.flowStep(P.MK.ANY,P.X2.SUCCESS);break;case null:break;default:O.vE(e)}};r=await (0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("6583"),n.e("1337"),n.e("42483"),n.e("57015")]).then(n.bind(n,599219));return n=>(0,i.jsx)(e,A(j({},n),{onSlideChange:t}))},{onCloseRequest:N.dG4,onCloseCallback:e,modalKey:r})},predicate:()=>x()&&!T.a},{key:"New User Age Gate",open:c.i,predicate:()=>L&&!x()&&!T.a},{key:"Claim Account Modal",open:e=>c.j(y.isPlatformEmbedded,e),predicate:()=>{var e;return!o&&null!=E.default.getCurrentUser()&&!(null==(e=E.default.getCurrentUser())?void 0:e.isClaimed())&&!T.a&&!(0,p.g)("new_user_manager")}},{key:"Verification Gate with Claim Account",open:e=>(0,u.hk)(Z,null!=e?e:void 0),predicate:()=>{var e;return o&&!(null==(e=E.default.getCurrentUser())?void 0:e.isClaimed())&&!T.a}},{key:"Guild Welcome Modal",open:e=>(0,l.ZDy)(async()=>{let{default:e}=await n.e("77578").then(n.bind(n,184782));return t=>(0,i.jsx)(e,A(j({},t),{guildId:Z}))},{onCloseCallback:e}),predicate:()=>null!=Z&&null!=g.Z.get(Z)&&g.Z.get(Z)!==g.a}],t=()=>{I.H(),h.Z.flowStep(P.MK.ANY,P.EW.NUF_COMPLETE,!0)},[...e].reverse().forEach(e=>{let n=t;t=()=>{e.predicate()?e.open(n):n()}}),t()}}let L=new x},824138:function(e,t,n){n.d(t,{Z:()=>C}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(481060),s=n(100527),c=n(600164),u=n(670188),d=n(237583),p=n(63063),h=n(870569),f=n(345243),g=n(115530),m=n(981631),b=n(388032),_=n(457755);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let I={HOST:5,LISTENER:4};class v extends i.PureComponent{isHost(){let{currentUser:e,host:t}=this.props;return e.id===(null==t?void 0:t.id)}renderTitle(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(g.Z,{children:this.isHost()?b.intl.formatToPlainString(b.t["6UJ7mp"],{count:this.props.party.length}):b.intl.string(b.t.RZufbG)}),(0,r.jsx)(f.Z,{children:b.intl.string(b.t["0ZHLIi"])})]})}renderStopListeningButton(){let{onStopListening:e}=this.props;return this.isHost()?null:(0,r.jsx)(h.Z,{tooltipText:b.intl.string(b.t.LeZSp6),onClick:e,icon:o.Dio})}renderHelpIcon(){return this.isHost()?(0,r.jsx)(h.Z,{tooltipText:b.intl.string(b.t.U7N2Hh),onClick:()=>{window.open(p.Z.getArticleURL(m.BhN.SPOTIFY_CONNECTION),"_blank")},icon:o.d3s}):null}render(){return(0,r.jsxs)("div",{className:_.listeningAlong,children:[this.renderTitle(),(0,r.jsx)(c.Z,{justify:c.Z.Justify.END,className:_.party,children:(0,r.jsx)(d.Z,{users:this.props.party,max:this.isHost()?I.HOST:I.LISTENER,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})}),(0,r.jsxs)("div",{className:_.icons,children:[this.renderHelpIcon(),this.renderStopListeningButton()]})]})}constructor(...e){super(...e),E(this,"partyMemberAvatarRef",i.createRef()),E(this,"partyMemberOverflowRef",i.createRef()),E(this,"renderPartyMember",(e,t)=>{let n;if(null==e)return null;let{host:l,onUserContextMenu:c}=this.props;return n=(null==l?void 0:l.id)===e.id?b.intl.string(b.t.N9bqDw):b.intl.string(b.t.Z2Y4c3),(0,r.jsx)(u.Z,{targetElementRef:this.partyMemberAvatarRef,user:e,newAnalyticsLocations:[s.Z.AVATAR],position:"top",align:"center",clickTrap:!0,children:l=>(0,r.jsx)(o.ua7,{text:n,children:n=>{let{onMouseEnter:r,onMouseLeave:s}=n;return(0,i.createElement)(o.qEK,y(O({},l),{key:e.id,src:e.getAvatarURL(void 0,24),size:o.EFr.SIZE_24,className:a()(_.avatar,t),"aria-label":e.username,onMouseEnter:r,onMouseLeave:s,onContextMenu:t=>void(null!=e&&(null==c||c(t,e))),avatarContentRef:this.partyMemberAvatarRef}))}})},e.id)}),E(this,"renderPartyMemberOverflow",(e,t,n)=>{let{renderOverflowPopout:i}=this.props;return(0,r.jsx)(o.yRy,{renderPopout:i,targetElementRef:this.partyMemberOverflowRef,children:n=>(0,r.jsx)(o.ua7,{text:b.intl.string(b.t.Zf4NPT),children:i=>(0,r.jsx)("div",y(O({ref:this.partyMemberOverflowRef,className:a()(_.overflow,t)},i,n),{children:e}))})},n)})}}let C=v},235555:function(e,t,n){n.d(t,{Z:()=>O}),n(388685);var r=n(255367),i=n(73800),l=n(392711),a=n.n(l),o=n(442837),s=n(239091),c=n(476669),u=n(524331),d=n(768419),p=n(831506),h=n(699516),f=n(594174),g=n(823379),m=n(824138),b=n(388032);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends i.PureComponent{hasParty(e){return e.length>1}handleStopListening(){(0,u.Z)()}render(){let{currentUser:e,host:t,party:n}=this.props;return this.hasParty(n)&&null!=e?(0,r.jsx)(m.Z,{currentUser:e,host:t,party:n,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null}constructor(...e){super(...e),_(this,"handleUserContextMenu",(e,t)=>{(0,s.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("86423")]).then(n.bind(n,881351));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_(e,t,n[t])})}return e}({},n),l=l={user:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}),_(this,"renderOverflowPopout",()=>{let{party:e}=this.props;return(0,r.jsx)(c.Z,{party:e,header:b.intl.formatToPlainString(b.t.I9et19,{count:e.length})})})}}let O=o.ZP.connectStores([d.Z,f.default,h.Z,p.Z],()=>{let e,t,n=d.Z.getSyncingWith(),r=d.Z.getActivity(),i=f.default.getCurrentUser(),l=[];if(null!=n?(e=f.default.getUser(n.userId),t=n.partyId):null!=r&&null!=r.party&&null!=r.party.id&&(e=i,t=r.party.id),null!=t){var o;l=a()(Array.from(null!=(o=p.Z.getParty(t))?o:[])).map(e=>f.default.getUser(e)).filter(g.lm).orderBy([t=>null==e||e.id===t.id,e=>h.Z.isFriend(e.id)],["desc","desc"]).value()}return{currentUser:i,host:e,party:l}})(E)},746508:function(e,t,n){n.d(t,{Z:()=>e$}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(688642),u=n(442837),d=n(864094),p=n(75735),h=n(382600),f=n(481060),g=n(846027),m=n(239091),b=n(925549),_=n(284056),E=n(730749),O=n(911969),y=n(40851),I=n(317381),v=n(596040),C=n(588580),S=n(374065),N=n(451576),T=n(119315),P=n(403404),j=n(100527),A=n(906732),Z=n(562129),x=n(793865),L=n(522651),w=n(795318),R=n(933557),D=n(338390),k=n(600164),M=n(540059),U=n(258609),G=n(446226),V=n(935261),B=n(74299),H=n(803647),F=n(142497),z=n(810788),W=n(160404),Y=n(703656),K=n(917405),q=n(641015),Q=n(848543),X=n(565799),J=n(501655),$=n(368442),ee=n(600518),et=n(485287),en=n(754277),er=n(590415),ei=n(695346),el=n(923973),ea=n(829750),eo=n(189771),es=n(544384),ec=n(560688),eu=n(127608),ed=n(76021),ep=n(173507),eh=n(25827),ef=n(199902),eg=n(314897),em=n(592125),eb=n(430824),e_=n(819640),eE=n(131951),eO=n(496675),ey=n(19780),eI=n(699516),ev=n(594174),eC=n(979651),eS=n(938475),eN=n(626135),eT=n(63063),eP=n(51144),ej=n(351763),eA=n(870569),eZ=n(345243),ex=n(594117),eL=n(226323),ew=n(981631),eR=n(354459),eD=n(190378),ek=n(388032),eM=n(566177),eU=n(20493);function eG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eG(e,t,n[t])})}return e}function eB(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function eH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let eF={offset:{left:-1,top:-1,right:1,bottom:1}};function ez(e){let t=e.currentTarget;eN.default.track(ew.rMx.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{section:ew.jXE.NOISE_CANCELLATION_POPOUT}})}function eW(){let e=i.useRef(null);(0,f.Tbt)(e),i.useEffect(()=>{eN.default.track(ew.rMx.OPEN_POPOUT,{type:ew.jXE.NOISE_CANCELLATION_POPOUT})},[]);let t=(0,u.e7)([eE.Z],()=>eE.Z.getNoiseCancellation());return(0,r.jsxs)("div",{ref:e,className:eM.noiseCancellationPopout,children:[(0,r.jsx)(f.j7V,{hideBorder:!0,className:eU.marginBottom4,value:t,onChange:()=>g.Z.setNoiseCancellation(!t,{section:ew.jXE.NOISE_CANCELLATION_POPOUT}),note:ek.intl.string(ek.t.uKdWn5),children:ek.intl.string(ek.t.WGWHv7)}),(0,r.jsx)(_.Z,{title:ek.intl.string(ek.t.JdUas7),notchBackground:_._.BLACK,buttonTest:ek.intl.string(ek.t["sG+MGh"]),buttonStop:ek.intl.string(ek.t.Yp3SbG),buttonClassName:eM.micTestButton,buttonColor:f.zxk.Colors.PRIMARY,location:{section:ew.jXE.NOISE_CANCELLATION_POPOUT}}),(0,r.jsx)(f.vwX,{tag:f.RB0.H5,className:a()(eU.marginBottom8,eU.marginTop20),children:ek.intl.string(ek.t.k6h1Fx)}),(0,r.jsxs)(k.Z,{justify:k.Z.Justify.BETWEEN,className:eM.__invalid_footer,children:[(0,r.jsx)(f.eee,{href:ew.EYA.KRISP,onClick:e=>ez(e),children:(0,r.jsx)("div",{className:eM.krispLogo})}),(0,r.jsx)(f.eee,{href:eT.Z.getArticleURL(ew.BhN.NOISE_SUPPRESSION),className:eM.krispLink,onClick:e=>ez(e),children:ek.intl.string(ek.t.hvVgAQ)})]})]})}function eY(){let{parentAnalyticsLocation:e}=(0,A.ZP)(),t=(0,u.e7)([en.Z],()=>en.Z.isMuted()),n=t?ek.intl.string(ek.t.ScHlfn):ek.intl.string(ek.t.zqxfra);return(0,r.jsx)(eA.Z,{"aria-label":n,tooltipText:n,icon:t?f.xjP:f.RZG,onClick:()=>{(0,L.v)(e,L.d.STAGE_MUSIC,t),(0,ee.v)(!t)}})}function eK(e){let{channel:t,enableActivities:n,disabled:l}=e,o=i.useRef(null),{parentAnalyticsLocation:s}=(0,A.ZP)(),c=(0,M.Q3)("ConnectedVideoButton"),d=(0,el.Z)(),h=(0,eo.Z)(t),m=(0,u.e7)([I.ZP],()=>null!=I.ZP.getSelfEmbeddedActivityForLocation(I.ZP.getConnectedActivityLocation())),b=(0,q.Z)(t),{reachedLimit:_,limit:E}=(0,ea.Z)(t),O=i.useCallback(()=>{(0,ec.Z)()},[]),v=(0,y.bp)(),C=i.useCallback(e=>{if(eE.Z.isVideoEnabled()===e)return;let n=()=>{var n;g.Z.setVideoEnabled(e),e&&(0,Y.uL)(ew.Z5c.CHANNEL(null!=(n=t.getGuildId())?n:ew.ME,t.id))};(0,L.v)(s,L.d.CAMERA,e),e?(0,ep.Z)(n,v):n()},[t,v,s]),S=m||n||b,{Component:N,play:T,events:P}=(0,p.o)(d.enabled?"disable":"enable");return i.useEffect(()=>()=>T(),[d.enabled,T]),(0,r.jsx)(eh.Z,eB(eV({onChange:C,onCameraUnavailable:O,hasPermission:h,channelLimit:E,channelLimitReached:_},d),{enabled:!l&&d.enabled,children:e=>{var{unavailable:t,isActive:n,label:i,iconComponent:l,iconColor:u}=e,d=eH(e,["unavailable","isActive","label","iconComponent","iconColor"]);let p=(0,r.jsx)(N,{size:c?"md":"sm",className:a()(eM.buttonIcon,{[eM.withText]:!S}),color:"currentColor"});return(0,r.jsx)(f.yRy,{targetElementRef:o,renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(x.Z,{onClose:t,minimal:!0,onInteraction:(0,w.u)("VideoDeviceMenu",s)})},position:"top",align:"center",animation:f.yRy.Animation.FADE,children:(e,l)=>{var{onClick:s}=e,u=eH(e,["onClick"]),{isShown:h}=l;return(0,r.jsx)(f.ua7,{text:i,children:e=>(0,r.jsx)(f.zxk,eB(eV({buttonRef:o},d,e,u),{onClick:t=>{var n;d.onClick(t),null==(n=e.onClick)||n.call(e),h&&s(t)},onMouseEnter:()=>{var t,n;null==(t=e.onMouseEnter)||t.call(e),null==(n=u.onMouseEnter)||n.call(u),P.onMouseEnter()},onMouseLeave:()=>{var t;null==(t=e.onMouseLeave)||t.call(e),P.onMouseLeave()},onContextMenu:t=>{var n;s(t),null==(n=e.onContextMenu)||n.call(e)},size:c?f.zxk.Sizes.MEDIUM:f.zxk.Sizes.SMALL,className:a()(eM.button,eM.buttonColor,{[eM.buttonActive]:n,[eM.fauxDisabled]:t,[eM.disabled]:d.disabled}),innerClassName:eM.buttonContents,wrapperClassName:eM.button,fullWidth:!0,focusProps:eF,children:S?p:(0,r.jsxs)(k.Z,{align:k.Z.Align.CENTER,children:[p,ek.intl.string(ek.t.FlNoSU)]})}))})}})}}))}function eq(e){let{channel:t,enableActivities:n}=e,i=(0,M.Q3)("ConnectedActivityButton"),l=(0,y.bp)(),{analyticsLocations:o,parentAnalyticsLocation:s}=(0,A.ZP)(),c=l===ew.IlC.POPOUT,d=(0,S.KF)(t.id),p=(0,S.g5)(d),{userInActivity:h}=(0,u.cj)([I.ZP],()=>({userInActivity:null!=I.ZP.getSelfEmbeddedActivityForChannel(t.id)})),g=(0,C.a)({surface:O.eR.VOICE_LAUNCHER}),m=d!==S.jy.CAN_LAUNCH,{Component:b,events:_,play:E}=(0,Z.Z)("RTCConnection");return n?(0,r.jsx)(f.ua7,{text:p,children:e=>(0,r.jsxs)(f.zxk,eB(eV(eB(eV({},e),{fullWidth:!0,size:i?f.zxk.Sizes.MEDIUM:f.zxk.Sizes.SMALL}),_),{onClick:()=>{var n;E(),(0,P.Z)({channel:t,openInPopout:c,analyticsLocations:o}),null==(n=e.onClick)||n.call(e),(0,L.v)(s,L.d.ACTIVITY)},onMouseEnter:()=>{var t;_.onMouseEnter(),null==e||null==(t=e.onMouseEnter)||t.call(e)},onMouseLeave:()=>{var t;_.onMouseLeave(),null==e||null==(t=e.onMouseLeave)||t.call(e)},disabled:m,className:a()(eM.button,eM.buttonColor,{[eM.buttonActive]:h,[eM.disabled]:m}),innerClassName:eM.buttonContents,wrapperClassName:eM.button,focusProps:eF,children:[g?(0,r.jsx)(T.r,{top:-1,right:-1}):null,(0,r.jsx)(b,{size:i?"md":"sm",color:"currentColor",className:eM.buttonIcon})]}))}):null}function eQ(e){let t,{channel:n,canGoLive:l,enableActivities:o,disabled:s}=e,c=i.useRef(null),{parentAnalyticsLocation:p}=(0,A.ZP)(),h=(0,M.Q3)("ConnectedStreamButton"),g=(0,u.e7)([ev.default],()=>ev.default.getCurrentUser()),m=(0,u.Wu)([ef.Z],()=>ef.Z.getAllActiveStreams()),b=(0,eo.Z)(n),_=n.getGuildId(),E=(0,u.cj)([I.ZP],()=>null!=I.ZP.getSelfEmbeddedActivityForChannel(n.id)),O=(0,q.Z)(n),y=i.useCallback(()=>{(0,ed.Z)(_,n.id,ew.jXE.ACTIVITY_PANEL)},[_,n.id]),v=m.find(e=>e.ownerId===(null==g?void 0:g.id)),C=(0,es.E)(n,g,m);t=null==v?l?y:eu.Z:()=>(0,H.Z)(v);let S=null!=v||C.length>0,N=b?ek.intl.string(ek.t.fjBNo6):ek.intl.string(ek.t.uQn9Bw),T=E||o||O,P=null!=v,{Component:j,events:Z,play:x}=(0,d.P)(P?"disable":"enable");i.useEffect(()=>()=>x(),[x,P]);let R=(0,r.jsx)(j,{size:h?"md":"sm",color:"currentColor",className:a()(eM.buttonIcon,{[eM.withText]:!T})});return(0,r.jsx)(f.yRy,{targetElementRef:c,renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(es.Z,{channel:n,currentUser:g,activeStreams:m,onClose:t,handleGoLive:l?y:eu.Z,onInteraction:(0,w.u)("ManageStreamsMenu",p,{entrypoint:eR.A5.OTHER_BUTTON})})},position:"top",align:"center",animation:f.yRy.Animation.FADE,children:e=>{var{onClick:n,onMouseEnter:i}=e,l=eH(e,["onClick","onMouseEnter"]);return(0,r.jsx)(f.ua7,{text:N,children:e=>(0,r.jsx)(f.zxk,eB(eV(eB(eV({},e),{buttonRef:c,size:h?f.zxk.Sizes.MEDIUM:f.zxk.Sizes.SMALL,onClick:r=>{var i;(0,L.v)(p,L.d.STREAM,null==v),S?n(r):t(),null==(i=e.onClick)||i.call(e)},disabled:!b||s,className:a()(eM.button,eM.buttonColor,{[eM.buttonActive]:null!=v,[eM.disabled]:!b||s})}),S?l:null),{onMouseEnter:()=>{var t;null==i||i(),null==(t=e.onMouseEnter)||t.call(e),Z.onMouseEnter()},onMouseLeave:()=>{var t;null==(t=e.onMouseLeave)||t.call(e),Z.onMouseLeave()},innerClassName:eM.buttonContents,wrapperClassName:eM.button,focusProps:eF,children:T?R:(0,r.jsxs)(k.Z,{align:k.Z.Align.CENTER,children:[R,ek.intl.string(ek.t["r0/+v7"])]})}))})}})}class eX extends i.PureComponent{renderConnectionStatus(){let e,{channel:t,guild:n,rtcConnectionQuality:i,rtcConnectionState:l,rtcConnectionLastPing:a,hasVideo:o,matchAccountText:s}=this.props;if(null==t)return null;let u=(0,R.F6)(t,ev.default,eI.Z);return null!=n?(e=ew.Z5c.CHANNEL(n.id,t.id),u="".concat(u," / ").concat(n.name)):e=ew.Z5c.CHANNEL(ew.ME,t.id),(0,r.jsx)(K.Z,{channelId:t.id,quality:i,state:l,lastPing:a,hasVideo:o,connectionStatusTextVariant:s?"text-md/medium":void 0,childrenAsSubtitle:s,children:(0,r.jsx)(f.tEY,{children:(0,r.jsx)(c.rU,{to:e,onClick:this.handleChannelLinkClick,onContextMenu:this.handleChannelLinkContextMenu,children:(0,r.jsx)(eZ.Z,{className:eM.channel,children:this.props.isVisualRefreshEnabled?(0,r.jsx)(f.Text,{variant:s?"text-xs/medium":"text-sm/medium",color:"text-secondary",lineClamp:1,children:u}):u})})})})}renderNoiseCancellation(){let{noiseCancellationActive:e,noiseCancellationError:t,hasLayers:n,remoteVoiceState:i,channel:l,voiceStates:a}=this.props;return null!=i?null:(null==l?void 0:l.isGuildStageVoice())&&null==a.find(e=>e.user.id===eg.default.getId()&&(0,er.gf)(e.voiceState)===er.xO.ON_STAGE)&&(0,et.U5)(l.id)?(0,r.jsx)(eY,{}):!n&&t?(0,r.jsx)(f.ua7,{text:ek.intl.string(ek.t["i+SO/f"]),tooltipClassName:eM.noiseCancellationTooltip,forceOpen:!0,children:e=>{let{"aria-label":t}=e;return(0,r.jsx)(eA.Z,{"aria-label":t,tooltipText:null,disabled:!0,icon:f.oIc})}}):(0,r.jsx)(f.yRy,{targetElementRef:this.krispButtonRef,position:"top",align:"center",renderPopout:()=>(0,r.jsx)(eW,{}),children:(t,n)=>{let{isShown:i}=n;return(0,r.jsx)(eJ,{popoutProps:t,isShown:i,noiseCancellationActive:e,ref:this.krispButtonRef})}},"krisp-popout")}renderVoiceStates(){let{channel:e,voiceStates:t,showVoiceStates:n}=this.props;return null!=e&&n&&0!==t.length?(0,r.jsx)(eL.Z,{voiceStates:t,channel:e,className:eM.voiceUsers}):null}renderChannelButtons(){let{channel:e,canGoLive:t,remoteVoiceState:n,enableActivities:i,voiceStates:l,selfStream:a,isPrivateChannelWithEnabledActivities:o,isSoundboardButtonHidden:s,isActivityButtonHidden:c}=this.props;if(null==e||null!=n)return null;let u=eg.default.getId();if(e.isGuildStageVoice()){if(!(0,$.tu)(e.guild_id)||!t)return null;let n=l.find(e=>e.user.id===u);if(null==n||n.voiceState.suppress)return null}let d=(e.isGuildVoice()||o)&&i,{reachedLimit:p}=(0,ea.t)(e),h=(0,$.xJ)(e.id);return(0,r.jsxs)("div",{className:eM.actionButtons,children:[(0,r.jsx)(eK,{channel:e,enableActivities:d,disabled:!h&&p}),(0,r.jsx)(eQ,{channel:e,canGoLive:t,enableActivities:d,disabled:e.isGuildStageVoice()&&(h&&null==a||!h&&p)}),d&&!c?(0,r.jsx)(eq,{channel:e,enableActivities:i}):null,(0,q.Z)(e)&&!s?(0,r.jsx)(Q.Z,{channel:e,focusProps:eF}):null]})}render(){let{channel:e,noiseCancellationSupported:t,shouldShowVoicePanelIntroduction:n}=this.props;return null==e?null:(0,r.jsx)(f.yRy,{targetElementRef:this.ref,renderPopout:this.renderVoicePanelIntroduction,position:"top",align:"center",animation:f.yRy.Animation.TRANSLATE,shouldShow:n,children:()=>(0,r.jsxs)("div",{ref:this.ref,className:eM.container,children:[(0,r.jsxs)(k.Z,{className:eM.connection,align:k.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:eM.inner,children:this.renderConnectionStatus()}),(0,r.jsxs)(k.Z,{grow:0,shrink:0,className:eM.voiceButtonsContainer,children:[t?this.renderNoiseCancellation():null,(0,r.jsx)(ex.Z,{channel:e})]})]}),this.renderVoiceStates(),this.renderChannelButtons()]})})}constructor(...e){super(...e),eG(this,"ref",i.createRef()),eG(this,"krispButtonRef",i.createRef()),eG(this,"handleChannelLinkClick",e=>{var t;let{guild:n,channel:r}=this.props;s()(null!=r,"Channel is null during navigation click"),e.stopPropagation(),b.Z.channelListScrollTo(null!=(t=null==n?void 0:n.id)?t:ew.ME,r.id),(0,L.v)(j.Z.RTC_PANEL,L.d.CHANNEL_LINK)}),eG(this,"handleChannelLinkContextMenu",e=>{let{channel:t,analyticsLocations:i}=this.props;(0,m.jW)(e,async()=>{let{default:e}=await n.e("56944").then(n.bind(n,600830));return n=>(0,r.jsx)(A.Gt,{value:i,children:(0,r.jsx)(e,eB(eV({},n),{channel:t,onInteraction:(0,w.u)("RTCConnectionMenu",j.Z.RTC_PANEL)}))})})}),eG(this,"handleCloseVoicePanelIntroduction",()=>{F.Kw(eD.v.VOICE_PANEL_INTRODUCTION)}),eG(this,"renderVoicePanelIntroduction",()=>(0,r.jsxs)("div",{className:a()(eM.voicePanelIntroductionWrapper,"theme-light"),children:[(0,r.jsx)(f.X6q,{className:eM.voicePanelIntroductionHeader,variant:"heading-md/semibold",children:ek.intl.string(ek.t["ba/rLy"])}),(0,r.jsx)(f.Text,{className:eM.voicePanelIntroductionText,variant:"text-sm/normal",children:ek.intl.string(ek.t.Ne1Ee3)}),(0,r.jsx)(f.zxk,{className:eM.voicePanelIntroductionButton,color:f.zxk.Colors.BRAND,onClick:this.handleCloseVoicePanelIntroduction,focusProps:eF,children:ek.intl.string(ek.t.shaBeH)})]}))}}function eJ(e){let{popoutProps:t,isShown:n,noiseCancellationActive:l,ref:a}=e,{parentAnalyticsLocation:o}=(0,A.ZP)(),{play:s,Component:c,events:u}=(0,h.P)(l?"disable":"enable");return i.useEffect(()=>()=>s(),[l,s]),(0,r.jsx)(eA.Z,eB(eV({},t),{ref:a,onClick:e=>{(0,L.v)(o,L.d.KRISP,!l),t.onClick(e)},onMouseEnter:()=>{var e;null==(e=t.onMouseEnter)||e.call(t),u.onMouseEnter()},onMouseLeave:()=>{u.onMouseLeave()},tooltipClassName:eM.noiseCancellationTooltip,tooltipText:n?null:ek.intl.string(ek.t.vFiCS0),icon:(0,r.jsx)(c,{size:"refresh_sm"})}))}let e$=(0,E.Z)(function(e){let t=(0,M.Q3)("ConnectedRTCConnection"),{isActivityButtonHidden:n,isSoundboardButtonHidden:l}=(0,ej.S)({location:"RTCConnection"}),a=(0,G.Z)(),o=(0,u.e7)([U.Z],()=>U.Z.getAwaitingRemoteSessionInfo()),s=(0,u.e7)([ev.default],()=>ev.default.getCurrentUser()),c=(0,u.cj)([ey.Z],()=>null!=a?{channelId:a.channelId,rtcConnectionQuality:ew.IE4.FINE,rtcConnectionState:ew.hes.RTC_CONNECTED,rtcConnectionLastPing:0}:{channelId:ey.Z.getChannelId(),rtcConnectionQuality:ey.Z.getQuality(),rtcConnectionState:ey.Z.getState(),rtcConnectionLastPing:ey.Z.getLastPing()}),{channelId:d}=c,p=eH(c,["channelId"]),h=(0,u.e7)([em.Z],()=>em.Z.getChannel(d),[d]),g=null==h?void 0:h.getGuildId(),m=(0,u.e7)([eb.Z],()=>eb.Z.getGuild(g),[g]),b=(0,u.cj)([eE.Z],()=>({noiseCancellationSupported:eE.Z.isNoiseCancellationSupported(),noiseCancellationActive:eE.Z.getNoiseCancellation(),noiseCancellationError:eE.Z.isNoiseCancellationError(),canGoLive:(0,B.Z)(eE.Z)})),_=(0,u.e7)([eE.Z,z.Z],()=>z.Z.hasHotspot(eD.v.VOICE_PANEL_INTRODUCTION)&&(0,eP.EO)(s)&&!eE.Z.isInteractionRequired()&&!(null==h?void 0:h.isGuildStageVoice())),E=(0,u.e7)([eC.Z],()=>null!=d&&eC.Z.hasVideo(d),[d]),O=(0,u.e7)([ef.Z],()=>ef.Z.getCurrentUserActiveStream()),y=(0,u.e7)([e_.Z],()=>e_.Z.hasLayers()),I=(0,u.e7)([W.Z],()=>W.Z.isViewingRoles(g)),C=(0,u.e7)([eO.Z],()=>I&&!eO.Z.can(ew.Plq.VIEW_CHANNEL,h),[I,h]),S=ei.Fg.useSetting(),[T,P,Z]=(0,u.Wu)([eS.ZP,X.Z],()=>(null==h?void 0:h.isGuildStageVoice())?[X.Z.getMutableParticipants(h.id,J.pV.SPEAKER),X.Z.getParticipantsVersion(h.id),null]:[null,null,null!=h?eS.ZP.getVoiceStatesForChannel(h):null],[h]),x=i.useMemo(()=>{var e,t;return null!=(t=null!=(e=null==T?void 0:T.map(e=>{let{user:t,userNick:n,voiceState:r}=e;return{user:t,nick:n,voiceState:r}}))?e:Z)?t:[]},[T,P,Z]),[L,w]=i.useState(!1),R=(0,D.Z)("RTCConnection");i.useEffect(()=>{(I||C)&&w(!1)},[I,C,w]);let{analyticsLocations:k}=(0,A.ZP)(j.Z.RTC_PANEL),H=(0,v.Z)(null!=g?g:ew.lds,null==h?void 0:h.id),F=(0,N.Z)(null==h?void 0:h.id);return(0,r.jsx)(A.Gt,{value:k,children:(0,r.jsxs)("div",{className:eM.wrapper,children:[null!=a||null!=o?(0,r.jsx)(V.Z,{voiceState:a,awaitingRemoteSessionInfo:o}):null,(0,r.jsx)(eX,eB(eV({},e,b,p),{enableActivities:H,remoteVoiceState:a,guild:m,channel:h,hasVideo:E,selfStream:O,hasLayers:y,voiceStates:x,showVoiceStates:S,shouldShowVoicePanelIntroduction:_,isPrivateChannelWithEnabledActivities:F,analyticsLocations:k,isVisualRefreshEnabled:t,isSoundboardButtonHidden:l,isActivityButtonHidden:n,matchAccountText:R})),!L&&I&&null!=g?(0,r.jsxs)("div",{className:eM.viewAsRolesWarning,children:[(0,r.jsx)(f.Text,{variant:"text-sm/normal",className:eM.viewAsRolesWarningText,children:C?ek.intl.string(ek.t.efjuQE):ek.intl.string(ek.t.br8H2N)}),(0,r.jsx)(f.zxk,{className:eM.viewAsRolesWarningButton,size:f.zxk.Sizes.MIN,onClick:()=>{w(!0)},focusProps:eF,children:ek.intl.string(ek.t.WAI6xs)})]}):null]})})})},594117:function(e,t,n){n.d(t,{Z:()=>E});var r=n(255367);n(73800);var i=n(685072),l=n(481060),a=n(287734),o=n(906732),s=n(522651),c=n(15274),u=n(389303),d=n(881824),p=n(719100),h=n(77880),f=n(870569),g=n(388032);function m(e){var t,n;let{tooltipText:a,onClick:c}=e,{parentAnalyticsLocation:u}=(0,o.ZP)(),{changeLeaveCallAndActivityIcons:d,isRTCIconRed:p}=(0,h.A)({location:"RTCConnectionDisconnectButton"}),{events:m,Component:b}=(0,i.K)(),_=d?(0,r.jsx)(l.PBZ,{color:p?l.TVs.colors.STATUS_DANGER:void 0,size:"refresh_sm"}):(0,r.jsx)(b,{size:"refresh_sm"});return(0,r.jsx)(f.Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({tooltipText:d?g.intl.string(g.t["Hi1/aW"]):a,onClick:()=>{(0,s.v)(u,s.d.DISCONNECT),c()}},m),n=n={icon:_},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}function b(e){let{channel:t}=e;return(0,r.jsx)(m,{tooltipText:g.intl.string(g.t.SMKyio),onClick:()=>{if((0,p.Z)(t))return void(0,d.Us)(t);a.default.disconnect()}})}function _(e){let{channel:t}=e;return(0,r.jsx)(m,{tooltipText:g.intl.string(g.t["6vrfgo"]),onClick:()=>{if((0,u.Z)(t))return void(0,c.lC)(t);a.default.disconnect()}})}function E(e){let{channel:t}=e;return t.isGuildStageVoice()?(0,r.jsx)(b,{channel:t}):(0,r.jsx)(_,{channel:t})}},226323:function(e,t,n){n.d(t,{Z:()=>A}),n(388685),n(539854);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(239091),u=n(586902),d=n(393903),p=n(448986),h=n(100527),f=n(906732),g=n(522651),m=n(795318),b=n(512384),_=n(670188),E=n(314897),O=n(131951),y=n(51144),I=n(524484),v=n(388032),C=n(795243);function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function N(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let T={offset:2},P={serverDeaf:{icon:s.Vm4,colorize:!0,getStatus:()=>v.intl.string(v.t.btxSdH)},serverMute:{icon:s.v0G,colorize:!0,getStatus:()=>v.intl.string(v.t.uLddbW)},deaf:{icon:s.wE8,colorize:!1,getStatus:()=>v.intl.string(v.t.NjmiOD)},mute:{icon:s.nRN,colorize:!1,getStatus:()=>v.intl.string(v.t.tjtv3N)},localMute:{icon:s.v0G,colorize:!1,getStatus:()=>v.intl.string(v.t["9F+xJS"])}};function j(e){var t,l;let d=i.useRef(null),{parentAnalyticsLocation:p}=(0,f.ZP)(),{channel:E,user:j,nick:A,mute:Z,deaf:x,serverMute:L,serverDeaf:w}=e,R=(0,o.e7)([O.Z],()=>O.Z.isLocalMute(j.id)),D=(0,u.Z)({userId:j.id,checkSoundSharing:!0}),k=null!=(t=E.getGuildId())?t:void 0,M=j.getAvatarURL(E.guild_id,24),U=null!=A?A:y.ZP.getName(j),{icon:G,colorize:V,getStatus:B}=null!=(l=function(e){let{serverDeaf:t,deaf:n,serverMute:r,mute:i,localMute:l}=e;if(t)return P.serverDeaf;if(n)return P.deaf;if(r)return P.serverMute;if(l)return P.localMute;if(i)return P.mute}({serverDeaf:w,deaf:x,serverMute:L,mute:Z,localMute:R}))?l:{},H=null!=B?v.intl.formatToPlainString(v.t["1+MVBA"],{userName:U,status:B()}):U;function F(e){null!=k?(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("98783"),n.e("97589"),n.e("7717"),n.e("74800")]).then(n.bind(n,757387));return t=>(0,r.jsx)(e,N(S({},t),{user:j,guildId:k,channel:E,showMediaItems:!0,onInteraction:(0,m.u)("GuildChannelUserContextMenu",h.Z.RTC_PANEL,{targetUserId:j.id})}))}):(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("86423")]).then(n.bind(n,881351));return t=>(0,r.jsx)(e,N(S({},t),{user:j,showMediaItems:!0,onInteraction:(0,m.u)("UserGenericContextMenu",h.Z.RTC_PANEL,{targetUserId:j.id})}))})}return(0,r.jsx)(_.Z,{targetElementRef:d,user:j,guildId:k,channelId:E.id,position:"top",clickTrap:!0,children:e=>(0,r.jsx)(s.ua7,{text:H,children:t=>(0,r.jsx)(s.P3F,N(S({},t,e),{innerRef:d,onClick:t=>{e.onClick(t),(0,g.v)(p,g.d.VOICE_USER)},className:C.avatarContainer,onContextMenu:F,focusProps:T,children:(0,r.jsx)(b.Z,{shakeLocation:I.oZ.VOICE_USER,isShaking:D,children:(0,r.jsx)("div",{className:a()(C.avatar,{[C.speaking]:D}),style:{backgroundImage:"url(".concat(M,")")},children:null!=G?(0,r.jsx)(G,{className:a()(C.avatarIconOverlay,{[C.avatarIconRed]:V}),color:"currentColor",size:"xs"}):null})})}))})})}function A(e){let{voiceStates:t,channel:n,className:l}=e,[c,u]=i.useState(!1),h=(0,o.e7)([E.default],()=>E.default.getId()),{containerRef:f,maxVisibleAvatars:g}=function(e){let[t,n]=i.useState(7),r=(0,p.Z)(()=>{let t=null==l?void 0:l.current;if(null==t)return;let r=Math.floor((t.offsetWidth+4)/28);n(Math.max(1,e>r?r-1:r))}),l=(0,d.y)(r,[e],{fireOnMount:!0,fireOnDepsChange:!0});return{containerRef:l,maxVisibleAvatars:t}}(t.length-1),[m,b]=function(e,t,n){let r=[];for(let i of e)if(i.user.id!==t&&!r.some(e=>e.user.id===i.user.id)){if(r.length>=n)return[r,!0];r.push(i)}return[r,!1]}(t,h,g),_=c?s.V_R:s.qJs,O=(0,r.jsx)(s.M0o,{onClick:()=>u(!c),color:s.YX$.PRIMARY,size:s.tT7.SIZE_24,tooltip:c?v.intl.string(v.t["Z/Tya2"]):v.intl.string(v.t.XR5BAQ),icon:(0,r.jsx)(_,{size:"xs",color:"currentColor"}),focusProps:T}),y=b&&c?t:m;return y.length<=0?null:(0,r.jsx)(s.zJl,{className:a()(C.scroller,l),fade:!0,children:(0,r.jsxs)("div",{ref:f,className:a()(C.voiceUsers,!c&&C.collapsed),role:"group","aria-label":v.intl.string(v.t["/ZgaVV"]),children:[y.map(e=>{let{user:t,nick:i,voiceState:l}=e;return t.id!==h?(0,r.jsx)(j,{channel:n,user:t,nick:i,mute:l.isVoiceMuted(),deaf:l.isVoiceDeafened(),video:l.selfVideo,serverMute:l.mute,serverDeaf:l.deaf},t.id):null}),b?O:null]})})}},664608:function(e,t,n){n.d(t,{Z:()=>s});var r=n(255367);n(73800);var i=n(114858),l=n(880257),a=n(106939),o=n(981631);function s(){return!1===(0,l.Z)()?(0,r.jsx)(i.l_,{to:o.Z5c.SETTINGS("family-center")}):(0,r.jsx)(a.Z,{})}},321488:function(e,t,n){n.d(t,{Z:()=>p});var r,i=n(255367);n(73800);var l=n(120356),a=n.n(l),o=n(873546),s=n(481060),c=n(114959),u=((r=u||{})[r.ACCEPT=0]="ACCEPT",r[r.DENY=1]="DENY",r[r.DEFAULT=2]="DEFAULT",r);function d(e){let{icon:t,tooltip:n,onClick:r,actionType:l=2,shouldHighlight:u}=e;return(0,i.jsx)(s.ua7,{text:n,children:e=>{var d,p;return(0,i.jsx)(s.P3F,(d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),p=p={"aria-label":n,onClick:r,className:a()(c.actionButton,{[c.actionAccept]:0===l,[c.actionDeny]:1===l,[c.highlight]:u,[c.actionButtonMobile]:o.tq}),children:(0,i.jsx)(t,{className:c.icon,color:"currentColor"})},Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(p)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(p)).forEach(function(e){Object.defineProperty(d,e,Object.getOwnPropertyDescriptor(p,e))}),d))}})}d.ActionTypes=u;let p=d},666286:function(e,t,n){n.d(t,{Z:()=>g});var r=n(255367),i=n(73800),l=n(481060),a=n(115849),o=n(540059),s=n(645792),c=n(787642),u=n(437314),d=n(981631),p=n(388032),h=n(383903);function f(){let e=(0,o.Q3)("AddFriendHeader");return(0,r.jsxs)("header",{className:h.header,children:[(0,r.jsx)(l.vwX,{tag:e?"h1":"h2",className:h.title,children:p.intl.string(p.t.w5uwoK)}),(0,r.jsx)(a.Z,{})]})}let g=function(){let e=(0,o.Q3)("AddFriend");return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(f,{}),(0,s.b)()&&(0,r.jsx)(c.Z,{}),e?null:(0,r.jsx)("div",{className:h.emptyState,children:(0,r.jsx)(u.Z,{type:d.pJs.ADD_FRIEND})})]})}},787642:function(e,t,n){n.d(t,{Z:()=>O});var r=n(255367),i=n(73800),l=n(481060),a=n(313201),o=n(540059),s=n(703656),c=n(769654),u=n(430824),d=n(626135),p=n(768581),h=n(125631),f=n(981631),g=n(388032),m=n(507750);let b=(0,a.hQ)(),_="".concat(b,"-decription");function E(e,t,n){return(0,r.jsxs)("button",{className:m.container,onClick:n,children:["function"==typeof e?(0,r.jsx)("div",{className:m.icon,children:(0,r.jsx)(e,{className:m.__invalid_iconInner,color:l.TVs.colors.WHITE.css})}):(0,r.jsx)("img",{className:m.icon,alt:"",src:e}),(0,r.jsx)(l.Text,{className:m.text,variant:"text-md/medium",children:t}),(0,r.jsx)(h.Z,{className:m.arrow})]},t)}function O(){let e=Object.values(u.Z.getGuilds()).filter(e=>e.hasFeature(f.oNc.HUB)),t=(0,o.Q3)("AddFriendOtherPlaces"),n=e=>{d.default.track(f.rMx.ADD_FRIEND_OTHER_PLACES_HUB_CLICKED,{guild_id:e}),(0,c.X)(e)};return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)("header",{className:m.header,children:[(0,r.jsx)(l.vwX,{tag:t?"h1":"h2",className:m.title,children:g.intl.string(g.t.IuMx1d)}),t?(0,r.jsx)(l.R94,{id:_,type:l.R94.Types.DESCRIPTION,children:(0,r.jsx)(l.Text,{tag:"div",variant:"heading-md/normal",children:g.intl.string(g.t.DwevPj)})}):null]}),(0,r.jsxs)("div",{className:m.grid,children:[e.map(e=>E(p.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:240}),e.name,()=>{n(e.id)})),E(l.Jmo,g.intl.string(g.t.AhKnz8),()=>{d.default.track(f.rMx.ADD_FRIEND_OTHER_PLACES_DISCOVERY_CLICKED),(0,s.uL)(f.Z5c.GUILD_DISCOVERY)})]})]})}},125631:function(e,t,n){n.d(t,{Z:()=>i});var r=n(255367);function i(e){var t,n,{color:i="currentColor"}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["color"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},l),n=n={fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{clipRule:"evenodd",d:"m5.41667 4.2625 5.66573 5.7375-5.66573 5.7375 1.74426 1.7625 7.42237-7.5-7.42237-7.5z",fill:i,fillRule:"evenodd"})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}n(73800)},352455:function(e,t,n){n.d(t,{Z:()=>f});var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(481060),o=n(924628),s=n(230711),c=n(548816),u=n(981631),d=n(921944),p=n(388032),h=n(262839);function f(e){let{className:t,markAsDismissed:n}=e;return(0,r.jsxs)(c.Z,{className:l()(h.card,t),children:[(0,r.jsx)(a.X6q,{variant:"heading-md/semibold",className:h.header,children:p.intl.string(p.t.HcbnMD)}),(0,r.jsx)(a.Text,{variant:"text-sm/normal",children:p.intl.format(p.t.NkFrzM,{onPrivacyClick:()=>{s.Z.open(u.oAB.DATA_AND_PRIVACY)}})}),(0,r.jsxs)("div",{className:h.buttonContainer,children:[(0,r.jsx)(a.zxk,{size:a.zxk.Sizes.SMALL,onClick:()=>(0,o.g)([u.pjP.PERSONALIZATION],[]),children:p.intl.string(p.t.ebojgI)}),(0,r.jsx)(a.zxk,{color:a.zxk.Colors.PRIMARY,size:a.zxk.Sizes.SMALL,onClick:()=>n(d.L.DISMISS),look:a.zxk.Looks.LINK,children:p.intl.string(p.t.f3Pet7)})]})]})}},701861:function(e,t,n){n.d(t,{Z:()=>Z}),n(388685);var r=n(255367),i=n(73800),l=n(392711),a=n.n(l),o=n(442837),s=n(481060),c=n(493683),u=n(239091),d=n(443589),p=n(703656),h=n(592125),f=n(131951),g=n(699516),m=n(51144),b=n(298213),_=n(321488),E=n(417183),O=n(825682),y=n(170245),I=n(981631),v=n(65154),C=n(388032),S=n(887563);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){N(e,t,n[t])})}return e}function P(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function j(e){let{user:t,applicationId:n,isGameRelationship:l,onSelect:a}=e,d=i.useCallback(()=>{c.Z.openPrivateChannel({recipientIds:t.id,joinCall:!0})},[t.id]),p=i.useCallback(()=>{c.Z.openPrivateChannel({recipientIds:t.id,joinCall:!0,joinCallVideo:!0})},[t.id]),h=i.useCallback(()=>{b.Z.removeFriend({userId:t.id,applicationId:l?n:null,location:"Friends"})},[n,l,t.id]),g=i.useCallback(()=>{let e=l?C.intl.string(C.t["RLcE6+"]):C.intl.string(C.t.cvSt1N);(0,s.h7j)(n=>(0,r.jsx)(s.ConfirmModal,P(T({header:C.intl.formatToPlainString(C.t.fPLvZW,{name:m.ZP.getName(t)}),confirmText:e,cancelText:C.intl.string(C.t["ETE/oK"]),onConfirm:h},n),{children:(0,r.jsx)(s.Text,{variant:"text-md/normal",children:C.intl.format(C.t.l5FFq6,{name:m.ZP.getName(t)})})})))},[h,l,t]),_=(0,o.e7)([f.Z],()=>f.Z.supports(v.AN.VIDEO)),E=t.isProvisional,O=l?C.intl.string(C.t["RLcE6+"]):C.intl.string(C.t.cvSt1N);return(0,r.jsxs)(s.v2r,{navId:"friend-row","aria-label":C.intl.string(C.t.liqwPD),onClose:u.Zy,onSelect:a,children:[!E&&_?(0,r.jsx)(s.sNh,{id:"start-video-call",label:C.intl.string(C.t.oCqlGB),action:p}):null,!E&&(0,r.jsx)(s.sNh,{id:"start-voice-call",label:C.intl.string(C.t.focH1t),action:d}),(0,r.jsx)(s.sNh,{id:"remove-friend",label:O,action:g,color:"danger"})]})}class A extends i.PureComponent{componentWillLeave(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)}componentWillEnter(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)}render(){let{user:e,isFocused:t,activities:n,applicationStream:i,status:l,isMobile:a,isGameRelationship:o,giftIntentType:c}=this.props,{isActiveRow:p}=this.state;return(0,r.jsx)(E.Z,{ref:this.peopleListItemRef,isFocused:t,isActive:p,user:e,onOtherHover:()=>p?null:(0,u.Zy)(),onClick:this.handleOpenPrivateChannel,children:t=>(0,r.jsxs)("div",{className:S.listItemContents,children:[(0,r.jsx)(y.Z,{user:e,status:l,isMobile:a,subText:(0,r.jsx)(O.Z,{hovered:t,activities:n,applicationStream:i,status:l,user:e,userIgnored:g.Z.isIgnored(e.id)}),hovered:t,showAccountIdentifier:!o&&!e.isProvisional}),(0,r.jsxs)("div",{className:S.actions,children:[null!=c&&(0,r.jsx)(d.Z,{recipientUser:e,giftIntentType:c,analyticsPage:I.ZY5.FRIENDS_LIST,shouldHighlight:t}),(0,r.jsx)(_.Z,{icon:s.kBi,tooltip:C.intl.string(C.t["g33r/P"]),onClick:this.handleOpenPrivateChannel,shouldHighlight:t}),(0,r.jsx)(_.Z,{icon:s.Huf,tooltip:C.intl.string(C.t.UKOtz8),onClick:this.handleOpenActionsMenu,shouldHighlight:t})]})]})})}constructor(...e){super(...e),N(this,"peopleListItemRef",i.createRef()),N(this,"state",{isActiveRow:!1}),N(this,"handleOpenPrivateChannel",e=>{let{user:t}=this.props;e.stopPropagation();let n=a().find(h.Z.getMutablePrivateChannels(),e=>e.type===I.d4z.DM&&e.getRecipientId()===t.id);null!=n?(0,p.uL)(I.Z5c.CHANNEL(I.ME,n.id)):c.Z.openPrivateChannel({recipientIds:t.id})}),N(this,"handleOpenActionsMenu",e=>{let{user:t,isGameRelationship:n,applicationId:i}=this.props;(0,u.vq)(e,e=>(0,r.jsx)(j,P(T({},e),{user:t,applicationId:i,isGameRelationship:n})),{onClose:()=>{this.setState({isActiveRow:!1})}}),this.setState({isActiveRow:!0})})}}let Z=A},437314:function(e,t,n){n.d(t,{Z:()=>E,j:()=>g}),n(415506),n(388685);var r,i=n(255367),l=n(73800),a=n(748780),o=n(442837),s=n(481060),c=n(540059),u=n(210887),d=n(981631),p=n(388032),h=n(332295);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=((r={}).SECTION_NO_RESULTS="SECTION_NO_RESULTS",r);let m=Object.freeze({SECTION_ALL:{lightSrc:n(900933),darkSrc:n(67764),width:376,height:162,renderContent:e=>(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(s.OZU,{note:p.intl.string(p.t.Y4vMY2)}),(0,i.jsx)(s.zxk,{className:h.button,onClick:e,children:p.intl.string(p.t.w5uwoK)})]})},SECTION_ONLINE:{lightSrc:n(55346),darkSrc:n(917847),width:421,height:218,renderContent:()=>(0,i.jsx)(s.OZU,{note:p.intl.string(p.t.v7HbiY)})},SECTION_BLOCKED:{lightSrc:n(459505),darkSrc:n(356634),width:433,height:232,renderContent:()=>(0,i.jsx)(s.OZU,{note:p.intl.string(p.t["9xdyWF"])})},SECTION_PENDING:{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200,renderContent:(e,t)=>(0,i.jsxs)("div",{className:h.emptyStateContainer,children:[(0,i.jsx)(s.OZU,{note:p.intl.string(p.t["aCYQ+P"])}),null!=e&&(0,i.jsx)(s.zxk,{color:s.zxk.Colors.PRIMARY,look:s.zxk.Looks.OUTLINED,size:s.zxk.Sizes.TINY,onClick:e,className:h.spamButton,children:(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:"text-muted",children:t?p.intl.string(p.t.R40bU1):p.intl.string(p.t.rXl8fn)})})]})},SECTION_SUGGESTIONS:{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200,renderContent:()=>(0,i.jsx)(s.OZU,{note:p.intl.string(p.t["vgI/EB"])})},SECTION_NO_RESULTS:{lightSrc:n(55346),darkSrc:n(917847),width:421,height:218,renderContent:()=>(0,i.jsx)(s.OZU,{note:p.intl.string(p.t["7sW4h4"])})}}),b=e=>{let{theme:t}=e,n=p.intl.string(p.t["oi+B4u"]),r=m.SECTION_ALL,l=(0,c.Q3)("AddFriendEmpty");return(0,i.jsxs)(s.ubH,{theme:t,children:[!l&&(0,i.jsx)(s.oxh,{width:r.width,height:r.height,lightSrc:r.lightSrc,darkSrc:r.darkSrc}),(0,i.jsx)(s.OZU,{note:n})]})};class _ extends l.PureComponent{render(){let{type:e,onClick:t,theme:n}=this.props,r={opacity:this.state.opacity},l=function(e){switch(e){case d.pJs.ADD_FRIEND:case d.pJs.ALL:return m.SECTION_ALL;case d.pJs.ONLINE:return m.SECTION_ONLINE;case d.pJs.PENDING:return m.SECTION_PENDING;case d.pJs.SUGGESTIONS:return m.SECTION_SUGGESTIONS;case"SECTION_NO_RESULTS":return m.SECTION_NO_RESULTS;default:throw Error("FriendsEmptyState: Invalid empty state")}}(e);return e===d.pJs.ADD_FRIEND?(0,i.jsx)(a.Z.div,{className:h.friendsEmpty,style:r,children:(0,i.jsx)(b,{theme:n})}):(0,i.jsx)(a.Z.div,{className:h.friendsEmpty,style:r,children:(0,i.jsxs)(s.ubH,{theme:n,children:[!this.isDesktopVisualRefreshEnabled&&(0,i.jsx)(s.oxh,{width:l.width,height:l.height,lightSrc:l.lightSrc,darkSrc:l.darkSrc}),l.renderContent(t)]})})}constructor(...e){super(...e),f(this,"isDesktopVisualRefreshEnabled",(0,c.i9)("FriendsEmptyState")),f(this,"state",{opacity:new a.Z.Value(1)}),f(this,"componentWillEnter",e=>{this.state.opacity.setValue(0),a.Z.timing(this.state.opacity,{toValue:1,duration:250}).start(e)}),f(this,"componentWillLeave",e=>{a.Z.timing(this.state.opacity,{toValue:0,duration:250}).start(e)})}}let E=o.ZP.connectStores([u.Z],()=>({theme:u.Z.theme}),{forwardRef:!0})(_)},696577:function(e,t,n){n.d(t,{Z:()=>N});var r=n(255367),i=n(73800),l=n(442837),a=n(692547),o=n(481060),s=n(906732),c=n(812206),u=n(925329),d=n(79712),p=n(892001),h=n(594174),f=n(51144),g=n(743056),m=n(321488),b=n(417183),_=n(170245),E=n(981631),O=n(388032),y=n(53487);function I(e){var t;let{user:n,applicationId:l,isGameRelationship:s,active:c}=e,u=(null==(t=h.default.getCurrentUser())?void 0:t.isStaff())&&(null==n?void 0:n.isStaff()),{acceptFriendRequest:d,cancelFriendRequest:p}=(0,g.u)({userId:n.id,applicationId:l,isGameRelationship:s,location:"Friends"}),f=i.useCallback(e=>{e.stopPropagation(),d()},[d]),b=i.useCallback(e=>{e.stopPropagation(),p()},[p]);return(0,r.jsxs)(r.Fragment,{children:[u&&(0,r.jsx)("div",{className:y.staffIndicator,children:(0,r.jsx)(o.IGR,{color:a.Z.unsafe_rawColors.BRAND_500.css,text:O.intl.string(O.t.oMx98P)})}),(0,r.jsx)(m.Z,{icon:o.dz2,actionType:m.Z.ActionTypes.ACCEPT,tooltip:O.intl.string(O.t.ZcibdX),onClick:f,shouldHighlight:c}),(0,r.jsx)(m.Z,{icon:o.Dio,actionType:m.Z.ActionTypes.DENY,tooltip:O.intl.string(O.t.xuio0N),onClick:b,shouldHighlight:c})]})}function v(e){let{userId:t,applicationId:n,isGameRelationship:l,active:a}=e,{cancelFriendRequest:s}=(0,g.u)({userId:t,applicationId:n,isGameRelationship:l,location:"Friends"}),c=i.useCallback(e=>{e.stopPropagation(),s()},[s]);return(0,r.jsx)(m.Z,{icon:o.Dio,actionType:m.Z.ActionTypes.DENY,tooltip:O.intl.string(O.t.eaq81d),onClick:c,shouldHighlight:a})}function C(e){let{isGameRelationship:t,applicationId:n,userTag:a,isProvisional:s}=e,p=i.useMemo(()=>t?O.intl.string(O.t["Uv/eT0"]):a,[t,a]),h=(0,l.e7)([c.Z],()=>null!=n?c.Z.getApplication(n):null);return(0,r.jsxs)("div",{className:y.applicationSublabel,children:[!s&&(0,r.jsx)(o.Text,{variant:"text-sm/medium",color:"text-secondary",children:p}),null!=h&&(0,r.jsxs)(r.Fragment,{children:[!s&&(0,r.jsx)(d.Z,{height:2,width:2}),(0,r.jsx)(u.Z,{game:h,size:u.Z.Sizes.XXSMALL}),(0,r.jsx)(o.Text,{variant:"text-sm/medium",color:"text-secondary",children:h.name})]})]})}function S(e){let{user:t,hovered:n,status:i,isGameRelationship:l,applicationId:a}=e,o=f.ZP.useUserTag(t);return(0,r.jsx)(_.Z,{user:t,hovered:n,status:i,showAccountIdentifier:!l&&!t.isProvisional,subText:(0,r.jsx)(C,{isGameRelationship:l,isProvisional:t.isProvisional,applicationId:a,userTag:o})})}function N(e){let{user:t,type:n,status:l,isFocused:a,applicationId:o,isGameRelationship:c}=e,{analyticsLocations:u}=(0,s.ZP)(),d=l===E.Skl.OFFLINE?E.Skl.UNKNOWN:l,h=i.useCallback(()=>(0,p.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:u}),[u,t.id]);return(0,r.jsx)(b.Z,{isFocused:a,user:t,onClick:h,children:e=>(0,r.jsxs)("div",{className:y.listItemContents,children:[(0,r.jsx)(S,{user:t,hovered:e,status:d,isGameRelationship:c,applicationId:o}),(0,r.jsx)("div",{className:y.actions,children:n===E.OGo.PENDING_INCOMING?(0,r.jsx)(I,{user:t,applicationId:o,isGameRelationship:c,active:e}):(0,r.jsx)(v,{userId:t.id,applicationId:o,isGameRelationship:c,active:e})})]})})}},596957:function(e,t,n){n.d(t,{Z:()=>D}),n(415506),n(388685),n(539854);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(529103),u=n(194359),d=n(410575),p=n(100527),h=n(906732),f=n(835473),g=n(795448),m=n(699516),b=n(974042),_=n(451478),E=n(701861),O=n(437314),y=n(696577),I=n(163417),v=n(830880),C=n(492347),S=n(42575),N=n(617015),T=n(981631),P=n(388032),j=n(222001);function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function Z(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let x=[];function L(){c.Z.setSection(T.pJs.ADD_FRIEND)}function w(){(0,s.ZDy)(async()=>{let{default:e}=await n.e("36312").then(n.bind(n,153932));return t=>(0,r.jsx)(e,A({},t))})}function R(e){let{section:t,showSpamCta:n}=e,l=i.useMemo(()=>n?w:t!==T.pJs.PENDING?L:void 0,[n,t]);return(0,r.jsx)("div",{className:j.emptyStateContainer,children:(0,r.jsx)(O.Z,{type:t,onClick:l},t)})}let D=function(e){let{titleId:t}=e,{analyticsLocations:n}=(0,h.ZP)(p.Z.FRIENDS_LIST),{rows:l,section:c}=(0,o.cj)([b.ZP],()=>b.ZP.getState()),L=(0,o.e7)([_.Z],()=>_.Z.isFocused()),{relationshipCount:D,hasBlockedOrIgnored:k}=(0,o.cj)([m.Z],()=>({relationshipCount:m.Z.getRelationshipCount(),hasBlockedOrIgnored:m.Z.getBlockedOrIgnoredIDs().length>0})),[M,U]=i.useState(()=>{let e={};for(let t of Object.values(T.pJs))e[t]="";return e}),G=i.useCallback(e=>{let{key:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["key"]);switch(c){case T.pJs.PENDING:return(0,r.jsx)(y.Z,Z(A({},n),{isFocused:L}),t);case T.pJs.SUGGESTIONS:return(0,r.jsx)(S.Z,Z(A({},n),{isFocused:L}),t);case T.pJs.ONLINE:case T.pJs.ALL:default:return(0,r.jsx)(E.Z,Z(A({},n),{isFocused:L}),t)}},[L,c]),V=i.useCallback(e=>{U(Z(A({},M),{[c]:e}))},[M,c]),B=i.useCallback(()=>{U(Z(A({},M),{[c]:""}))},[M,c]),H=i.useMemo(()=>c===T.pJs.PENDING&&(l.filter(T.pJs.SPAM).length>0||l.filter(T.pJs.PENDING_IGNORED).length>0),[l,c]),F=i.useMemo(()=>l.filter(c,M[c]),[l,M,c]),z=c===T.pJs.PENDING,W=i.useMemo(()=>{if(!z)return x;let e=[];return F.forEach(t=>{let{applicationId:n}=t;null!=n&&e.push(n)}),e},[z,F]);(0,f.Z)(W,z);let Y=i.useMemo(()=>{if(c!==T.pJs.PENDING)return[F];{let e=[],t=[];return F.forEach(n=>{n.type===T.OGo.PENDING_INCOMING?e.push(n):n.type===T.OGo.PENDING_OUTGOING&&t.push(n)}),[e,t]}},[F,c]),K=i.useMemo(()=>F.filter(e=>e.type===T.OGo.PENDING_INCOMING).length,[F]),q=c===T.pJs.PENDING&&K>0&&K>=N.yf,Q=i.useCallback(e=>{e.stopPropagation(),u.Z.confirmClearPendingRelationships(K)},[K]),X=i.useCallback(e=>{let n=function(e,t,n){switch(e){case T.pJs.ONLINE:return P.intl.formatToPlainString(P.t.BagU2d,{online:t.toString()});case T.pJs.PENDING:if(0===n)return P.intl.formatToPlainString(P.t["g+3FIS"],{count:t.toString()});if(1===n)return P.intl.formatToPlainString(P.t.npJsRk,{count:t.toString()});throw Error("Unexpected pending friend requests section index: ".concat(n));case T.pJs.SUGGESTIONS:return P.intl.formatToPlainString(P.t["DYMZ/v"],{count:t.toString()});default:return P.intl.formatToPlainString(P.t.rHRrhI,{count:t.toString()})}}(c,Y[e].length,e);return c===T.pJs.PENDING&&0===e?(0,r.jsxs)("div",{className:j.sectionTitle,children:[(0,r.jsx)(C.Z,{id:t,title:n}),q&&(0,r.jsx)(s.zxk,{look:s.iLD.LINK,color:s.Ttl.LINK,className:j.clearButton,size:s.zxk.Sizes.TINY,onClick:Q,"aria-label":P.intl.string(P.t.O8k7Oz),children:P.intl.string(P.t.O8k7Oz)})]},n):(0,r.jsx)("div",{className:j.sectionTitle,children:(0,r.jsx)(C.Z,{id:t,title:n})},n)},[Y,c,t,q,Q]);if(i.useEffect(()=>{c===T.pJs.ALL&&(0,g.d$)()},[c]),0===F.length&&""===M[c])return(0,r.jsx)(R,{section:c,showSpamCta:H});let J=""!==M[c],$=0===F.length&&J;return(0,r.jsx)(h.Gt,{value:n,children:(0,r.jsxs)(d.Z,{section:T.jXE.FRIENDS_LIST,children:[k&&(0,r.jsx)(v.R,{}),(0,r.jsx)(s.E1j,{className:a()(j.searchBar,$?j.searchEmptyState:null),query:M[c],onChange:V,onClear:B,size:s.E1j.Sizes.MEDIUM}),(0,r.jsx)(I.Z,{rows:Y,renderRow:G,renderSection:X,sectionFilter:c,isVirtualizedList:D>=N.nG,hasSearchQuery:J,footer:H&&!$?(0,r.jsx)(s.zxk,{look:s.zxk.Looks.LINK,color:j.viewSpamButtonColor,className:j.viewSpamButton,onClick:w,size:s.PhG.TINY,children:(0,r.jsx)(s.Text,{variant:"text-xs/medium",children:P.intl.string(P.t.R40bU1)})}):null}),$&&(0,r.jsx)("div",{className:j.emptyStateContainer,children:(0,r.jsx)(O.Z,{type:O.j.SECTION_NO_RESULTS},c)})]})})}},417183:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(748780),s=n(91192),c=n(481060),u=n(239091),d=n(617015),p=n(962632);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function g(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}class m extends i.PureComponent{componentWillLeave(e){o.Z.parallel([o.Z.timing(this.state.opacity,{toValue:0,duration:200}),o.Z.timing(this.state.height,{toValue:0,duration:200})]).start(e)}componentWillEnter(e){this.state.opacity.setValue(0),this.state.height.setValue(0),o.Z.parallel([o.Z.timing(this.state.opacity,{toValue:1,duration:200}),o.Z.timing(this.state.height,{toValue:d.NV,duration:200})]).start(e)}render(){let{height:e,opacity:t,hovered:n,isContextMenuActive:i}=this.state,{children:l,user:u,onClick:d,isActive:h,className:m,activeClassName:b}=this.props;return(0,r.jsx)(s.mh,{id:u.id,children:s=>(0,r.jsx)(c.tEY,{offset:{left:-8,right:-8},children:(0,r.jsx)(o.Z.div,g(f({className:a()(m,p.peopleListItem,null!=b?{[b]:h||i}:null,{[p.active]:h||i}),onContextMenu:e=>this.handleContextMenu(e,u),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:null!=d?d:void 0,style:{height:e,opacity:t}},s),{children:l(n||h||i)}))})})}constructor(...e){super(...e),h(this,"state",{height:new o.Z.Value(d.NV),opacity:new o.Z.Value(1),hovered:!1,isContextMenuActive:!1}),h(this,"handleMouseEnter",()=>{let{isFocused:e,isActive:t,onOtherHover:n}=this.props,{isContextMenuActive:r}=this.state;this.setState({hovered:e}),!e||t||r||null==n||n()}),h(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),h(this,"handleContextMenu",(e,t)=>{this.setState({isContextMenuActive:!0}),(0,u.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("86423")]).then(n.bind(n,881351));return n=>(0,r.jsx)(e,g(f({},n),{user:t}))},{onClose:()=>{this.setState({isContextMenuActive:!1})}})})}}let b=m},163417:function(e,t,n){n.d(t,{Z:()=>a});var r=n(255367);n(73800);var i=n(145641),l=n(322701);function a(e){let{rows:t,renderRow:n,renderSection:a,isVirtualizedList:o,hasSearchQuery:s,sectionFilter:c,footer:u}=e;return o?(0,r.jsx)(i.Z,{rows:t,renderRow:n,renderSection:a,footer:u}):(0,r.jsx)(l.Z,{rows:t,renderRow:n,renderSection:a,sectionFilter:c,hasSearchQuery:s,footer:u})}},145641:function(e,t,n){n.d(t,{Z:()=>p});var r=n(255367),i=n(73800),l=n(924826),a=n(91192),o=n(442837),s=n(481060),c=n(607070),u=n(617015),d=n(222001);let p=function(e){let{rows:t,renderRow:n,renderSection:p,footer:h}=e,f=e=>{let{section:r,row:i}=e,l=t[r];if(null==l||null==i)return null;let a=l[i];return null==a?null:n(a)},g=i.useCallback(e=>{let{section:t}=e;return p(t)},[p]),m=(0,o.e7)([c.Z],()=>c.Z.keyboardModeEnabled),b=i.useRef(null),_=i.useCallback(()=>new Promise(e=>{let t=b.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[]),E=i.useCallback(()=>new Promise(e=>{let t=b.current;if(null==t)return e();t.scrollToBottom({callback:()=>requestAnimationFrame(()=>e())})}),[]),O=i.useCallback(e=>{let t=document.querySelector(e),n=b.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:()=>null==t?void 0:t.focus()})},[]),y=(0,l.ZP)({id:"people-list",isEnabled:m,scrollToStart:_,scrollToEnd:E,setFocus:O}),I=i.useMemo(()=>t.map(e=>e.length),[t]);return(0,r.jsx)(a.bG,{navigator:y,children:(0,r.jsx)(a.SJ,{children:e=>{var{ref:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["ref"]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s._2F,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({ref:e=>{var n;b.current=e,t.current=null!=(n=null==e?void 0:e.getScrollerNode())?n:null},renderRow:f,rowHeight:u.NV,renderSection:g,sectionHeight:u.aS,sections:I,className:d.peopleList},n)),h]})}})})}},322701:function(e,t,n){n.d(t,{Z:()=>h});var r=n(255367),i=n(73800),l=n(924826),a=n(91192),o=n(442837),s=n(215569),c=n(481060),u=n(607070),d=n(981631),p=n(222001);let h=function(e){let{rows:t,renderRow:n,renderSection:h,hasSearchQuery:f,sectionFilter:g,footer:m}=e,b=(0,o.e7)([u.Z],()=>u.Z.keyboardModeEnabled),_=(0,o.e7)([u.Z],()=>u.Z.useReducedMotion),E=(0,l.ZP)({id:"people",isEnabled:b,async scrollToStart(){},async scrollToEnd(){}}),O=g!==d.pJs.ONLINE&&g!==d.pJs.ALL,y=_||f||O,I=i.useMemo(()=>t.map((e,t)=>0===e.length?null:y?(0,r.jsxs)("div",{children:[h(t),e.map(n)]},t):(0,r.jsxs)(s.W,{transitionAppear:!1,component:"div",children:[h(t),e.map(n)]},t)),[n,h,t,y]);return(0,r.jsx)(a.bG,{navigator:E,children:(0,r.jsx)(a.SJ,{children:e=>{var t,n,{ref:i}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["ref"]);return(0,r.jsxs)(c.w0Z,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({ref:i,className:p.peopleList},l),n=n={children:[I,m]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})})}},270759:function(e,t,n){n.d(t,{Z:()=>x}),n(65234),n(111804),n(490233),n(97749),n(388685),n(35282),n(704826);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(114858),s=n(873546),c=n(442837),u=n(481060),d=n(570140),p=n(150063),h=n(529103),f=n(252618),g=n(313201),m=n(540059),b=n(5254),_=n(984370),E=n(518311),O=n(199104),y=n(108427),I=n(210887),v=n(974042),C=n(849862),S=n(666286),N=n(596957),T=n(981631),P=n(723359),j=n(388032),A=n(610725);function Z(){return(0,r.jsx)("div",{className:A.inviteToolbar,children:(0,r.jsx)(E.Z,{tooltip:j.intl.string(j.t.HfOgAw),location:"PeoplePageHeaderToolbar-CreateDMButton"})})}let x=function(e){let{initialSection:t}=e,n=(0,o.TH)(),l=(0,o.k6)(),E=(0,m.Q3)("PeoplePage");i.useEffect(()=>{"true"===new URLSearchParams(n.search).get("confirm-age")&&d.Z.dispatch({type:"AGE_GATE_MODAL_OPEN",source:P.L0.DEEP_LINK_PROMPT}).then(()=>{l.replace(T.Z5c.ME)})},[l,n]),i.useEffect(()=>{p.Y(T.Z5c.FRIENDS),(0,y.e)("friends")},[]);let x=(0,c.e7)([I.Z],()=>I.Z.theme),L=(0,C.If)(),{section:w,rows:R}=(0,c.cj)([v.ZP],()=>v.ZP.getState()),D=(0,c.e7)([b.Z],()=>b.Z.getSuggestionCount()),k=i.useMemo(()=>R.getRelationshipCounts(),[R]);i.useEffect(()=>{null!=t&&h.Z.setInitialSection(t),0===k[T.OGo.FRIEND]&&0===k[T.OGo.PENDING_INCOMING]&&0===k[T.OGo.PENDING_OUTGOING]&&0===k[T.OGo.BLOCKED]&&h.Z.setSection(T.pJs.ADD_FRIEND)},[t,k]);let M=e=>{h.Z.setSection(e)},U=(0,g.Dt)(),G=(0,g.Dt)(),V=[{id:T.pJs.ONLINE,show:!E||R.filter(T.pJs.ONLINE).length>0,content:j.intl.string(j.t.b9w3bG),className:A.item},{id:T.pJs.ALL,show:!E||k[T.OGo.FRIEND]>0,content:j.intl.string(j.t.PfjFjY),className:A.item},{id:T.pJs.PENDING,show:!E||R.filter(T.pJs.PENDING).length>0,content:(0,r.jsxs)(r.Fragment,{children:[j.intl.string(j.t.p6IHGB),L>0&&(0,r.jsx)(u.mAB,{count:L,className:A.badge})]}),ariaLabel:j.intl.formatToPlainString(j.t.OAC0Z2,{count:L.toString()}),className:A.item},{id:T.pJs.SUGGESTIONS,show:D>0,content:(0,r.jsxs)(r.Fragment,{children:[j.intl.string(j.t["8rSi19"]),(0,r.jsx)(u.mAB,{count:D,className:A.badge})]}),ariaLabel:j.intl.formatToPlainString(j.t.AbMQp6,{count:D.toString()}),className:A.item},{id:T.pJs.ADD_FRIEND,show:!0,content:(0,r.jsx)("span",{children:j.intl.string(j.t.j0wbEx)}),ariaLabel:j.intl.string(j.t.j0wbEx),className:a()(A.item,A.addFriend)}];return(0,r.jsxs)("main",{className:A.container,"aria-label":j.intl.string(j.t.TdEu5e),children:[(0,r.jsx)(f.yY,{location:j.intl.string(j.t.TdEu5e)}),(0,r.jsx)(u.f6W,{theme:x,children:e=>(0,r.jsxs)(_.Z,{className:e,toolbar:(0,r.jsx)(Z,{}),scrollable:s.tq,role:"navigation","aria-labelledby":U,children:[(0,r.jsx)(_.Z.Icon,{icon:u.iFz,"aria-hidden":!0}),(0,r.jsx)(_.Z.Title,{id:U,children:j.intl.string(j.t.TdEu5e)}),(0,r.jsx)(_.Z.Divider,{}),(0,r.jsx)(u.njP,{"aria-label":j.intl.string(j.t.TdEu5e),selectedItem:w,type:"top-pill",onItemSelect:M,className:A.tabBar,children:V.filter(e=>e.show).map(e=>(0,r.jsx)(u.njP.Item,{id:e.id,className:e.className,"aria-label":e.ariaLabel,children:e.content},e.id))})]})}),(0,r.jsxs)("div",{className:A.tabBody,children:[(0,r.jsx)(u.njP.Panel,{id:w,className:A.peopleColumn,"aria-labelledby":G,children:w===T.pJs.ADD_FRIEND?(0,r.jsx)(S.Z,{}):(0,r.jsx)(N.Z,{titleId:G})}),(0,r.jsx)("div",{className:A.nowPlayingColumn,children:(0,r.jsx)(O.Z,{})})]})]})}},830880:function(e,t,n){n.d(t,{R:()=>m}),n(388685);var r=n(255367),i=n(73800),l=n(704215),a=n(230711),o=n(243778),s=n(907995),c=n(981631),u=n(921944),d=n(484710),p=n(526761),h=n(726985),f=n(388032),g=n(306194);function m(){let[e,t]=(0,o.US)([l.z.RESTRICTED_ACCOUNTS_SETTING_NOTICE]);return i.useMemo(()=>e===l.z.RESTRICTED_ACCOUNTS_SETTING_NOTICE,[e])?(0,r.jsx)(s.f,{label:f.t.zqv4nZ,labelHook:()=>{a.Z.open(c.oAB.CONTENT_AND_SOCIAL,h.s6.RESTRICTED_USERS,{scrollPosition:p.FY.RESTRICTED_ACCOUNTS})},dismissNotice:()=>t(u.L.USER_DISMISS),className:g.blockedIgnoredSettingsNotice,noticeType:d.nq.RESTRICTED_ACCOUNTS_SETTING_NOTICE}):null}},492347:function(e,t,n){n.d(t,{Z:()=>a});var r=n(255367);n(73800);var i=n(82295),l=n(490053);function a(e){let{title:t,id:n}=e;return(0,r.jsx)(i.Z,{className:l.title,id:n,children:t})}},825682:function(e,t,n){n.d(t,{Z:()=>d});var r=n(255367);n(73800);var i=n(468363),l=n(326255),a=n(956221),o=n(771173),s=n(51144),c=n(388032),u=n(223009);let d=function(e){let{hovered:t,activities:n,applicationStream:d,status:p,user:h,userIgnored:f}=e,{voiceActivityStatusEnabled:g}=(0,i.U)({location:"StatusText"}),{voiceChannel:m}=(0,a.Z)({userId:null==h?void 0:h.id}),b=g?m:void 0;return f?(0,r.jsx)("div",{className:u.text,children:c.intl.string(c.t.tFY5ZW)}):(0,l.Z)({activities:n,status:p,applicationStream:d,voiceChannel:b})?(0,r.jsx)(o.Z,{location:"StatusText",textClassName:u.statusText,activities:n,applicationStream:d,voiceChannel:b,animateEmoji:t,user:h,textSize:"sm"}):(0,r.jsx)("div",{className:u.text,children:(0,s.u5)(p)})}},42575:function(e,t,n){n.d(t,{Z:()=>g});var r=n(255367);n(73800);var i=n(481060),l=n(194359),a=n(906732),o=n(388380),s=n(892001),c=n(321488),u=n(417183),d=n(170245),p=n(981631),h=n(388032),f=n(292568);function g(e){let{user:t,nickname:n,status:g,isFocused:m}=e,{analyticsLocations:b}=(0,a.ZP)(),_=e=>{null==e||e.stopPropagation(),l.Z.addRelationship({userId:t.id,context:{location:"Friends"},type:void 0,fromFriendSuggestion:!0})},E=e=>{null==e||e.stopPropagation(),o.Z.ignore(t.id)},O=g===p.Skl.OFFLINE?p.Skl.UNKNOWN:g;return(0,r.jsx)(u.Z,{isFocused:m,user:t,onClick:()=>(0,s.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:b}),children:e=>{let l=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{icon:i.dz2,actionType:c.Z.ActionTypes.ACCEPT,tooltip:h.intl.string(h.t.ZcibdX),onClick:_,shouldHighlight:e}),(0,r.jsx)(c.Z,{icon:i.Dio,actionType:c.Z.ActionTypes.DENY,tooltip:h.intl.string(h.t.xuio0N),onClick:E,shouldHighlight:e})]});return(0,r.jsxs)("div",{className:f.listItemContents,children:[(0,r.jsx)(d.Z,{user:t,hovered:e,status:O,subText:n,className:f.__invalid_userInfo}),(0,r.jsx)("div",{className:f.actions,children:l})]})}})}},170245:function(e,t,n){n.d(t,{Z:()=>d});var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(442837),o=n(129861),s=n(700582),c=n(699516);n(51144);var u=n(535317);let d=function(e){let{user:t,hovered:n,subText:i,showAccountIdentifier:d,status:p,isMobile:h,className:f}=e,g=(0,a.e7)([c.Z],()=>c.Z.getNickname(t.id));return(0,r.jsxs)("div",{className:l()(u.userInfo,f,{[u.hovered]:n}),children:[(0,r.jsx)(s.Z,{user:t,className:u.avatar,animate:n,status:p,isMobile:h}),(0,r.jsxs)("div",{className:u.text,children:[(0,r.jsx)(o.Z,{user:t,nick:g,botClass:u.botTag,className:l()(u.discordTag,{[u.alignPomelo]:t.isPomelo()}),usernameClass:u.username,discriminatorClass:u.discriminator,showAccountIdentifier:d}),(0,r.jsx)("div",{className:u.subtext,children:i})]})]})}},541692:function(e,t,n){let r;n.d(t,{Z:()=>p});var i,l=n(442837),a=n(570140),o=n(133080);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c=(0,o.K4)();function u(e){var t;let{countryCode:n}=e;null!=n&&(c=null!=(t=(0,o.Zz)(n))?t:(0,o.K4)())}class d extends(i=l.ZP.DeviceSettingsStore){initialize(e){null!=e&&(r=e.selectedCountryCode)}getUserAgnosticState(){return{selectedCountryCode:r}}getCountryCode(){return null!=r?r:c}}s(d,"displayName","PhoneStore"),s(d,"persistKey","PhoneStore");let p=new d(a.Z,{PHONE_SET_COUNTRY_CODE:function(e){let{countryCode:t}=e;r=t},CONNECTION_OPEN:u,SET_LOCATION_METADATA:u})},960275:function(e,t,n){n.d(t,{Z:()=>f}),n(388685);var r=n(570140),i=n(317770),l=n(314897),a=n(57562),o=n(882029),s=n(955204),c=n(351780),u=n(843693);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p=new Set;class h extends i.Z{_initialize(){r.Z.subscribe("MESSAGE_CREATE",this.handleMessageCreate),r.Z.subscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)}_terminate(){r.Z.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate),r.Z.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)}constructor(...e){super(...e),d(this,"handleSettingsUpdate",e=>{let{settings:t}=e;t.enabled?(0,a.T)(s.hn.ENABLE_POGGERMODE):!1===t.enabled&&(0,a.T)(s.hn.DISABLE_POGGERMODE),Object.keys(t).some(e=>e.startsWith("confetti"))&&(0,a.T)(s.hn.CUSTOMIZE_CONFETTI)}),d(this,"handleMessageCreate",e=>{var t;let{channelId:n,message:{author:r,nonce:i,mentions:d}}=e;if(!c.Z.isEnabled())return!1;let h=l.default.getId();if((null==d?void 0:d.find(e=>e.id===h))!=null?(0,a.T)(s.hn.PING_ME):(null!=(t=null==d?void 0:d.length)?t:0)>0&&(null==r?void 0:r.id)===h&&(0,a.T)(s.hn.PING_SOMEONE),!(0,u.wU)(null==r?void 0:r.id,h,i,p))return!1;let f=u.ZP.getMostRecentMessageCombo(n),{combo:g}=null!=f?f:{};if(null==g)return!1;Object.values(s.hn).forEach(e=>{if(null!=o.Z.getUnlocked(e))return;let t=(0,s.oX)(e),n=null==t?void 0:t.checkUnlock;null!=n&&!1!==n(g)&&(0,a.T)(e)})})}}let f=new h},678492:function(e,t,n){n.d(t,{Z:()=>c});var r=n(255367);n(73800);var i=n(481060),l=n(570140),a=n(317770),o=n(388032);class s extends a.Z{_initialize(){l.Z.subscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)}_terminate(){l.Z.unsubscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)}handlePoggermodeTemporarilyDisabled(){(0,i.h7j)(e=>{var t,n;return(0,r.jsx)(i.ConfirmModal,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={header:o.intl.string(o.t.wDQgnZ),confirmText:o.intl.string(o.t["cY+Ooa"]),confirmButtonColor:i.zxk.Colors.GREEN,children:(0,r.jsx)(i.Text,{variant:"text-md/normal",children:o.intl.string(o.t.OJklbW)})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})}}let c=new s},269089:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r=n(255367),i=n(570140),l=n(765250),a=n(317770),o=n(663993),s=n(355863),c=n(788983),u=n(981631),d=n(757744);n(442122);let p=(0,o.Un)({createPromise:()=>n.e("80960").then(n.bind(n,223455)),webpackId:223455,name:"PopoutWindowChannelCall"}),h=(0,o.Un)({createPromise:()=>n.e("20176").then(n.bind(n,432472)),webpackId:432472,name:"PopoutWindowStageChannelCall"}),f=(0,o.Un)({createPromise:()=>n.e("80960").then(n.bind(n,945778)),webpackId:945778,name:"PopoutWindowRTCDebug"}),g=(0,o.Un)({createPromise:()=>Promise.all([n.e("92922"),n.e("89298"),n.e("27278")]).then(n.bind(n,748623)),webpackId:748623,name:"PopoutWindowActivity"});class m extends a.Z{_initialize(){i.Z.subscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout),i.Z.subscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout),i.Z.subscribe("ACTIVITY_POPOUT_WINDOW_OPEN",this.handleOpenActivityPopout),this.initializeStyleSheetObserver()}_terminate(){i.Z.unsubscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout),i.Z.unsubscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout),i.Z.unsubscribe("ACTIVITY_POPOUT_WINDOW_OPEN",this.handleOpenActivityPopout),this.terminateStyleSheetObserver()}handleOpenChannelCallPopout(e){let{channel:t}=e;c.bA(u.KJ3.CHANNEL_CALL_POPOUT,e=>t.isGuildStageVoice()?(0,r.jsx)(h,{windowKey:e,channelId:t.id}):(0,r.jsx)(p,{windowKey:e,channelId:t.id}),{defaultWidth:854,defaultHeight:480})}initializeStyleSheetObserver(){this._observer=new MutationObserver(function(e){for(let t of e)if("childList"===t.type){for(let e of t.addedNodes)if(e.nodeType===Node.ELEMENT_NODE&&"LINK"===e.tagName&&"stylesheet"===e.rel){let t=e.href,n=e.integrity;c.YS(t,n)}}}),this._observer.observe(document.head,{childList:!0})}terminateStyleSheetObserver(){null!=this._observer&&(this._observer.disconnect(),this._observer=null)}handleOpenRTCDebugPopout(){c.bA(u.KJ3.RTC_DEBUG_POPOUT,e=>(0,r.jsx)(f,{windowKey:e}),{defaultWidth:854,defaultHeight:480})}handleOpenActivityPopout(){(0,l.te)(d.$S,s.Z.getDefaultLayout(d.$S,d.HN),d.HN),c.bA(u.KJ3.ACTIVITY_POPOUT,e=>(0,r.jsx)(g,{windowKey:e}),{defaultWidth:854,defaultHeight:480})}constructor(...e){var t;super(...e),(t="_observer")in this?Object.defineProperty(this,t,{value:null,enumerable:!0,configurable:!0,writable:!0}):this[t]=null}}let b=new m},380570:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(748780),i=n(570140),l=n(317770),a=n(716578),o=n(928518);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends l.Z{_initialize(){o.Z.addChangeListener(this.handlePopoutWindowChange),i.Z.subscribe("WINDOW_FOCUS",this.handleMainWindowFocus)}_terminate(){o.Z.removeChangeListener(this.handlePopoutWindowChange),i.Z.unsubscribe("WINDOW_FOCUS",this.handleMainWindowFocus),this.injectWindowAnimationFrame(window)}injectWindowAnimationFrame(e){let t=t=>e.requestAnimationFrame(t),n=t=>e.cancelAnimationFrame(t);r.Z.inject.RequestAnimationFrame(t),r.Z.inject.CancelAnimationFrame(n),a.f.setRAF(t,n)}constructor(...e){super(...e),s(this,"handleMainWindowFocus",e=>{e.focused&&e.windowId===window.__DISCORD_WINDOW_ID&&this.injectWindowAnimationFrame(window)}),s(this,"handlePopoutWindowChange",()=>{let e=o.Z.getWindowKeys().find(e=>o.Z.getWindowFocused(e));if(null==e)return this.injectWindowAnimationFrame(window);let t=o.Z.getWindow(e);if(null==t||t.closed)return this.injectWindowAnimationFrame(window);this.injectWindowAnimationFrame(t)})}}let u=new c},837689:function(e,t,n){n.d(t,{Z:()=>P}),n(388685);var r=n(255367);n(73800);var i=n(873546),l=n(704215),a=n(481060),o=n(570140),s=n(317770),c=n(605236),u=n(594174),d=n(431),p=n(74538),h=n(374023),f=n(367074),g=n(775412),m=n(695349),b=n(913976),_=n(434878),E=n(104494),O=n(29920),y=n(346497),I=n(727310),v=n(318199),C=n(474936);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let N="PremiumServerDriveAnnouncementModal";class T extends s.Z{_initialize(){o.Z.subscribe("PREMIUM_MARKETING_DATA_READY",this.mayShowAnnouncementModal),o.Z.subscribe("PREMIUM_MARKETING_PREVIEW",this.handlePreview)}_terminate(){o.Z.unsubscribe("PREMIUM_MARKETING_DATA_READY",this.mayShowAnnouncementModal),o.Z.unsubscribe("PREMIUM_MARKETING_PREVIEW",this.handlePreview)}constructor(...e){super(...e),S(this,"maybeOpenServerDriveAnnouncementModal",async(e,t)=>{let i=(0,v.r)({content:e,isPreview:t});if(null!=i)return(!1!==t||(null==i?void 0:i.contentIdentifier)!=="summer_bogo_content"||!!await (0,y.k)())&&((0,a.Mr3)(N),(0,a.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,318199));return t=>(0,r.jsx)(e,{renderModalProps:t,properties:i})},{modalKey:N}),!0);return!1}),S(this,"handlePreview",e=>{let{properties:t}=e;this.maybeOpenServerDriveAnnouncementModal(t,!0)}),S(this,"getOfferFromStore",()=>{let e=u.default.getCurrentUser();if((0,p.I5)(e))return{};let t=[C.hs,C.RU,C.rB,C.ih].map(e=>d.Z.getUserDiscountOffer(e)).filter(e=>null!=e&&!(0,E.kA)(e)).shift();if(null!=t)return{userDiscountOffer:t};let n=(0,g.J0)();return null!=n?{userTrialOffer:n}:{}}),S(this,"mayShowAnnouncementModal",async()=>{if(await (0,f.l2)(),h.s.isDisallowPopupsSet())return;let e=this.getOfferFromStore(),t=_.Z.getCurrentConfig({location:"announcementManager"},{autoTrackExposure:!1}).enabled,n=(0,c.un)(l.z.Q2_2025_MARKETING_MOMENT_FOLLOW_UP_MODAL),r=u.default.getCurrentUser();if(!t||n||(0,a.$sL)()||(0,p.I5)(r)||await (0,m.G)(e.userTrialOffer)&&(0,I.Z)({upsellType:C.cd.REVERSE_TRIAL_FOLLOWUP_UPSELL}),(null==r||r.verified)&&!(0,a.$sL)()&&b.Z.getCurrentConfig({location:"OfferAnnouncementManager"}).enabled&&!i.tq){for(let t of(await (0,O.He)(e)))if(await this.maybeOpenServerDriveAnnouncementModal(t,!1))break}})}}let P=new T},318199:function(e,t,n){n.d(t,{default:()=>m,r:()=>g}),n(781311);var r=n(255367);n(73800);var i=n(581282),l=n(8853),a=n(481060),o=n(2052),s=n(410030),c=n(100527),u=n(906732),d=n(605236),p=n(960048),h=n(276792),f=n(290347);function g(e){let{content:t,isPreview:n}=e,r=l.t.fromBinary((0,i.c)(t));return"announcementModalVariant1"!==r.properties.oneofKind||!n&&(0===r.properties.announcementModalVariant1.dismissKey.trim().length||(0,d.un)(Number(r.properties.announcementModalVariant1.dismissKey)))?null:(n&&(r.properties.announcementModalVariant1.dismissKey=""),r)}function m(e){let{renderModalProps:t,properties:n}=e,{location:i}=(0,o.O)(),{analyticsLocations:l}=(0,u.ZP)(c.Z.PREMIUM_MARKETING_ANNOUNCEMENT_MODAL),d=(0,s.ZP)(),g=(0,a.apv)(d);if("announcementModalVariant1"===n.properties.oneofKind){let e=(0,h.N)({content:n.properties.announcementModalVariant1,renderModalProps:t,analyticsLocations:l,analyticsLocation:i,isLightTheme:g});return(0,r.jsx)(f.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))}return p.Z.captureMessage("Property type ".concat(n.properties.oneofKind," is not supported to render ServerDriveAnnouncementModal")),null}},507985:function(e,t,n){n.d(t,{a:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-06_google_play_price_change_notice_ks",commonTriggerPoint:i.$P.CONNECTION_OPEN,label:"Google Play Price Change Notice Killswitch",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Force disable Google Play price change notice DC",config:{enabled:!0}}]})},913976:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(818083).B)({kind:"user",id:"2023-12_marketing_automation_experiment",label:"Marketing Automation",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Ask server for marketing content for rendering",config:{enabled:!0}}]})},988001:function(e,t,n){n.d(t,{Z:()=>a,v:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-06_plan_selector_cards_nitro_rebrand_experiment",label:"Plan Selector Cards Nitro Rebrand Experiment",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:0,label:"User sees control plan selector cards",config:{enabled:!1}},{id:1,label:"User sees nitro rebrand plan selector cards",config:{enabled:!0}}]});function a(e){let{location:t}=e;return l.useExperiment({location:t},{autoTrackExposure:!0}).enabled}},434878:function(e,t,n){n.d(t,{Z:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"user",id:"2025-05_reverse_trial_promotion",label:"Reverse Trials",defaultConfig:{enabled:!1},commonTriggerPoint:i.$P.CONNECTION_OPEN,treatments:[{id:1,label:"Users receives reverse trial + 1 week follow-up offer",config:{enabled:!0}}]})},767870:function(e,t,n){n.d(t,{Z:()=>m}),n(388685);var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(704215),o=n(927359),s=n(706140),c=n(325767),u=n(382791),d=n(158779);function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let h="premium_tier_gradient",f="smaller_sparkle_gradient";function g(e){var t,n,{width:i=14,height:l=15,color:a="white",foreground:o}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",(t=p({},(0,c.Z)(p({},s))),n=n={preserveAspectRatio:"none",width:i,height:l,viewBox:"0 0 14 15",className:o,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:h,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#8547C6"}),(0,r.jsx)("stop",{offset:"50%",stopColor:"#B845C1"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#AB5D8A"})]})}),(0,r.jsxs)("linearGradient",{id:f,x1:"-4.95474",y1:"5.44067",x2:"11.2384",y2:"8.58386",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#8547C6"}),(0,r.jsx)("stop",{offset:"0.52899",stopColor:"#B845C1"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#AB5D8A"})]}),(0,r.jsx)("path",{d:"M8.59403 1.52779C8.04647 0.0480288 5.95353 0.0480288 5.40597 1.52779L4.56476 3.8011C4.36219 4.34854 3.93057 4.78016 3.38313 4.98273L1.10982 5.82394C-0.36994 6.3715 -0.36994 8.46444 1.10982 9.012L3.38313 9.8532C3.93057 10.0558 4.36219 10.4874 4.56476 11.0348L5.40597 13.3081C5.95353 14.7879 8.04647 14.7879 8.59403 13.3081L9.43524 11.0348C9.63781 10.4874 10.0694 10.0558 10.6169 9.8532L12.8902 9.012C14.3699 8.46444 14.3699 6.3715 12.8902 5.82394L10.6169 4.98273C10.0694 4.78016 9.63781 4.34854 9.43524 3.8011L8.59403 1.52779Z",fill:a})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}function m(e){let{className:t,startsAt:n,endsAt:i,messageStyle:c,upperCase:p,showSparkles:m}=e,[b]=(0,s.Tt)(a.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL,{showAfterTimestamp:n.valueOf(),cooldownDurationMs:0}),_=(0,o.ZP)(i,c);return""===_?null:(p&&(_=_.toUpperCase()),(0,r.jsxs)("div",{className:l()(t,d.countDown),children:[m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{foreground:d.sparkleStar1,color:"url(#".concat(f,")")}),(0,r.jsx)(g,{foreground:d.sparkleStar2,color:"url(#".concat(h,")")})]}):null,(0,r.jsx)(u.mn,{text:_,colorOptions:b===a.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL?u.VE.PREMIUM_TIER_2_NEW_GRADIENT_FILL:u.VE.PREMIUM_TIER_2_GREY_FILL})]}))}},443589:function(e,t,n){n.d(t,{Z:()=>P});var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(524979),s=n(990547),c=n(873546),u=n(481060),d=n(906732),p=n(213609),h=n(963249),f=n(579185),g=n(752048),m=n(626135),b=n(479446),_=n(522558),E=n(441623),O=n(317271),y=n(674701),I=n(474936),v=n(981631),C=n(388032),S=n(26725),N=n(114959);let T={width:14,height:14};function P(e){let{recipientUser:t,giftIntentType:n,analyticsPage:l,shouldHighlight:P}=e,{analyticsLocations:j}=(0,d.ZP)(),{isHovered:A,setIsHovered:Z,onMouseEnter:x,onMouseLeave:L}=(0,f.Z)(200,300),{enableEmojiCTA:w}=_.w.useExperiment({location:"GiftIntentActionButton"},{autoTrackExposure:!1});i.useEffect(()=>{let e=g.Z.getUserAffinity(t.id);(0,p.h)({name:s.ImpressionNames.GIFT_INTENT_ACTION_BUTTON,type:s.ImpressionTypes.VIEW,properties:{gift_intent_type:n,affinity:null==e?void 0:e.communicationProbability}})},[t,n]);let R=i.useCallback(e=>{"focus"!==e.type&&x()},[x]),D=e=>{e.stopPropagation();let r=g.Z.getUserAffinity(t.id);m.default.track(v.rMx.GIFT_INTENT_ACTION_BUTTON_CLICKED,{gift_intent_type:n,affinity:null==r?void 0:r.communicationProbability}),(0,h.Z)({isGift:!0,initialPlanId:null,giftRecipient:t,analyticsLocation:(0,O.F)(n).actionButton,analyticsLocations:j,analyticsObject:{page:l,section:v.jXE.FRIENDS_LIST_FRIEND_ROW,object:v.qAy.BUTTON_CTA,objectType:v.Qqv.GIFT},giftMessage:k()})},k=()=>n===I.hX.FRIEND_ANNIVERSARY?C.intl.formatToPlainString(C.t["L2s/Nz"],{numberOfYears:E.Z.getFriendAnniversaryYears(t.id)}):(0,b.Ou)(n),M=()=>n===I.hX.FRIEND_ANNIVERSARY?C.intl.string(C.t["4LohBA"]):(0,b.Ou)(n),U=i.useRef(null),G=()=>w?(0,r.jsx)(u.P3F,{innerRef:U,"aria-label":M(),onClick:D,className:a()(N.actionButton,S.popoutButton,{[N.highlight]:P,[N.actionButtonMobile]:c.tq}),onMouseEnter:R,onMouseLeave:L,children:(0,r.jsx)(o.animated.div,{className:S.spriteContainer,children:(0,r.jsx)("div",{className:S.sprite})})}):(0,r.jsx)(u.zxk,{buttonRef:U,onClick:D,onMouseEnter:R,onMouseLeave:L,children:(0,r.jsxs)("div",{className:S.pillContentContainer,children:[(0,r.jsx)(u.OgN,{size:"custom",width:T.width,height:T.height,color:"currentColor"}),(0,r.jsx)(u.Text,{variant:"text-sm/medium",color:"always-white",className:S.pillButtonText,children:M()})]})});return(0,r.jsx)(u.yRy,{targetElementRef:U,animation:u.yRy.Animation.FADE,nudgeAlignIntoViewport:!1,closeOnScroll:!0,shouldShow:A,position:"right",align:"top",spacing:9,onRequestClose:()=>{Z(!1)},renderPopout:e=>(0,r.jsx)(y.Z,{giftIntentType:n,premiumGiftIntentCardType:y.U.COACHMARK,recipientUser:t,onMouseEnter:x,onMouseLeave:L,popoutPosition:e.position,analyticsPage:l,analyticsSection:v.jXE.FRIENDS_LIST_FRIEND_ROW_GIFT_POPOUT,giftIntentSecondaryAction:I.X2.SEND_MESSAGE,glow:!0}),children:()=>G()})}},29920:function(e,t,n){n.d(t,{He:()=>a});var r=n(544891);n(570140);var i=n(960048),l=n(981631);async function a(e){let{userTrialOffer:t,userDiscount:n,userDiscountOffer:a}=e;try{let e=await r.tn.post({url:l.ANM.PREMIUM_MARKETING,body:{user_trial_offer:t,user_discount:n,user_discount_offer:a},rejectWithError:!0});if(e.ok)return e.body;return i.Z.captureMessage("fetchPremiumMarketingContentWithUserOffer failed"),[]}catch(e){return[]}}},276792:function(e,t,n){n.d(t,{N:()=>E});var r=n(255367);n(73800);var i=n(704215),l=n(740111),a=n(481060),o=n(963249),s=n(703656),c=n(626135),u=n(63063),d=n(382791),p=n(474936),h=n(981631),f=n(388032),g=n(892012),m=n(74316);function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function E(e){var t,n,E,O;let y,{content:I,renderModalProps:v,analyticsLocations:C,analyticsLocation:S,isLightTheme:N}=e,T="AnnouncementModalVariant1_".concat(i.z[Number(I.dismissKey)]),{onClose:P}=v,j=null!=(O=null==(t=I.button)?void 0:t.copy)?O:f.intl.string(f.t.YScQSE),A=(null==(n=I.button)?void 0:n.buttonAction)===l.Wc.OPEN_MARKETING_PAGE?"jump_to_mkt_button":"get_nitro_button";switch(null==(E=I.button)?void 0:E.buttonAction){case l.Wc.OPEN_MARKETING_PAGE:y=()=>{(0,s.uL)(h.Z5c.APPLICATION_STORE),P()};break;case l.Wc.OPEN_TIER_1_PAYMENT_MODAL:y=()=>(0,o.Z)({subscriptionTier:p.Si.TIER_1,analyticsLocations:C,analyticsObject:_(b({},S),{object:h.qAy.BUTTON_CTA,objectType:h.Qqv.TIER_1}),onClose:e=>{e&&P()}});break;case l.Wc.OPEN_TIER_2_PAYMENT_MODAL:case l.Wc.OPEN_TIER_2_PAYMENT_MODAL_CUSTOM_CONFIRMATION_FOOTER:default:y=()=>(0,o.Z)({subscriptionTier:p.Si.TIER_2,analyticsLocations:C,analyticsObject:_(b({},S),{object:h.qAy.BUTTON_CTA,objectType:h.Qqv.TIER_2}),onClose:e=>{e&&P()}})}let Z=""!==I.helpArticleId?()=>(0,r.jsxs)(r.Fragment,{children:["\xa0",(0,r.jsx)(a.eee,{className:g.termsApplyAnchor,href:u.Z.getArticleURL(I.helpArticleId),children:f.intl.string(f.t.hvVgAQ)})]}):void 0,x={type:"video",src:N?I.heroArtVideoLinkLightTheme:I.videoLink};null!=I.heroArtVideoSubtitles&&(x.subtitles=I.heroArtVideoSubtitles.map(e=>({locale:e.locale,src:e.link,isDefault:!1}))),(""!==I.heroArtImageLinkDarkTheme||""!==I.heroArtImageLinkLightTheme)&&(x={type:"image",src:N?I.heroArtImageLinkLightTheme:I.heroArtImageLinkDarkTheme});let L=""!==I.modalTopPill?()=>(0,r.jsx)(d.mn,{text:I.modalTopPill,className:g.modalTopPill}):void 0;return{renderModalProps:v,header:I.header,modalTopExtra:L,subHeader:I.subheader,subHeaderExtra:Z,body:I.body,heroArt:x,featureCards:I.featureCards.map(e=>({header:e.header,subHeader:e.body,imageSrc:N?e.imageLinkLightTheme:e.imageLink,tagText:""!==e.pill?e.pill:void 0})),changeLogId:T,button:()=>{let e=Date.now();return(0,r.jsxs)(a.gtL,{className:g.button,innerClassName:g.innerButton,wrapperClassName:g.tier2Gradient,size:a.zxk.Sizes.SMALL,onClick:()=>{c.default.track(h.rMx.CHANGE_LOG_CTA_CLICKED,{change_log_id:T,cta_type:A,seconds_open:Math.round((Date.now()-e)/1e3),target:T}),y()},children:[(0,r.jsx)("img",{alt:"",className:g.nitroIconSubHeader,src:m}),j]})},modalDismissibleContent:""!==I.dismissKey?Number(I.dismissKey):void 0}}},276645:function(e,t,n){n.d(t,{Z:()=>s});var r=n(255367);n(73800);var i=n(481060),l=n(970731),a=n(388032),o=n(212314);function s(e){let{guildId:t,markAsDismissed:s}=e;return(0,r.jsx)(l.ZP,{className:o.container,asset:(0,r.jsx)("img",{className:o.image,src:n(297806),alt:""}),header:a.intl.string(a.t["2l9beX"]),headerClassName:o.header,content:a.intl.string(a.t.gdqdND),buttonCTA:a.intl.string(a.t.RzWDqa),buttonProps:{color:i.Ttl.WHITE,innerClassName:o.primaryButton},onClick:()=>{(0,i.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("5863"),n.e("95626")]).then(n.bind(n,751212));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={guildId:t},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})},secondaryButtonCTA:a.intl.string(a.t.TulDPj),secondaryButtonProps:{look:i.iLD.LINK,color:i.Ttl.WHITE},markAsDismissed:s})}},474486:function(e,t,n){n.d(t,{C:()=>u,l:()=>d});var r=n(255367),i=n(73800),l=n(481060),a=n(119269),o=n(227140),s=n(388032),c=n(742116);let u=e=>{let{children:t}=e,n=(0,r.jsxs)("div",{className:c.coachTipContainer,children:[(0,r.jsx)("div",{className:c.iconContainer,children:(0,r.jsx)(a.ZP,{staticPercentage:100,iconClassName:c.icon,showAnimations:!0,progressCircleVariation:a.Qo.NITRO_LOGO,ellipseOpacity:1,customAnimationClassName:c.customCircleAnimation,circleColor:"url(#purple-gradient)"})}),(0,r.jsxs)("div",{className:c.coachtipContent,children:[(0,r.jsx)(l.X6q,{variant:"heading-sm/bold",children:s.intl.string(s.t.USo4s7)}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",children:s.intl.format(s.t.AGKQq6,{numReferrals:3})})]})]});return(0,r.jsx)(l.ua7,{text:n,position:"right","aria-label":s.intl.string(s.t.USo4s7),tooltipClassName:c.marketingBadgeTooltip,allowOverflow:!0,tooltipContentClassName:c.tooltipContent,children:e=>{var n,i;return(0,r.jsx)("div",(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={children:t},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}})},d=e=>{let{isSelected:t,onSelect:n}=e;return i.useEffect(()=>{t&&n()},[t,n]),(0,r.jsx)(o.Z,{copy:s.intl.string(s.t.y2b7CA)})}},497334:function(e,t,n){n.d(t,{S:()=>h});var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(704215),o=n(481060),s=n(927359),c=n(605236),u=n(227140),d=n(388032),p=n(441393);function h(e){let{expiresAt:t}=e,n=(0,s.ZP)(t,s.aj.SHORT_TIME),i=(0,c.un)(a.z.Q2_2025_MARKETING_MOMENT_NITRO_TAB_BADGE_V2);return""===n?null:(n=n.toUpperCase(),i)?(0,r.jsxs)("div",{className:l()(p.premiumTrialBadge,p.premiumTrialAcknowledgedBadge,{}),children:[(0,r.jsx)(o.T39,{size:"custom",width:14,height:14,color:"currentColor",className:p.reverseTrialBadgeIcon}),(0,r.jsx)(o.Text,{variant:"eyebrow",color:"text-secondary",children:n})]}):(0,r.jsx)(u.Z,{copy:d.intl.string(d.t["B66Z+f"]),showStars:!1})}},457396:function(e,t,n){n.d(t,{g:()=>G,i:()=>U}),n(388685),n(539854);var r=n(255367),i=n(73800),l=n(91192),a=n(442837),o=n(704215),s=n(481060),c=n(515753),u=n(927359),d=n(975298),p=n(605236),h=n(243778),f=n(594174),g=n(351402),m=n(78839),b=n(626135),_=n(74538),E=n(502087),O=n(367074),y=n(695349),I=n(963590),v=n(767870),C=n(104494),S=n(639119),N=n(655525),T=n(52188),P=n(924540),j=n(474486),A=n(497334),Z=n(119850),x=n(938736),L=n(227140),w=n(474936),R=n(981631),D=n(921944),k=n(388032),M=n(419720);let U=e=>{let{selected:t}=e,n=(0,a.e7)([f.default],()=>f.default.getCurrentUser()),r=(0,a.e7)([m.ZP],()=>m.ZP.getPremiumTypeSubscription()),i=(0,S.N)(),l=(0,C.Ng)(),o=(0,O.Vi)(),s=(0,Z.V)(),c=(0,_.Qo)(n,r),u=(0,a.e7)([E.Z],()=>E.Z.getCreatedAtOverride()),d=t||null!=i||null!=l||o||null!=s||c,p=null!=u?u:null==n?void 0:n.createdAt;return d||null!=n&&null!=p&&Date.now()-p.getTime()>12096e5},G=e=>{let t,n,E;var G,V,{selected:B,route:H,locationState:F}=e,z=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["selected","route","locationState"]);let W=(0,a.e7)([f.default],()=>f.default.getCurrentUser()),Y=(0,a.e7)([m.ZP],()=>m.ZP.getPremiumTypeSubscription()),K=(0,_.Qo)(W,Y),q=(0,l.JA)("nitro"),Q=(0,S.N)(),X=(0,C.Ng)(),J=(0,y.W)(),$=(0,a.e7)([g.Z],()=>g.Z.isLocalizedPromoEnabled)&&null==Q,ee=(0,O.Vi)(),et=(0,Z.V)(),en=(0,x.Kn)("NitroTabButton"),{fractionalState:er,startsAt:ei,endsAt:el}=(0,d.Z)({forceFetch:!0}),[ea,eo]=(0,h.bf)(er!==w.a$.NONE?o.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL:null,{showAfterTimestamp:ei.valueOf(),cooldownDurationMs:0}),es=(0,I.Z)({location:"NitroTabButton"}),ec=(null==Q?void 0:Q.trial_id)===w.a7,eu=[];es&&eu.push(o.z.VOICE_FILTER_EARLY_ACCESS_PREMIUM_TAB_BADGE),J&&eu.push(o.z.Q2_2025_MARKETING_MOMENT_NITRO_TAB_BADGE_V2);let[ed,ep]=(0,h.US)(eu,void 0,!0);if(i.useEffect(()=>{!0===B&&null!=ed&&ep(D.L.AUTO_DISMISS)},[ep,B,ed]),!U({selected:B}))return null;er===w.a$.NONE||J||(E=7,n=(0,r.jsx)(v.Z,{className:"",startsAt:ei,endsAt:el,messageStyle:u.aj.SHORT_TIME,upperCase:!0})),ee?(n=(0,r.jsx)(N.Z,{}),E=0):ed===o.z.VOICE_FILTER_EARLY_ACCESS_PREMIUM_TAB_BADGE?(n=(0,r.jsx)(P._y,{isTabSelected:B,badgeCopy:k.intl.string(k.t.y2b7CA),offerExpiresAt:null}),E=2):J?(n=(0,r.jsx)(A.S,{expiresAt:el}),E=4):null!=et?(n=(0,r.jsx)(L.Z,{copy:et,showStars:!1}),E=1):null!=X?(n=(0,r.jsx)(P.GN,{userDiscount:X,isTabSelected:B,includesAmountOff:!1}),E=3):null==Q||ec?en?(n=(0,r.jsx)(j.l,{isSelected:B,onSelect:()=>(0,p.EW)(o.z.REFERRAL_PROGRAM_PREMIUM_TAB_BADGE,{dismissAction:D.L.TAKE_ACTION})}),E=6):$&&(n=(0,r.jsx)(T.k,{entryPoint:T.U.PrivateMessages}),B||(t=M.localizeBadge),E=5):(n=(0,r.jsx)(P.$H,{trialOffer:Q,isTabSelected:B}),E=4);let eh=(0,r.jsx)(c.Qj,(G=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({selected:B,route:H,icon:s.SrA,text:k.intl.string(k.t.Ipxkoq),locationState:F,onClick:()=>{ea===o.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL&&eo(D.L.TAKE_ACTION),b.default.track(R.rMx.NITRO_TAB_VISITED,{badge_decorator:E,has_premium:K}),null!=ed&&ep(D.L.USER_DISMISS)}},z,q),V=V={className:t,children:n},Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(V)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(V)).forEach(function(e){Object.defineProperty(G,e,Object.getOwnPropertyDescriptor(V,e))}),G));return en?(0,r.jsx)(j.C,{children:eh}):eh}},290347:function(e,t,n){n.d(t,{Z:()=>T}),n(388685),n(415506),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(607070),u=n(446411),d=n(468846),p=n(313201),h=n(70097),f=n(605236),g=n(524444),m=n(626135),b=n(960048),_=n(981631),E=n(921944),O=n(388032),y=n(937976);function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let C=[],S=e=>{let{tagText:t,className:n}=e;return(0,r.jsx)(s.IGR,{className:a()(y.tag,n),text:t})},N=e=>{let{header:t,subHeader:n,imageSrc:i,tagText:l,wideStyle:o}=e;return(0,r.jsxs)("div",{className:a()(y.featureCard,{[y.wideStyle]:o}),children:[null!=l?(0,r.jsx)(S,{tagText:l,className:y.featureCardTag}):null,(0,r.jsx)("img",{alt:"",className:a()(y.featureCardImg,{[y.wideStyle]:o}),src:i}),(0,r.jsxs)("div",{className:y.featureCardTextGroup,children:[(0,r.jsx)(s.X6q,{variant:"heading-md/extrabold",className:y.featureCardTextHeader,children:t}),(0,r.jsx)(s.Text,{variant:"text-sm/normal",children:n})]})]})};function T(e){let{className:t,renderModalProps:n,heroArt:l,heroArtClassName:S,modalDismissibleContent:T,modalTopExtra:P,header:j,headerClassName:A,subHeader:Z,subHeaderExtra:x,featureCards:L,changeLogId:w,button:R,body:D}=e,{onClose:k,transitionState:M}=n,U=(0,p.Dt)(),G=L.length%2==0,V=(0,o.e7)([c.Z],()=>c.Z.useReducedMotion),[B,H]=i.useState(Date.now()),[F,z]=i.useState(0),[W,Y]=i.useState(0),[K,q]=i.useState(!1),[Q,X]=i.useState(!0),J=i.useRef(B),$=i.useRef(F),ee=i.useRef(W),et=i.useRef(K),en=i.useRef(Q),[er,ei]=i.useState(C),el=i.useRef(!1);function ea(){let e=Date.now(),t=e-J.current,n=$.current,r=ee.current;return et.current&&(z(n+=t),en.current||Y(r+=t)),H(e),[n,r]}return i.useEffect(()=>{let e=async()=>{try{var e;if("video"!==l.type||null==l.subtitles)return;let t=null==(e=l.subtitles)?void 0:e.map(async e=>{let t=await fetch(e.src);if(!t.ok)throw Error("Failed to fetch the subtitle file ".concat(e.src));let n=await t.text(),r=new Blob([n],{type:"text/vtt"}),i=URL.createObjectURL(r);return v(I({},e),{src:i})});ei(await Promise.all(t))}catch(e){b.Z.captureException(e),ei(C)}};!0!==el.current&&e(),el.current=!0},[l,er]),i.useEffect(()=>()=>{null!=er&&er.forEach(e=>{URL.revokeObjectURL(e.src)})},[er]),i.useEffect(()=>{J.current=B,$.current=F,ee.current=W,et.current=K,en.current=Q},[B,F,W,K,Q]),i.useEffect(()=>()=>{if("video"===l.type||"embed"===l.type){let[e,t]=ea();m.default.track(_.rMx.CHANGE_LOG_VIDEO_PLAYED,{change_log_id:w,seconds_played:Math.round(e/1e3)}),m.default.track(_.rMx.CHANGE_LOG_VIDEO_UNMUTE,{change_log_id:w,seconds_unmuted:Math.round(t/1e3)})}},[w,l.type]),i.useEffect(()=>{null!=T&&(0,f.kk)(T);let e=Date.now();return m.default.track(_.rMx.CHANGE_LOG_OPENED,{change_log_id:w}),()=>{m.default.track(_.rMx.CHANGE_LOG_CLOSED,{change_log_id:w,seconds_open:Math.round((Date.now()-e)/1e3)}),null!=T&&(0,f.EW)(T,{dismissAction:E.L.DISMISS})}},[T,w]),(0,r.jsxs)(s.Y0X,{className:a()(y.root,t),transitionState:M,"aria-labelledby":U,parentComponent:"PremiumAnnouncementModalVariant1",children:[(0,r.jsx)(s.olH,{className:y.closeButton,onClick:k}),null==P?void 0:P(),(0,r.jsxs)(s.hzk,{className:y.content,children:[(0,r.jsx)(s.X6q,{variant:"display-md",className:a()(y.headerText,A),children:j}),"video"===l.type?(0,r.jsx)(h.Z,{className:a()(y.video,S),autoPlay:!V,loop:!0,muted:!0,controls:!0,controlsList:"nofullscreen nodownload noremoteplayback noplaybackrate",src:l.src,poster:l.poster,onPlay:e=>{m.default.track(_.rMx.CHANGE_LOG_VIDEO_INTERACTED,{change_log_id:w}),H(Date.now()),q(!0),X(e.currentTarget.muted)},onEnded:e=>{ea(),X(e.currentTarget.muted),q(!1)},onVolumeChange:e=>{ea(),X(e.currentTarget.muted)},onPause:e=>{ea(),X(e.currentTarget.muted),q(!1)},disablePictureInPicture:!0,children:null==er?void 0:er.map(e=>{let t=(0,O.getLanguages)().find(t=>t.code===e.locale);return null==t?null:(0,r.jsx)("track",{label:t.englishName,kind:"captions",srcLang:t.code,src:e.src,default:e.isDefault},e.locale)})}):"embed"===l.type?(0,r.jsx)(u.BC,{className:a()(y.video,S),allowFullScreen:!1,href:l.href,thumbnail:l.thumbnail,video:l.embed,provider:d.pn.YOUTUBE,maxWidth:l.embed.width,maxHeight:l.embed.height,renderVideoComponent:g.lV,renderImageComponent:g.Yi,renderLinkComponent:g.iT,onPlay:()=>{m.default.track(_.rMx.CHANGE_LOG_VIDEO_INTERACTED,{change_log_id:w})}}):"image"===l.type?(0,r.jsx)("img",{alt:"",className:a()(y.video,S),src:l.src}):null,(0,r.jsxs)(s.Text,{variant:"text-md/normal",color:"text-secondary",className:y.subHeader,children:[Z,null==x?void 0:x()]}),null!=D&&(0,r.jsx)(s.X6q,{variant:"heading-md/medium",className:y.bodyText,children:D}),L.length>0&&(0,r.jsx)("div",{className:a()(y.featureCardGroup,{[y.wideStyle]:G}),children:L.map((e,t)=>(0,r.jsx)(N,v(I({},e),{wideStyle:G}),"".concat(e.header,"_").concat(t)))}),R()]})]})}},727310:function(e,t,n){n.d(t,{Z:()=>l});var r=n(255367);n(73800);var i=n(481060);function l(e){let{upsellType:t}=e;(0,i.ZDy)(async()=>{let{default:e}=await n.e("51816").then(n.bind(n,415788));return n=>{var i,l;return(0,r.jsx)(e,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n),l=l={upsellType:t,"aria-labelledby":"reverse-trial-upsell-modal"},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(l,e))}),i))}})}},118470:function(e,t,n){n.d(t,{Z:()=>f}),n(388685),n(539854);var r=n(255367),i=n(73800),l=n(442837),a=n(812206),o=n(324262),s=n(434404),c=n(106976),u=n(270144),d=n(981631),p=n(388032),h=n(466389);function f(e){let t,{guild:n}=e,f=(0,u.h6)(n),g=()=>(0,c.sB)(n.id),m=i.useMemo(()=>new Set(f.map(e=>e.applicationId)),[f]),b=(0,l.Wu)([a.Z],()=>{let e=[];for(let t of m){let n=a.Z.getApplication(t);null!=n&&e.push(n)}return e},[m]);return 0===b.length?null:(t=1===b.length?p.intl.formatToPlainString(p.t["Egq+Gx"],{a:b[0].name}):2===b.length?p.intl.formatToPlainString(p.t.LxU9R0,{a:b[0].name,b:b[1].name}):3===b.length?p.intl.formatToPlainString(p.t.crKXMD,{a:b[0].name,b:b[1].name,c:b[2].name}):p.intl.string(p.t.MvfowM),(0,r.jsx)(o.Z,{guild:n,onDismissed:g,message:t,type:d.vID.APPLICATION_SUBSCRIPTION_EXPIRATION,image:h,onClick:()=>{g(),s.Z.open(n.id,d.pNK.INTEGRATIONS)},imageMarginTop:6,imageMarginX:46,cta:p.intl.string(p.t.Rr3MAQ)}))}},489977:function(e,t,n){n.d(t,{Z:()=>m});var r=n(570140),i=n(809206),l=n(317770),a=n(18438),o=n(378879),s=n(643879),c=n(350327),u=n(594174),d=n(74538),p=n(486324);let h=e=>{let{image:t,file:n,guildId:r,analyticsSource:l,isTryItOutFlow:h}=e;if(h)return void(0,c.c_)(t);let f=u.default.getCurrentUser(),g=null!=r?a.I5:i.I5,m=d.ZP.canUseAnimatedAvatar(f);if(m||"image/gif"!==n.type)return void g(t);if(null==f)return;let b=(0,s.SD)({userId:f.id,image:t});if(!m)return void(0,o.s)({uploadType:p.pC.AVATAR,imageSrc:b,analyticsSource:l})},f=e=>{let{image:t,guildId:n,analyticsSource:r,isTryItOutFlow:i}=e,l=t.imageUri;if(i)return void(0,c.f4)(l);let s=u.default.getCurrentUser(),h=null!=n?a.g_:c.g_,f=d.ZP.canUsePremiumProfileCustomization(s);return d.ZP.canUsePremiumProfileCustomization(s)?void h(l):null==s||f?void 0:void(0,o.s)({uploadType:p.pC.BANNER,imageSrc:l,analyticsSource:r})};class g extends l.Z{_initialize(){r.Z.subscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)}_terminate(){r.Z.unsubscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)}maybeOpenProfilePreviewModal(e){return e.uploadType===p.pC.AVATAR?h(e):e.uploadType===p.pC.BANNER?f(e):void 0}}let m=new g},400271:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r,i,l,a=n(442837),o=n(433517),s=n(570140),c=n(650774),u=n(430824),d=n(496675),p=n(135899),h=n(981631);let f="publicUpsellChannelNoticeGuilds",g=new Set;class m extends(r=a.ZP.Store){initialize(){var e;this.waitFor(d.Z,u.Z,c.Z),this.syncWith([d.Z,u.Z,c.Z],h.dG4),g=(e=new Set(o.K.get(f)),e)}isVisible(e){if(null==e)return;let t=c.Z.getMemberCount(e.id);return!g.has(e.id)&&null!=t&&t>=p.U3&&d.Z.can(h.Plq.ADMINISTRATOR,e)&&!e.hasFeature(h.oNc.COMMUNITY)}}l="EnablePublicGuildUpsellNoticeStore",(i="displayName")in m?Object.defineProperty(m,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):m[i]=l;let b=new m(s.Z,{PUBLIC_UPSELL_NOTICE_DISMISS:function(e){let t=e.guildId;if(!g.has(t))return g.add(t),o.K.set(f,g),!0}})},413307:function(e,t,n){n.d(t,{Z:()=>d});var r=n(255367),i=n(73800),l=n(949389),a=n(324262),o=n(434404),s=n(981631),c=n(388032),u=n(438825);let d=e=>{let{guild:t}=e,n=i.useCallback(()=>{(0,l.K7)(t.id)},[t.id]);return(0,r.jsx)(a.Z,{guild:t,onDismissed:n,onClick:()=>o.Z.open(t.id,s.pNK.COMMUNITY),message:c.intl.string(c.t["2klD0d"]),trackingSource:s.PsQ.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:s.vID.PUBLIC_UPSELL,image:u,cta:c.intl.string(c.t.hvVgAQ)})}},833435:function(e,t,n){n.d(t,{_:()=>i});let r=(0,n(818083).B)({id:"2024-09_quests_trophy_case",kind:"user",label:"Trophy Case",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Enabled",config:{enabled:!0}}]}),i=e=>{let{location:t,autoTrackExposure:n=!1}=e;return r.useExperiment({location:t},{autoTrackExposure:n}).enabled}},220068:function(e,t,n){n.d(t,{Z:()=>l});var r=n(972959);let i=Object.freeze({tab:n(113434).e5.ALL}),l=(0,r.H)(()=>i)},558652:function(e,t,n){n.d(t,{Z:()=>a});var r=n(255367);n(73800);var i=n(113434),l=n(710914);function a(){let{quests:e,isFetchingCurrentQuests:t}=(0,i.bA)(i.e5.ALL);return(0,r.jsx)(l.Z,{quests:e,isFetching:t})}},786089:function(e,t,n){n.d(t,{Z:()=>P}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(979554),s=n(887003),c=n(442837),u=n(780384),d=n(481060),p=n(393238),h=n(410030),f=n(204418),g=n(70097),m=n(594174),b=n(626135),_=n(617136),E=n(113434),O=n(497505),y=n(475595),I=n(352084),v=n(125011),C=n(685613),S=n(981631),N=n(388032),T=n(45017);let P=(0,i.memo)(function(e){var t,n,l,P,j,A;let{quest:Z}=e,[x,L]=(0,i.useState)(!1),[w,R]=(0,i.useState)(24),[D,k]=(0,i.useState)(!1),M=(0,i.useRef)(null),U=(0,i.useRef)(null),G=(0,i.useRef)(null),V=(0,c.e7)([m.default],()=>m.default.getCurrentUser()),{ref:B,height:H=0}=(0,p.ZP)(),F=(0,h.ZP)(),z=(0,E.B6)(null==(t=Z.userStatus)?void 0:t.claimedAt,{month:"numeric",day:"numeric"}),W=null!=(j=null==(n=Z.userStatus)?void 0:n.claimedTier)?j:0,Y=Z.config.rewards[W],K=(null==Y?void 0:Y.type)===s.w.FRACTIONAL_PREMIUM,q=(null==Y?void 0:Y.type)===s.w.COLLECTIBLE,Q=(null==Y?void 0:Y.type)===s.w.VIRTUAL_CURRENCY,X=null==Y||null==(P=Y.collectibleProduct)||null==(l=P.items)?void 0:l[0],J=(null==X?void 0:X.type)===o.Z.AVATAR_DECORATION?X:null;(0,p.PM)(M,e=>{let{height:t}=e;if(!q||null==t||null==U.current||null==M.current||null==G.current)return;let n=M.current.getBoundingClientRect(),r=U.current.getBoundingClientRect(),i=G.current.getBoundingClientRect();R((r.top-n.top-i.height)/2)});let $=(0,u.wj)(F),ee=(0,i.useMemo)(()=>null!=Z.config.cosponsorMetadata,[Z]),et=(0,i.useMemo)(()=>(0,y.fh)(Z,y.eC.REWARD),[Z]),en=x?H+8:0,er=(0,_.mH)(O.jn.TROPHY_CASE_CARD),{content_position:ei,row_index:el}=er,ea=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(er,["content_position","row_index"]),eo=()=>{L(!0),b.default.track(S.rMx.QUEST_HOVER,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({quest_id:Z.id},ea))},es=()=>L(!1),ec=e=>{k(!0),b.default.track(S.rMx.QUEST_ASSET_LOADING_FAILURE,{source:e,asset_id:e,quest_id:Z.id})};return null==Y||D?null:(0,r.jsx)(d.tEY,{children:(0,r.jsxs)("div",{ref:M,tabIndex:0,onFocus:eo,onBlur:es,onMouseEnter:eo,onMouseLeave:es,className:a()(T.container,{[T.hovered]:x}),children:[null!=V&&q&&null!=J&&(0,r.jsx)("div",{ref:G,className:T.decoWrapper,style:{top:w},children:(0,r.jsx)(f.Z,{avatarDecorationOverride:J,user:V,guildId:null})}),K?(0,r.jsx)(I.Z,{className:T.image}):Q?(0,r.jsx)(v.Z,{className:T.image}):et.isAnimated?(0,r.jsx)(g.Z,{className:T.assetBlurred,autoPlay:!1,children:(0,r.jsx)("source",{src:et.url,type:null!=(A=et.mimetype)?A:void 0,onError:()=>ec(et.url)})}):(0,r.jsx)("img",{className:T.image,src:et.url,alt:Z.config.messages.questName,onError:()=>ec(et.url)}),(0,r.jsx)("div",{className:a()(T.overlay,{[T.darkThemeGradient]:$,[T.lightThemeGradient]:!$})}),(0,r.jsx)("div",{ref:U,className:T.logoContainer,style:{transform:"translateY(-".concat(en,"px)")},children:(0,r.jsx)(C.ZP,{logotypeClassName:a()(T.logo,{[T.logoWithCosponsor]:ee}),quest:Z,withGameTile:!1})}),(0,r.jsxs)("div",{ref:B,className:T.details,children:[(0,r.jsx)(d.X6q,{className:T.title,variant:"heading-md/semibold",color:"always-white",children:N.intl.format(N.t.EAYZAg,{questName:Z.config.messages.questName})}),(0,r.jsx)(d.Text,{variant:"text-sm/medium",color:$?"text-muted":"always-white",style:{opacity:$?1:.75},children:N.intl.format(N.t.kXVcV1,{reward:Y.name,claimedDate:z})})]})]})})})},383747:function(e,t,n){n.d(t,{Z:()=>o});var r=n(255367),i=n(481060),l=n(410030),a=n(388032);function o(e){let{onClick:t}=e,o=(0,l.ZP)();return(0,r.jsxs)(i.ubH,{theme:o,children:[(0,r.jsx)(i.oxh,{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200}),(0,r.jsx)(i.OZU,{note:a.intl.format(a.t.Pv8u2t,{onClick:t})})]})}},736683:function(e,t,n){n.d(t,{Z:()=>u,j:()=>d});var r=n(255367);n(73800);var i=n(481060),l=n(113434),a=n(786089),o=n(383747),s=n(710914),c=n(767780);function u(e){let{onSelectTab:t}=e,{claimedQuests:n,isFetchingClaimedQuests:s}=(0,l.eN)();return s&&0===n.length?(0,r.jsx)(i.$jN,{className:c.spinner}):0===n.length?(0,r.jsx)(o.Z,{onClick:()=>t(l.e5.ALL)}):(0,r.jsx)("div",{className:c.gridContainer,children:n.map(e=>(0,r.jsx)(a.Z,{quest:e},e.id))})}function d(e){let{onSelectTab:t}=e,{quests:n,isFetchingCurrentQuests:a}=(0,l.bA)(l.e5.CLAIMED);return a&&0===n.length?(0,r.jsx)(i.$jN,{className:c.spinner}):0===n.length?(0,r.jsx)(o.Z,{onClick:()=>t(l.e5.ALL)}):(0,r.jsx)(s.Z,{quests:n,isFetching:a})}},879438:function(e,t,n){n.d(t,{z:()=>s});var r=n(97519),i=n(731965),l=n(5881),a=n(46140),o=n(231338);let s=(0,r.U)((e,t)=>({startTime:performance.now(),elapsed:0,lastOutputLogTime:-5e3,logger:null,registerAssetLoad:()=>{var n;let r=null!=(n=t().logger)?n:(0,l.T)({location:a.dr.QUEST_HOME_DESKTOP});if(r.info===o.dG||t().elapsed>=6e4)return;let s=performance.now()-t().startTime;s>6e4&&(s=6e4);let c={elapsed:s};s-t().lastOutputLogTime>1e3&&(r.info("QuestHome asset loading duration so far: ".concat(s,"ms")),c.lastOutputLogTime=s),null==t().logger&&(c.logger=r),(0,i.j)(()=>e(c))}}))},121711:function(e,t,n){n.d(t,{Z:()=>Y});var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(990547),s=n(442837),c=n(481060),u=n(607070),d=n(100527),p=n(213609),h=n(335131),f=n(252618),g=n(70097),m=n(114851),b=n(175307),_=n(17845),E=n(374939),O=n(233374),y=n(611928),I=n(763433),v=n(283293),C=n(507808),S=n(822857),N=n(775451),T=n(526167),P=n(63063),j=n(113434),A=n(833435),Z=n(150560),x=n(558652),L=n(736683),w=n(879438),R=n(251360),D=n(466962),k=n(452081),M=n(46140),U=n(981631),G=n(215023),V=n(388032),B=n(87671),H=n(13299),F=n(428383),z=n(843385);function W(e){let{onLoadComplete:t}=e,{enabled:n}=(0,S.WX)({location:M.dr.QUEST_HOME_DESKTOP}),l=(0,s.e7)([u.Z],()=>u.Z.useReducedMotion),o=i.useRef(null);if(i.useEffect(()=>{var e,t,n,r;null!=o&&(!l||(null==(e=o.current)?void 0:e.paused)?!l&&(null==(t=o.current)?void 0:t.paused)&&(null==(r=o.current)||r.play()):null==(n=o.current)||n.pause())},[l]),n){let e=(0,T.rO)();return(0,r.jsx)(g.Z,{ref:o,autoPlay:!l,loop:!0,muted:!0,playsInline:!0,className:a()(B.bannerAsset,B.orbsBannerAsset),onProgress:t,"data-mtctest-ignore":"true",controls:!1,children:(0,r.jsx)("source",{src:e?F.Z:z.Z,type:e?"video/mp4":"video/webm"})})}return(0,r.jsx)("img",{src:H.ZP,className:a()(B.bannerAsset,B.oversizedImg),alt:"",onLoad:t})}let Y=function(){let{selectedTab:e,onSelectTab:t,tabs:n}=(0,k.z)(),{onScroll:l,scrollPosition:s}=(0,m.M)(),u=Z.Z.getState().getUtmCurrentContext(),g=(0,A._)({location:M.dr.QUEST_HOME_DESKTOP})?L.Z:L.j,T=(0,w.z)(e=>e.registerAssetLoad),H=i.useRef(u);i.useEffect(()=>{H.current=u}),i.useEffect(()=>{let{current:t}=H;(0,p.h)({name:o.ImpressionNames.QUEST_HOME,type:o.ImpressionTypes.VIEW,properties:{utm_source_current:t.utmSourceCurrent,utm_medium_current:t.utmMediumCurrent,utm_campaign_current:t.utmCampaignCurrent,utm_content_current:t.utmContentCurrent,tab:e}})},[e]);let{enabled:F}=(0,S.WX)({location:M.dr.QUEST_HOME_DESKTOP}),z=i.useCallback(()=>{if(F)return void window.open(U.EYA.PAID_TERMS_ORBS);window.open(P.Z.getArticleURL(U.BhN.QUESTS_LEARN_MORE))},[F]);(0,f.Tt)({location:V.intl.string(V.t.JALI2N)});let Y=F?V.intl.format(V.t.BCBIlp,{}):V.intl.format(V.t.lmMBf3,{}),K=F?V.intl.format(V.t.U9FY0N,{}):V.intl.string(V.t.oWCrBg),q=i.useRef(null);return(0,r.jsx)(R.k.Provider,{value:{onAssetLoadComplete:T},children:(0,r.jsx)("div",{className:B.container,children:F?(0,r.jsx)(D.t.Provider,{value:q,children:(0,r.jsxs)(v.Z,{onScroll:l,ref:q,children:[(0,r.jsx)(I.a,{selectedTabId:e,handleTransition:t,tabs:n,icon:c.qDn,children:(0,r.jsx)(N.V9,{analyticsPage:U.ZY5.GLOBAL_DISCOVERY_QUESTS,cardAlignment:N.ek.END,ctaText:V.intl.string(V.t["J+vlIS"]),ctaOnClick:()=>{(0,C.Y)({pageType:U.ZY5.GLOBAL_DISCOVERY_QUESTS,sectionType:U.jXE.ORBS_BALANCE_MENU,ctaObject:U.qAy.CTA_TO_ORBS_SHOP}),(0,h.mK)({openInLayer:!1,tab:G.AW.ORBS,analyticsLocations:[],analyticsSource:d.Z.ORBS_BALANCE_MENU})}})}),(0,r.jsxs)(_.Z,{title:Y,description:K,betaTag:F,button:F?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.zxk,{color:c.Ttl.WHITE,onClick:()=>(0,h.mK)({openInLayer:!1,tab:G.AW.ORBS,analyticsLocations:[],analyticsSource:d.Z.INTRO_TO_ORBS_QUEST_BANNER}),children:V.intl.string(V.t["1Wm129"])}),(0,r.jsx)(c.zxk,{look:c.iLD.LINK,color:c.Ttl.CUSTOM,className:B.orbsTermsButton,onClick:z,children:V.intl.string(V.t["7kTAgI"])})]}):(0,r.jsx)(b.u,{text:V.intl.string(V.t.hvVgAQ),onClick:z}),className:a()(B.bannerContainer,{[B.orbsContainer]:F}),children:[(0,r.jsx)("div",{className:a()(B.bannerGradient,{[B.orbsGradient]:F})}),(0,r.jsx)(W,{onLoadComplete:T})]}),(0,r.jsx)(E.Z,{children:e===j.e5.CLAIMED?(0,r.jsx)(g,{onSelectTab:t}):(0,r.jsx)(x.Z,{})})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(y.ZP,{variant:y._6.OVERLAY,children:[(0,r.jsx)("div",{className:B.dragRegion}),(0,r.jsx)(y.z6,{scrollPosition:s}),(0,r.jsx)(y.aV,{icon:c.qDn})]}),(0,r.jsx)(D.t.Provider,{value:q,children:(0,r.jsxs)(v.Z,{onScroll:l,ref:q,children:[(0,r.jsxs)(_.Z,{title:Y,description:K,button:(0,r.jsx)(b.u,{text:V.intl.string(V.t.hvVgAQ),onClick:z}),className:a()(B.bannerContainer,{[B.orbsContainer]:F}),children:[(0,r.jsx)("div",{className:a()(B.bannerGradient,{[B.orbsGradient]:F})}),(0,r.jsx)(W,{onLoadComplete:T})]}),(0,r.jsxs)(E.Z,{children:[(0,r.jsx)("div",{className:B.tabs,children:(0,r.jsx)(O.Z,{tabs:n,selectedTab:e,onTabSelect:t})}),e===j.e5.CLAIMED?(0,r.jsx)(g,{onSelectTab:t}):(0,r.jsx)(x.Z,{})]})]})})]})})})}},710914:function(e,t,n){n.d(t,{Z:()=>p}),n(388685),n(290780),n(539854);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(481060),s=n(497505),c=n(415104),u=n(46140),d=n(204997);function p(e){let{quests:t,isFetching:n}=e,l=null;if(window.location.hash.length>0){let e=window.location.hash.slice(1);for(let n of t)if(n.id===e){l=e;break}}i.useEffect(()=>{for(let e of t)if(e.id===l){let e=document.getElementById("quest-tile-".concat(l));null==e||e.scrollIntoView({behavior:"smooth",block:"center"});break}},[t,l]);let p=null!=l,[h,f]=i.useState(window.innerWidth);i.useEffect(()=>{let e=()=>{f(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let g=h>=1610?3:h>=1340?2:1,m=i.useMemo(()=>{let e=[];for(let r of t){var n;r.id===u.V6&&(null==(n=r.userStatus)?void 0:n.claimedAt)==null?e.unshift(r):e.push(r)}return e},[t]);return n&&0===t.length?(0,r.jsx)(o.$jN,{className:d.spinner}):(0,r.jsx)("div",{className:d.container,children:m.map((e,t)=>{let n=Math.floor(t/g);return(0,r.jsx)(c.Z,{quest:e,questContent:s.jn.QUEST_HOME_DESKTOP,contentPosition:t,rowIndex:n,className:a()(d.questTile,{[d.selected]:p&&e.id===l,[d.unselected]:p&&e.id!==l})},e.id)})},null!=l?l:"")}},452081:function(e,t,n){n.d(t,{z:()=>s});var r=n(73800),i=n(703656),l=n(113434),a=n(220068),o=n(388032);function s(){let e=a.Z.useField("tab"),t=r.useCallback(e=>{(0,i.dL)("#"),a.Z.setState({tab:e})},[]);return{tabs:r.useMemo(()=>[{id:l.e5.ALL,label:o.intl.string(o.t["0SzXmp"])},{id:l.e5.CLAIMED,label:o.intl.string(o.t.zyNYND)}],[]),selectedTab:e,onSelectTab:t}}},125011:function(e,t,n){n.d(t,{Z:()=>c});var r=n(255367);n(73800);var i=n(120356),l=n.n(i),a=n(70097),o=n(442994),s=n(201284);let c=e=>{let{className:t}=e;return(0,r.jsx)("div",{className:l()(o.container,t),children:(0,r.jsx)(a.Z,{className:o.asset,playsInline:!0,controls:!1,children:(0,r.jsx)("source",{src:s.Z,type:"video/webm"})})})}},23404:function(e,t,n){n.d(t,{Z:()=>w}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(210887),u=n(617136),d=n(272008),p=n(113434),h=n(569984),f=n(497505),g=n(918701),m=n(467628),b=n(373370),_=n(475595),E=n(566078),O=n(602667),y=n(65443),I=n(611855),v=n(670638),C=n(667105),S=n(860151),N=n(341907),T=n(46140),P=n(981631),j=n(388032),A=n(396896);function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function x(e){var t;let{quest:n}=e,i=(0,p.B6)(n.config.expiresAt),l=(0,p.B6)(E.r.build(n.config).rewardsExpireAt),a=(0,o.e7)([c.Z],()=>c.Z.getState().theme),u=(0,s.wjy)(a)?P.BRd.DARK:P.BRd.LIGHT,d=(null==(t=n.userStatus)?void 0:t.completedAt)!=null;return(0,r.jsxs)("div",{className:A.heading,children:[(0,r.jsx)("img",{className:A.headingGameTile,alt:"",src:(0,_.fh)(n,_.eC.GAME_TILE,u).url}),(0,r.jsxs)("div",{className:A.headingCopy,children:[(0,r.jsx)(s.X6q,{variant:"heading-md/semibold",color:"header-primary",children:d?j.intl.string(j.t.XBboAA):j.intl.formatToPlainString(j.t.EQa7oq,{questName:n.config.messages.questName})}),(0,r.jsx)(s.Text,{variant:"text-xs/normal",color:"header-secondary",children:d?j.intl.formatToPlainString(j.t.APddvL,{expirationDate:l}):j.intl.formatToPlainString(j.t["pX+fmp"],{expirationDate:i})})]})]})}function L(e){var t,n,l,c;let{nodeRef:_,quest:E}=e,O=(0,u.O5)(),P=(0,o.e7)([h.Z],()=>h.Z.isEnrolling(E.id),[E]),L=(0,o.e7)([h.Z],()=>null!=h.Z.questEnrollmentBlockedUntil,[]),[w,R]=i.useState(!1),D=i.useCallback(()=>R(!0),[]),k=i.useCallback(()=>R(!1),[]),M=(0,b.up)(T.dr.ACTIVITY_PANEL),U=i.useCallback(e=>{e.stopPropagation()},[]),G=i.useCallback(()=>{(0,d.AH)(E.id,{questContent:f.jn.ACTIVITY_PANEL,questContentCTA:u.jZ.ACCEPT_QUEST})},[E]),V=i.useCallback(()=>{null!=E&&(O({questId:E.id,questContent:f.jn.ACTIVITY_PANEL,questContentCTA:u.jZ.TRACK_PROGRESS}),(0,N.navigateToQuestHome)({fromContent:f.jn.ACTIVITY_PANEL,questId:E.id}))},[E,O]),B=i.useCallback(()=>{O({questId:E.id,questContent:f.jn.ACTIVITY_PANEL,questContentCTA:u.jZ.LEARN_MORE}),(0,N.navigateToQuestHome)({fromContent:f.jn.ACTIVITY_PANEL,questId:E.id})},[E.id,O]),H=(0,C.hf)({quest:E,location:f.jn.ACTIVITY_PANEL}),F=(0,p.tP)(E),z=(null==(t=E.userStatus)?void 0:t.enrolledAt)!=null,W=(null==(n=E.userStatus)?void 0:n.completedAt)!=null,Y=(null==(l=E.userStatus)?void 0:l.claimedAt)!=null,K=(null==E?void 0:E.userStatus)!=null&&(0,g.zE)(E.userStatus,f.jn.ACTIVITY_PANEL),q=(0,p.Rf)(E),Q=(0,b.DD)({quest:E,taskDetails:q,location:T.dr.ACTIVITY_PANEL,questContent:f.jn.ACTIVITY_PANEL}),X=(0,m.j)({location:T.dr.QUESTS_BAR_MOBILE});return K||F||Y||L?null:(0,r.jsxs)("div",{ref:e=>{_.current=e},className:a()(A.wrapper,{[A.wrapperQuestAccepted]:z}),onClick:U,onKeyPress:U,onFocus:D,onMouseEnter:D,onBlur:k,onMouseLeave:k,children:[(0,r.jsxs)("div",{className:A.utils,children:[z?(0,r.jsx)(x,{quest:E}):(0,r.jsx)(I.Z,{}),(0,r.jsx)(v.r,{quest:E,questContent:f.jn.ACTIVITY_PANEL,shouldShowDisclosure:(null==(c=E.userStatus)?void 0:c.enrolledAt)==null,showShareLink:!0,children:e=>{var t,n;return(0,r.jsx)(s.P3F,(t=Z({},e),n=n={"aria-label":j.intl.string(j.t.DEoVWV),children:(0,r.jsx)(s.xhG,{size:"md",color:"currentColor",className:A.submenuIcon})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})]}),!z&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{quest:E}),(0,r.jsxs)("div",{className:A.instructions,children:[(0,r.jsx)(s.Text,{variant:"text-sm/normal",color:"text-normal",children:Q}),X&&(0,r.jsx)(y.Z,{quest:E,textColor:"text-muted",withRewardName:!0})]})]}),z&&!W&&(0,r.jsx)(S.Z,{autoplay:w,className:A.rewardTileWithInstructions,quest:E,questContent:f.jn.ACTIVITY_PANEL,location:T.dr.ACTIVITY_PANEL,taskDetails:q}),(0,r.jsxs)("div",{className:A.ctas,children:[!z&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.zxk,{className:A.cta,color:s.zxk.Colors.PRIMARY,fullWidth:!0,size:s.zxk.Sizes.SMALL,onClick:B,children:j.intl.string(j.t.LLLLPD)}),(0,r.jsx)(s.zxk,{className:A.cta,color:s.zxk.Colors.BRAND,fullWidth:!0,onClick:G,size:s.zxk.Sizes.SMALL,submitting:P,children:j.intl.string(j.t.l7E81t)})]}),z&&!W&&(0,r.jsx)(s.zxk,{className:A.cta,color:s.zxk.Colors.BRAND,fullWidth:!0,onClick:V,size:s.zxk.Sizes.SMALL,children:j.intl.string(j.t.VN1Ajo)}),W&&(0,r.jsx)(s.zxk,{className:A.cta,color:s.zxk.Colors.BRAND,fullWidth:!0,onClick:H,size:s.zxk.Sizes.SMALL,children:M})]})]})}let w=function(e){return(0,r.jsx)(O.A,{questOrQuests:e.quest,questContent:f.jn.ACTIVITY_PANEL,children:t=>(0,r.jsx)(L,Z({nodeRef:t},e))})}},432496:function(e,t,n){n.d(t,{Z:()=>d});var r=n(442837),i=n(570140),l=n(749210);let a={},o=0;function s(e){var t,n;return null!=(n=null==(t=a[e])?void 0:t.fetchState)?n:0}function c(){a={}}class u extends r.ZP.Store{isFetchingFriendsForGuild(e){return 1===s(e)}fetchFriendMembersIfNotFetched(e,t){0===s(e)&&(a[e]={fetchState:1,foundMembers:0,notFoundMembers:0},o=t.length,l.Z.requestMembersById(e,t,!1))}}let d=new u(i.Z,{CONNECTION_OPEN:c,LOGOUT:c,RELATIONSHIP_ADD:c,RELATIONSHIP_REMOVE:c,GUILD_MEMBERS_CHUNK_BATCH:function(e){var t,n;let r=e.chunks[0],{guildId:i}=r;1===s(i)&&(a[i].foundMembers+=r.members.length,a[i].notFoundMembers+=null!=(n=null==(t=r.notFound)?void 0:t.length)?n:0,a[i].foundMembers+a[i].notFoundMembers>=o&&(a[i].fetchState=2))}})},592546:function(e,t,n){n.d(t,{Z:()=>l});var r=n(818083),i=n(987338);let l=(0,r.B)({kind:"guild",id:"2025-04_report_to_mod",label:"Report to moderator",commonTriggerPoint:i.$P.CONNECTION_OPEN,defaultConfig:{enabled:!1},treatments:[{id:1,label:"report to moderator triggering",config:{enabled:!0}}]})},914946:function(e,t,n){n.d(t,{FJ:()=>en,RE:()=>G,T5:()=>B,Xb:()=>H,YK:()=>ee,YS:()=>J,_J:()=>z,_f:()=>ei,aE:()=>F,bu:()=>er,kb:()=>W,s9:()=>Y,t9:()=>Q,tr:()=>et,vv:()=>$,zM:()=>K,zy:()=>q}),n(35282),n(413496),n(433524),n(388685),n(539854),n(415506),n(704826),n(997841),n(642613),n(392711);var r,i,l=n(729594),a=n(243814),o=n(544891),s=n(63023),c=n(904245),u=n(155268),d=n(812206),p=n(454585),h=n(739566),f=n(973616),g=n(131704),m=n(598077),b=n(592125),_=n(430824),E=n(131951),O=n(375954),y=n(158776),I=n(594174),v=n(979651),C=n(70956),S=n(5192),N=n(226951),T=n(591759),P=n(996106),j=n(863141),A=n(186901),Z=n(981631);function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function L(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let w=null!=(i=null==(r=T.Z.toURLSafe(window.GLOBAL_ENV.API_ENDPOINT))?void 0:r.host)?i:"localhost",R=function(){let e=w.split(":")[0];if(!e.includes("."))return e;let t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),D=new RegExp("^".concat(N.Z.escape("https://"),"(?:[a-z]+\\.)?(").concat(N.Z.escape(R),"|discordapp.com|discord.com)$")),k=+C.Z.Millis.MINUTE,M={};function U(e){return"customEmoji"===e.type&&(e.type="emoji"),"emoji"===e.type&&e.src&&(e.src=G(e.src)),Array.isArray(e.content)&&(e.content=e.content.map(U)),e}function G(e){return/^http/.test(e)?e:"".concat(location.protocol,"//").concat(location.host).concat("/"===e.charAt(0)?"":"/").concat(e)}function V(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.indexOf(e)>-1}function B(e,t){let n=[],r=e.getGuildId();return[Z.d4z.GUILD_CATEGORY,...g.tx].includes(e.type)||n.push(new Promise(t=>{O.Z.whenReady(e.id,()=>t()),c.Z.fetchMessages({channelId:e.id,limit:Z.AQB})})),Promise.all(n).then(()=>{var n;let i=(!e.isNSFW()||(null==(n=I.default.getCurrentUser())?void 0:n.nsfwAllowed)===!0)&&t?O.Z.getMessages(e.id).toArray().map(H):[],l=Object.values(v.Z.getVoiceStatesForChannel(e.id)).map(t=>F(r,e.id,t));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:r,position:e.position,messages:i,voice_states:l}})}function H(e){let t=p.Z.parseToAST(e.content,!0,{channelId:e.channel_id}).map(U),n=b.Z.getChannel(e.channel_id),r=null!=e.author?new m.Z(e.author):void 0,i=null!=e.author?(0,h.ij)(r,n):void 0;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:null==i?void 0:i.nick,author_color:null==i?void 0:i.colorString,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:null!=r?(0,j.Z)(r):void 0,pinned:e.pinned,type:e.type}}function F(e,t,n){let{mute:r,deaf:i,selfMute:l,selfDeaf:a,suppress:o,userId:s}=n,c=I.default.getUser(s);if(null==c)throw Error("Invalid user id: ".concat(s));return{nick:S.ZP.getName(e,t,c),mute:E.Z.isLocalMute(c.id),volume:E.Z.getLocalVolume(c.id),pan:E.Z.getLocalPan(c.id),voice_state:{mute:r,deaf:i,self_mute:l,self_deaf:a,suppress:o},user:(0,j.Z)(c)}}function z(e,t){return{type:e,user:(0,j.Z)(t),presence:{status:y.Z.getStatus(t.id,null),activity:null}}}function W(e,t){var n;return null==t?e:L(x({},e),{presence:L(x({},e.presence),{activity:null!=(n=y.Z.getApplicationActivity(e.user.id,t))?n:null})})}function Y(e){let t;if(null==e)return!1;let n=window.location.origin;if(e===n)return!0;try{t=l.parse(e).hostname}catch(e){return!1}return window.location.hostname===t&&"localhost"===t||null==e.match("staging")&&!!(D.test(e)&&D.test(n))}function K(e,t,n){let r=_.Z.getGuild(e.getGuildId());return(null!=r?r.getApplicationId():e.getApplicationId())===t||n.indexOf(a.x.MESSAGES_READ)>-1}function q(e){switch(e){case Z.hes.RTC_CONNECTED:case Z.hes.RTC_CONNECTING:case Z.hes.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}}function Q(e,t,n){return e===Z.mFx.JOIN&&null!=t&&null!=t.id&&null!=n.join}function X(e){return o.tn.get({url:Z.ANM.APPLICATION_RPC(e),oldFormErrors:!0,retries:3,rejectWithError:!0}).then(e=>{let{body:t}=e;return t},()=>{throw new P.Z({closeCode:Z.$VG.INVALID_CLIENTID},"Invalid Client ID")})}async function J(e,t,n){let r=d.Z.getApplication(t);if("string"==typeof n)if(e.transport===A.He.POST_MESSAGE){let e=(0,u.ZP)(t);if(null==e||!V(n,[e]))throw new P.Z({closeCode:Z.$VG.INVALID_ORIGIN},"Invalid Origin")}else{let e=await X(t);if(r=f.ZP.createFromServer(e),!V(n,e.rpc_origins))throw new P.Z({closeCode:Z.$VG.INVALID_ORIGIN},"Invalid Origin")}null==r&&(r=f.ZP.createFromServer(await X(t)));let{id:i,name:l,icon:a,coverImage:o,flags:s}=r;e.application={id:i,name:l,icon:a,coverImage:o,flags:s}}async function $(e,t){let n=M[e];null==n&&(n=new s.Z(t?2:60,k),M[e]=n),await n.process()}function ee(e,t){null==t&&(e.authorization.scopes=[A.lH])}function et(e){let t=E.Z.getSettings(),n=e=>Object.values(e).sort((e,t)=>e.index-t.index).map(e=>({id:e.id,name:e.name})),r=e(t);return{input:{available_devices:n(E.Z.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(E.Z.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,threshold:t.modeOptions.threshold,shortcut:r,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}}function en(e,t){let n=E.Z.getSettings(e),r=t(n);return{input_mode:{type:n.mode,shortcut:r},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}}function er(e){if(e!==A.He.POST_MESSAGE)throw new P.Z({errorCode:Z.lTL.INVALID_COMMAND},'command not available from "'.concat(e," transport"))}function ei(e){if(null==e.id)throw new P.Z({errorCode:Z.lTL.INVALID_COMMAND},"Invalid application");return e.id}},238679:function(e,t,n){n.d(t,{KW:()=>h,dO:()=>p,gQ:()=>f});var r=n(392711),i=n.n(r),l=n(317381),a=n(16609),o=n(594174),s=n(823379),c=n(5192),u=n(863141),d=n(186901);function p(){let e=l.ZP.getCurrentEmbeddedActivity();if(null==e)return{participants:[]};let t=(0,a.j)(e.location),n=(0,a.p)(e.location);return{participants:Array.from(e.userIds,e=>{var r,i;let l=o.default.getUser(e);if(null==l)return;let a=(0,c.y)(t,n,l);return r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,u.Z)(l)),i=i={nickname:null!=a?a:void 0},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r}).filter(s.lm)}}let h={[d.Gp.ANY]:[d.wE]},f={scope:h,handler:()=>e=>{let{prevState:t,dispatch:n}=e,r=p();return i().isEqual(r,t)||n(r),r}}},452426:function(e,t,n){n.d(t,{Z:()=>r});function r(e){return e.object().unknown(!0)}},561205:function(e,t,n){n.d(t,{Z:()=>l});var r=n(317381),i=n(592125);function l(){let e=r.ZP.getConnectedActivityChannelId();return i.Z.getChannel(e)}},901077:function(e,t,n){n.d(t,{Z:()=>o});var r=n(981631);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let a="<removed>";function o(e){var t,n;let o=i({},e);return"object"==typeof(t=o).args&&"string"==typeof t.cmd&&(o=function(e){switch(e.cmd){case r.Etm.AUTHENTICATE:case r.Etm.GET_PROVIDER_ACCESS_TOKEN:return l(i({},e),{args:l(i({},e.args),{access_token:a})});default:return i({},e)}}(o)),"object"==typeof(n=o).data&&"string"==typeof n.cmd&&(o=function(e){switch(e.cmd){case r.Etm.AUTHENTICATE:case r.Etm.GET_PROVIDER_ACCESS_TOKEN:return l(i({},e),{data:l(i({},e.data),{access_token:a})});default:return i({},e)}}(o)),o}},295424:function(e,t,n){n.d(t,{Z:()=>r});function r(e){return{name:e.name,id:e.id,icon:e.icon,cover_image:e.coverImage,type:e.type}}},222263:function(e,t,n){n.d(t,{Z:()=>i});var r=n(864106);function i(e){let{userId:t,nick:n,guildId:i,avatar:l,avatarDecoration:a,banner:o,bio:s,pronouns:c,colorString:u}=e;return{user_id:t,nick:n,guild_id:i,avatar:l,avatar_decoration_data:(0,r.FG)(a),banner:o,bio:s,pronouns:c,color_string:u}}},408841:function(e,t,n){n.d(t,{n:()=>l});var r=n(996106),i=n(981631);let l={handler(e){throw new r.Z({errorCode:i.lTL.INVALID_COMMAND},"Deprecated command: ".concat(e.cmd))}}},600027:function(e,t,n){n.d(t,{T:()=>c});var r=n(159300),i=n(430824),l=n(496675),a=n(996106),o=n(561205),s=n(981631);function c(){let e=(0,o.Z)();if(null==e)throw new a.Z({errorCode:s.lTL.INVALID_CHANNEL},"Invalid channel");let t=i.Z.getGuild(e.getGuildId());if(null==t)throw new a.Z({errorCode:s.lTL.INVALID_CHANNEL},"Invalid guild ".concat(e.getGuildId()));if(!(0,r.b)(l.Z,t,e))throw new a.Z({errorCode:s.lTL.INVALID_PERMISSIONS},"No invite permissions for ".concat(e.id));return{channel:e,guild:t}}},334288:function(e,t,n){n.d(t,{f:()=>a});var r=n(996106),i=n(186901),l=n(981631);function a(e){if(i.He.IPC!==e&&i.He.POST_MESSAGE!==e)throw new r.Z({errorCode:l.lTL.INVALID_COMMAND},"Invalid transport.")}},606271:function(e,t,n){n.d(t,{Z:()=>P}),n(388685);var r=n(392711),i=n.n(r),l=n(442837),a=n(570140),o=n(107105),s=n(592125),c=n(271383),u=n(430824),d=n(131951),p=n(158776),h=n(19780),f=n(699516),g=n(944486),m=n(594174),b=n(979651),_=n(626135),E=n(823379),O=n(358085),y=n(914946),I=n(238679),v=n(863141),C=n(981631),S=n(701488),N=n(65154);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P{loadServer(){for(let e of(O.isPlatformEmbedded&&this.registerTransportsForEmbeddedPlatform(),this.transports))this.rpcServer.registerTransport(e);for(let[e,t]of Object.entries(this.rpcCommandHandlers))this.rpcServer.setCommandHandler(e,t);for(let[e,t]of Object.entries(this.rpcEventHandlers))this.rpcServer.setEventHandler(e,t)}init(){this.rpcServer.getCurrentUser=()=>m.default.getCurrentUser(),this.rpcServer.onConnect=e=>{a.Z.dispatch({type:"RPC_APP_CONNECTED",socketId:e.id,application:e.application}),_.default.track(C.rMx.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})},this.rpcServer.onDisconnect=(e,t)=>{a.Z.dispatch({type:"RPC_APP_DISCONNECTED",socketId:e.id,application:e.application,reason:t})};let e=[s.Z,c.ZP,p.Z,b.Z,d.Z,h.Z];new l.Fh(e.concat(this.stores),()=>this.rpcServer.updateSubscriptions()).attach("RPCServerManager"),a.Z.subscribe("MESSAGE_CREATE",this.handleMessage),a.Z.subscribe("MESSAGE_UPDATE",this.handleMessage),a.Z.subscribe("MESSAGE_DELETE",this.handleMessage),a.Z.subscribe("SPEAKING",this.handleSpeaking),a.Z.subscribe("OAUTH2_TOKEN_REVOKE",this.handleOAuth2TokenRevoke),a.Z.subscribe("GUILD_CREATE",this.handleGuildCreate),a.Z.subscribe("CHANNEL_CREATE",this.handleChannelCreate),a.Z.subscribe("LOGOUT",this.handleLogout),a.Z.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),a.Z.subscribe("RPC_NOTIFICATION_CREATE",this.handleNotificationCreate),a.Z.subscribe("ACTIVITY_JOIN",this.handleActivityJoin),a.Z.subscribe("ACTIVITY_LAYOUT_MODE_UPDATE",this.handleActivityLayoutModeUpdate),a.Z.subscribe("THERMAL_STATE_CHANGE",this.handleThermalStateChange),a.Z.subscribe("ACTIVITY_SCREEN_ORIENTATION_UPDATE",this.handleScreenOrientationUpdate),a.Z.subscribe("EMBEDDED_ACTIVITY_UPDATE",this.handleEmbeddedActivityUpdate),a.Z.subscribe("RELATIONSHIP_ADD",this.handleRelationshipAdd),a.Z.subscribe("RELATIONSHIP_UPDATE",this.handleRelationshipUpdate),a.Z.subscribe("RELATIONSHIP_REMOVE",this.handleRelationshipRemove),a.Z.subscribe("PRESENCE_UPDATES",this.handlePresenceUpdates),a.Z.subscribe("PRESENCES_REPLACE",this.handlePresencesReplace),a.Z.subscribe("USER_UPDATE",this.handleUserUpdate),a.Z.subscribe("ENTITLEMENT_CREATE",this.handleEntitlementCreate),a.Z.subscribe("ENTITLEMENT_DELETE",this.handleEntitlementDelete)}terminate(){a.Z.unsubscribe("MESSAGE_CREATE",this.handleMessage),a.Z.unsubscribe("MESSAGE_UPDATE",this.handleMessage),a.Z.unsubscribe("MESSAGE_DELETE",this.handleMessage),a.Z.unsubscribe("SPEAKING",this.handleSpeaking),a.Z.unsubscribe("OAUTH2_TOKEN_REVOKE",this.handleOAuth2TokenRevoke),a.Z.unsubscribe("GUILD_CREATE",this.handleGuildCreate),a.Z.unsubscribe("CHANNEL_CREATE",this.handleChannelCreate),a.Z.unsubscribe("LOGOUT",this.handleLogout),a.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),a.Z.unsubscribe("RPC_NOTIFICATION_CREATE",this.handleNotificationCreate),a.Z.unsubscribe("ACTIVITY_JOIN",this.handleActivityJoin),a.Z.unsubscribe("ACTIVITY_LAYOUT_MODE_UPDATE",this.handleActivityLayoutModeUpdate),a.Z.unsubscribe("THERMAL_STATE_CHANGE",this.handleThermalStateChange),a.Z.unsubscribe("ACTIVITY_SCREEN_ORIENTATION_UPDATE",this.handleScreenOrientationUpdate),a.Z.unsubscribe("EMBEDDED_ACTIVITY_UPDATE",this.handleEmbeddedActivityUpdate),a.Z.unsubscribe("RELATIONSHIP_ADD",this.handleRelationshipAdd),a.Z.unsubscribe("RELATIONSHIP_UPDATE",this.handleRelationshipUpdate),a.Z.unsubscribe("RELATIONSHIP_REMOVE",this.handleRelationshipRemove),a.Z.unsubscribe("PRESENCE_UPDATES",this.handlePresenceUpdates),a.Z.unsubscribe("PRESENCES_REPLACE",this.handlePresencesReplace),a.Z.unsubscribe("USER_UPDATE",this.handleUserUpdate),a.Z.unsubscribe("ENTITLEMENT_CREATE",this.handleEntitlementCreate),a.Z.unsubscribe("ENTITLEMENT_DELETE",this.handleEntitlementDelete)}constructor(e){T(this,"rpcServer",void 0),T(this,"transports",void 0),T(this,"rpcCommandHandlers",void 0),T(this,"rpcEventHandlers",void 0),T(this,"stores",void 0),T(this,"registerTransportsForEmbeddedPlatform",void 0),T(this,"handleMessage",e=>{let t,n,r;if(0===this.rpcServer.subscriptions.length)return;"MESSAGE_CREATE"===e.type&&this.handleActivityMessage(e);let i=null;switch(e.type){case"MESSAGE_CREATE":if("SENDING"===e.message.state)return;t=C.zMe.MESSAGE_CREATE,n=e.channelId,r=e.message,i="".concat(t).concat(e.message.id);break;case"MESSAGE_UPDATE":t=C.zMe.MESSAGE_UPDATE,n=e.message.channel_id,r=e.message;break;case"MESSAGE_DELETE":t=C.zMe.MESSAGE_DELETE,n=e.channelId,r={id:e.id},i="".concat(t).concat(e.id);break;default:return(0,E.vE)(e)}null!=n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,y.Xb)(r)},i)}),T(this,"handleSpeaking",e=>{if(0===this.rpcServer.subscriptions.length)return;let t=0!==e.speakingFlags?C.zMe.SPEAKING_START:C.zMe.SPEAKING_STOP;if(e.context===N.Yn.DEFAULT){let n=g.Z.getVoiceChannelId();if(null!=n){let r=s.Z.getChannel(n);if(null==r)return;let i=b.Z.getVoiceState(r.getGuildId(),e.userId);if(null==i)return;this.rpcServer.dispatchToSubscriptions(t,{channel_id:i.channelId},{channel_id:i.channelId,user_id:e.userId})}}}),T(this,"handleVoiceChannelSelect",e=>{let{guildId:t,channelId:n}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(C.zMe.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})}),T(this,"handleNotificationCreate",e=>{let{channelId:t,message:n,icon:r,title:i,body:l}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(C.zMe.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,y.Xb)(n),icon_url:null!=r?(0,y.RE)(r):null,title:i,body:l})}),T(this,"handleActivityJoin",e=>{let{applicationId:t,secret:n,intent:r,embedded:i}=e;if(0===this.rpcServer.subscriptions.length)return;let l={secret:n};i&&(l.intent=r),this.rpcServer.dispatchToSubscriptions(C.zMe.ACTIVITY_JOIN,e=>e.socket.application.id===t,l),this.rpcServer.dispatchToSubscriptions(C.zMe.GAME_JOIN,e=>e.socket.application.id===t,l)}),T(this,"handleActivityLayoutModeUpdate",e=>{let{applicationId:t,layoutMode:n}=e;if(0===this.rpcServer.subscriptions.length)return;let r=n!==S.cE.FOCUSED;this.rpcServer.dispatchToSubscriptions(C.zMe.ACTIVITY_PIP_MODE_UPDATE,e=>e.socket.application.id===t,{is_pip_mode:r}),this.rpcServer.dispatchToSubscriptions(C.zMe.ACTIVITY_LAYOUT_MODE_UPDATE,e=>e.socket.application.id===t,{layout_mode:n})}),T(this,"handleThermalStateChange",e=>{let{applicationId:t}=e;if(0===this.rpcServer.subscriptions.length||null==t)return;let n={thermal_state:(0,o.bY)()};this.rpcServer.dispatchToSubscriptions(C.zMe.THERMAL_STATE_UPDATE,e=>e.socket.application.id===t,n)}),T(this,"handleScreenOrientationUpdate",e=>{let{screenOrientation:t}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(C.zMe.ORIENTATION_UPDATE,{},{screen_orientation:t})}),T(this,"handleEmbeddedActivityUpdate",()=>{if(0===this.rpcServer.subscriptions.length)return;let e=(0,I.dO)();this.rpcServer.dispatchToSubscriptions(C.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE,{},e)}),T(this,"handleActivityMessage",e=>{var t;let{channelId:n,message:r}=e;if(0===this.rpcServer.subscriptions.length)return;let{application:i,activity:l}=r;if(null==i||null==l||null==l.party_id)return;let a=m.default.getUser(null==(t=r.author)?void 0:t.id);if(null==a)return;let o=m.default.getCurrentUser();if(null==o||a.id===o.id)return;let s=l.type===C.mFx.JOIN_REQUEST?p.Z.getApplicationActivity(o.id,i.id):p.Z.getApplicationActivity(a.id,i.id);if(null==s||null==s.party||s.party.id!==l.party_id)return;let c=s.application_id;switch(l.type){case C.mFx.JOIN:this.rpcServer.dispatchToSubscriptions(C.zMe.ACTIVITY_INVITE,e=>e.socket.application.id===c,{user:(0,v.Z)(a),activity:s,type:l.type,channel_id:n,message_id:r.id});break;case C.mFx.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(C.zMe.ACTIVITY_JOIN_REQUEST,e=>e.socket.application.id===c,{user:(0,v.Z)(a),activity:s,type:l.type,channel_id:n,message_id:r.id})}}),T(this,"handleOAuth2TokenRevoke",e=>{let{accessToken:t}=e;this.rpcServer.sockets.forEach(e=>{e.authorization.accessToken===t&&e.close(C.$VG.TOKEN_REVOKED,"Token revoked")})}),T(this,"handleGuildCreate",e=>{let{guild:{id:t}}=e,n=u.Z.getGuild(t);0!==this.rpcServer.subscriptions.length&&null!=n&&this.rpcServer.dispatchToSubscriptions(C.zMe.GUILD_CREATE,{},{id:t,name:n.name})}),T(this,"handleChannelCreate",e=>{let{channel:{id:t,name:n,type:r}}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(C.zMe.CHANNEL_CREATE,{},{id:t,name:n,type:r})}),T(this,"handleLogout",()=>{this.rpcServer.sockets.forEach(e=>e.close(C.$VG.CLOSE_NORMAL,"User logout"))}),T(this,"handleRelationshipAdd",e=>{let{relationship:{id:t,type:n}}=e;if(0===this.rpcServer.subscriptions.length)return;let r=m.default.getUser(t);if(null==r)return;let i=(0,y._J)(n,r);this.rpcServer.dispatchToSubscriptions(C.zMe.RELATIONSHIP_UPDATE,{},e=>(0,y.kb)(i,e.socket.application.id))}),T(this,"handleRelationshipUpdate",e=>{let{relationship:{id:t,type:n}}=e;if(0===this.rpcServer.subscriptions.length)return;let r=m.default.getUser(t);if(null==r)return;let i=(0,y._J)(n,r);this.rpcServer.dispatchToSubscriptions(C.zMe.RELATIONSHIP_UPDATE,{},e=>(0,y.kb)(i,e.socket.application.id))}),T(this,"handleRelationshipRemove",e=>{let{relationship:{id:t}}=e;if(0===this.rpcServer.subscriptions.length)return;let n=m.default.getUser(t);if(null==n)return;let r=(0,y._J)(C.OGo.NONE,n);this.rpcServer.dispatchToSubscriptions(C.zMe.RELATIONSHIP_UPDATE,{},e=>(0,y.kb)(r,e.socket.application.id))}),T(this,"handlePresenceUpdates",e=>{let{updates:t}=e;if(0!==this.rpcServer.subscriptions.length)for(let e of new Set(t.map(e=>{let{user:t}=e;return t.id})).values()){let t=f.Z.getRelationshipType(e);if(t===C.OGo.NONE)continue;let n=m.default.getUser(e);if(null==n)continue;let r=(0,y._J)(t,n);this.rpcServer.dispatchToSubscriptions(C.zMe.RELATIONSHIP_UPDATE,{},e=>(0,y.kb)(r,e.socket.application.id))}}),T(this,"handlePresencesReplace",()=>{0!==this.rpcServer.subscriptions.length&&i().forEach(f.Z.getMutableRelationships(),(e,t)=>{if(e===C.OGo.NONE)return;let n=m.default.getUser(t);if(null==n)return;let r=(0,y._J)(e,n);this.rpcServer.dispatchToSubscriptions(C.zMe.RELATIONSHIP_UPDATE,{},e=>(0,y.kb)(r,e.socket.application.id))})}),T(this,"handleUserUpdate",e=>{let{user:{id:t}}=e;if(0===this.rpcServer.subscriptions.length)return;let n=f.Z.getRelationshipType(t);if(n===C.OGo.NONE)return;let r=m.default.getUser(t);if(null==r)return;let i=(0,y._J)(n,r);this.rpcServer.dispatchToSubscriptions(C.zMe.RELATIONSHIP_UPDATE,{},e=>(0,y.kb)(i,e.socket.application.id))}),T(this,"handleEntitlementCreate",e=>{let{entitlement:t}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(C.zMe.ENTITLEMENT_CREATE,e=>e.socket.application.id===t.application_id,{entitlement:t})}),T(this,"handleEntitlementDelete",e=>{let{entitlement:t}=e;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(C.zMe.ENTITLEMENT_DELETE,e=>e.socket.application.id===t.application_id,{entitlement:t})}),this.rpcServer=e.server,this.transports=e.transports,this.rpcCommandHandlers=e.commands,this.rpcEventHandlers=e.events,this.stores=e.stores,this.registerTransportsForEmbeddedPlatform=e.registerTransportsForEmbeddedPlatform}}},703912:function(e,t,n){n.d(t,{Z:()=>P}),n(35282),n(997841),n(388685),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749);var r=n(664751),i=n(373793),l=n(243814),a=n(149765),o=n(544891),s=n(45792),c=n(433517),u=n(570140),d=n(812206),p=n(979200),h=n(489863),f=n(166148),g=n(307643),m=n(973616),b=n(594174),_=n(630388),E=n(700785),O=n(996106),y=n(186901),I=n(981631);function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function C(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let S="CachedTokens";async function N(e,t,n){let r,l,o,s,c,{client_id:u,response_type:y="code",redirect_uri:v,code_challenge:C,code_challenge_method:S,state:N,nonce:T,scope:P,permissions:j,guild_id:A,channel_id:Z,prompt:x,disable_guild_select:L,integration_type:w,pid:R,signal:D}=e;if(null==D?void 0:D.aborted)throw new O.Z({errorCode:I.lTL.UNKNOWN_ERROR},"Request aborted");if(null==u)throw new O.Z({errorCode:I.lTL.OAUTH2_ERROR},"No Client ID provided");if(null!=v)throw new O.Z({errorCode:I.lTL.OAUTH2_ERROR},"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");let k=[];if("string"==typeof P?k=P.split(" ").filter(e=>e.length>0):Array.isArray(P)&&(k=P),null==b.default.getCurrentUser())throw new O.Z({errorCode:I.lTL.OAUTH2_ERROR},"Client is not logged in");if(null!=w)l=Number(w);else{let e=e=>{var t;return null!=e&&(0,_.yE)(e.flags,I.udG.EMBEDDED)&&(null==(t=e.integrationTypesConfig)?void 0:t[i.Y.USER_INSTALL])!=null},t=d.Z.getApplication(u);l=e(t)||e(t=m.ZP.createFromServer(await (0,g.UM)(u,D)))?i.Y.USER_INSTALL:i.Y.GUILD_INSTALL}try{[o,{disclosures:s,allAcked:c}]=await Promise.all([(0,h.Ww)({clientId:u,scopes:k,responseType:y,redirectUri:v,codeChallenge:C,codeChallengeMethod:S,state:N,integrationType:l,signal:D}),(0,p.de)(u)])}catch(t){let{body:e}=t;throw new O.Z({errorCode:I.lTL.OAUTH2_ERROR},"OAuth2 Authorization Error: ".concat((null==e?void 0:e.message)||"Unknown Error"))}if(x===f.s.NONE&&null!=o&&o.authorized&&c)try{return(await (0,h.Iq)({authorize:!0,clientId:u,scopes:k,responseType:y,redirectUri:v,codeChallenge:C,codeChallengeMethod:S,state:N,nonce:T,integrationType:l})).location}catch(t){let{body:e}=t;throw new O.Z({errorCode:I.lTL.OAUTH2_ERROR},"OAuth2 Authorize Error: ".concat((null==e?void 0:e.message)||"Unknown Error"))}null==n||n(o.application,Z,R);let M=E.Hn;try{M=a.vB(null!=j?j:0)}catch(e){}return null!=o.integration_type&&Object.values(i.Y).includes(o.integration_type)&&(r=new Map).set(o.integration_type,o),t({clientId:u,authorizations:r,scopes:k,parsedPermissions:M,responseType:y,redirectUri:v,codeChallenge:C,codeChallengeMethod:S,state:N,guildId:A,channelId:Z,prompt:x,disableGuildSelect:L,disclosures:s,integrationType:l,pid:R})}function T(e,t){if(e.authorization.accessToken)throw new O.Z({errorCode:I.lTL.INVALID_COMMAND},"Already authenticated");if(e.authorization.authing)throw new O.Z({errorCode:I.lTL.INVALID_COMMAND},"Already authenticating");return e.authorization.authing=!0,o.tn.get({url:I.ANM.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer ".concat(t)},oldFormErrors:!0,rejectWithError:!1}).then(n=>{e.authorization.authing=!1;let{application:r,user:i,scopes:l,expires:a}=n.body;if(e.application.id!==r.id)throw new O.Z({errorCode:I.lTL.INVALID_CLIENTID},"Application does not match the connection's");let o=b.default.getCurrentUser();if(null==o||!i||o.id!==i.id)throw new O.Z({errorCode:I.lTL.INVALID_TOKEN},"Token does not match current user");return e.authorization.scopes=[...e.authorization.scopes,...l,y.wE],e.authorization.accessToken=t,e.authorization.expires=new Date(a),u.Z.dispatch({type:"RPC_APP_AUTHENTICATED",socketId:e.id,application:e.application}),C(v({},n.body),{access_token:t})},()=>{throw new O.Z({errorCode:I.lTL.INVALID_TOKEN},"Invalid access token: ".concat(t))}).catch(t=>{throw e.authorization.authing=!1,t})}function P(e,t){return{[I.Etm.AUTHENTICATE]:(0,s.S)(I.Etm.AUTHENTICATE,{handler(n){let{socket:i,signal:a,args:{access_token:o}}=n;if(null==o&&i.transport===y.He.IPC){let n=i.application.id;if(null==n)throw new O.Z({errorCode:I.lTL.INVALID_COMMAND},"No application.");let s=l.x.IDENTIFY,u=()=>N({client_id:n,scope:s,response_type:"token",signal:a},e,t).then(e=>{if(null==e)throw new O.Z({errorCode:I.lTL.UNKNOWN_ERROR},"Unknown error occurred");let t=e.split(/#|\?/),l=r.parse(t[t.length-1]);if(null!=l.error){var a;throw new O.Z({errorCode:I.lTL.OAUTH2_ERROR},"OAuth2 Error: ".concat(l.error,": ").concat(null!=(a=l.error_description)?a:"unknown error"))}return!function(e,t,n,r){var i;let l=null!=(i=c.K.get(S))?i:{};l[e]={accessToken:t,scope:n,expires:Date.now()+r},c.K.set(S,l)}(n,l.access_token,l.scope,l.expires_in),T(i,l.access_token)});return null!=(o=function(e,t){let n=c.K.get(S);if(null!=n&&null!=n[e]){let r=n[e];if(!(r.scope!==t||r.expires<=Date.now()))return r.accessToken;delete n[e],c.K.set(S,n)}}(n,s))?T(i,o).catch(()=>{var e;let t=null!=(e=c.K.get(S))?e:{};return delete t[n],c.K.set(S,t),u()}):u()}if(null==o)throw new O.Z({errorCode:I.lTL.INVALID_TOKEN},"No access token provided");return T(i,o)}}),[I.Etm.AUTHORIZE]:{handler(n){let{socket:r,signal:i,args:l}=n,a=l.client_id;if(!a)throw new O.Z({errorCode:I.lTL.INVALID_CLIENTID},"No client id provided");if(null!=r.authorization.accessToken)throw new O.Z({errorCode:I.lTL.INVALID_COMMAND},"Already authenticated");if(r.authorization.authing)throw new O.Z({errorCode:I.lTL.INVALID_COMMAND},"Already authing");if(r.authorization.authing=!0,"token"===l.response_type)throw r.authorization.authing=!1,new O.Z({errorCode:I.lTL.INVALID_COMMAND},'Authorization response_type "token" is not supported');if(r.application.id!==a)throw r.authorization.authing=!1,new O.Z({errorCode:I.lTL.INVALID_CLIENTID},"Application does not match the connection's");let o=l.scopes||l.scope;return delete l.scopes,N(C(v({},l),{scope:o,signal:i}),e,t).then(e=>{if(r.authorization.authing=!1,null==e)throw new O.Z({errorCode:I.lTL.UNKNOWN_ERROR},"Unknown error occurred");let t=new URL(e),n=t.searchParams.get("error");if(null!=n&&""!==n){var i;let e=null!=(i=t.searchParams.get("error_description"))?i:"unknown error";throw new O.Z({errorCode:I.lTL.OAUTH2_ERROR},"OAuth2 Error: ".concat(n,": ").concat(e))}let l=t.searchParams.get("code");if(null==l)throw new O.Z({errorCode:I.lTL.OAUTH2_ERROR},"OAuth2 Error: Unable to find auth code");return{code:l}}).catch(e=>{throw r.authorization.authing=!1,e})}}}}},894959:function(e,t,n){n.d(t,{Z:()=>o});var r=n(45792),i=n(914946),l=n(238679),a=n(981631);let o={[a.Etm.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:(0,r.S)(a.Etm.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS,{scope:l.KW,handler(e){let{socket:t}=e;return(0,i.bu)(t.transport),(0,l.dO)()}})}},624714:function(e,t,n){n.d(t,{Z:()=>m}),n(388685),n(997841);var r=n(544891),i=n(115130),l=n(287545),a=n(812206),o=n(695103),s=n(626135),c=n(630388),u=n(996106),d=n(914946),p=n(452426),h=n(561205),f=n(186901),g=n(981631);let m={[g.Etm.SEND_ANALYTICS_EVENT]:{validation:e=>(0,p.Z)(e).required().keys({event_name:e.string().required(),event_properties:(0,p.Z)(e).required()}),handler(e){var t;let{socket:n,args:{event_name:r,event_properties:i}}=e;(0,d.bu)(n.transport),(0,d._f)(n.application);let o=n.application.id,p=(0,h.Z)(),f=null==p?void 0:p.getGuildId();if(null==p)throw new u.Z({errorCode:g.lTL.INVALID_COMMAND},"Invalid channel");let m=a.Z.getApplication(o);if(!(0,c.yE)(null!=(t=null==m?void 0:m.flags)?t:0,g.udG.EMBEDDED_FIRST_PARTY))throw new u.Z({errorCode:g.lTL.INVALID_COMMAND},"This application cannot access this API");let b=(0,l.U)(o),_={activity_application_id:o,activity_channel_type:p.type,activity_guild_id:f,activity_user_session_id:null==b?void 0:b.activityUserSessionId};s.default.track(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},_,i))}},[g.Etm.GET_APPLICATION_TICKET]:{scope:f.lH,handler(e){let{socket:t}=e,n=t.application.id;if(null==n)throw new u.Z({errorCode:g.lTL.INVALID_COMMAND},"No application.");return r.tn.post({url:g.ANM.APPLICATION_TICKET(n),body:{test_mode:o.Z.inTestModeForApplication(n)||i.Z.inDevModeForApplication(n)},retries:3,oldFormErrors:!0,rejectWithError:!1}).then(e=>{let{body:t}=e;return t})}}}},906228:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(243814),i=n(120960),l=n(996106),a=n(452426),o=n(186901),s=n(981631),c=n(65154);let u={[s.Etm.SET_CERTIFIED_DEVICES]:{scope:{[o.Gp.ANY]:[r.x.RPC,o.lH]},validation:e=>(0,a.Z)(e).required().keys({devices:e.array().items((0,a.Z)(e).keys({type:e.string().required().valid([c.h7.AUDIO_INPUT,c.h7.AUDIO_OUTPUT,c.h7.VIDEO_INPUT]),id:e.string().required().min(1),vendor:(0,a.Z)(e).required().keys({name:e.string().min(1),url:e.string().min(1)}),model:(0,a.Z)(e).required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))}),handler(e){let{socket:t,args:{devices:n}}=e;if(null==t.application.id)throw new l.Z({errorCode:s.lTL.INVALID_COMMAND},"No application.");(0,i.N)(t.application.id,n.map(e=>({type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter(e=>n.some(t=>t.id===e)),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute})))}}}},491327:function(e,t,n){n.d(t,{Z:()=>I}),n(388685);var r=n(392711),i=n.n(r),l=n(243814),a=n(447543),o=n(287734),s=n(703656),c=n(131704),u=n(592125),d=n(430824),p=n(496675),h=n(944486),f=n(979651),g=n(934415),m=n(996106),b=n(914946),_=n(452426),E=n(561205),O=n(186901),y=n(981631);let I={[y.Etm.GET_CHANNEL]:{scope:{[O.Gp.ANY]:[l.x.RPC,l.x.GUILDS,l.x.GUILDS_CHANNELS_READ]},handler(e){let{args:{channel_id:t},socket:n}=e,r=u.Z.getChannel(t);if(null==r)throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));if(r.isPrivate()){let e=n.authorization.scopes;if(!e.includes(l.x.RPC)&&!e.includes(l.x.DM_CHANNELS_READ))throw new m.Z({errorCode:y.lTL.INVALID_PERMISSIONS},"Invalid scope")}return(0,b.T5)(r,(0,b.zM)(r,n.application.id,n.authorization.scopes))}},[y.Etm.GET_CHANNELS]:{scope:l.x.RPC,handler(e){let{args:{guild_id:t}}=e,n=i().values(u.Z.loadAllGuildAndPrivateChannelsFromDisk());if(t){let e=d.Z.getGuild(t);if(null==e)throw new m.Z({errorCode:y.lTL.INVALID_GUILD},"Invalid guild id: ".concat(t));n=n.filter(t=>{let{guild_id:n}=t;return n===e.id})}return{channels:n.filter(e=>p.Z.can(y.Plq.VIEW_CHANNEL,e)).map(e=>{let{id:t,name:n,type:r}=e;return{id:t,name:n,type:r}})}}},[y.Etm.GET_CHANNEL_PERMISSIONS]:{scope:{[O.Gp.ANY]:[l.x.GUILDS_MEMBERS_READ,l.x.GUILDS_CHANNELS_READ]},handler(e){let t=(0,E.Z)();if(null==t)throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Invalid channel");return{permissions:p.Z.computePermissions(t)}}},[y.Etm.SELECT_VOICE_CHANNEL]:{scope:l.x.RPC,validation:e=>(0,_.Z)(e).required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60),force:e.boolean(),navigate:e.boolean()}),handler(e){let{server:t,socket:n,args:{channel_id:r,timeout:i=0,force:l=!1,navigate:a=!1}}=e;if(!r)return o.default.selectVoiceChannel(null),null;let _=h.Z.getVoiceChannelId();if(null!=_&&_!==r&&!1===l)throw new m.Z({errorCode:y.lTL.SELECT_VOICE_FORCE_REQUIRED},"User is already joined to a voice channel.");return t.storeWait(n,()=>u.Z.getChannel(r),i).catch(()=>{throw new m.Z({errorCode:y.lTL.SELECT_CHANNEL_TIMED_OUT},"Request to select voice channel timed out.")}).then(e=>{if(null==e)throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(r));if(!(0,c.vd)(e.type))throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,b.T5)(e,(0,b.zM)(e,n.application.id,n.authorization.scopes))])}).then(e=>{let[t,n]=e;if(n.guild_id){if((0,g.rY)(t,f.Z,d.Z))throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Channel is full");if(!p.Z.can(y.Plq.CONNECT,t))throw new m.Z({errorCode:y.lTL.INVALID_PERMISSIONS},"Connect permission required to join channel")}return o.default.selectVoiceChannel(t.id),a&&(0,s.dL)(y.Z5c.CHANNEL(t.guild_id,t.id)),n})}},[y.Etm.GET_SELECTED_VOICE_CHANNEL]:{scope:{[O.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},handler(e){let{socket:t}=e,n=h.Z.getVoiceChannelId(),r=null!=n?u.Z.getChannel(n):null;return null!=r?(0,b.T5)(r,(0,b.zM)(r,t.application.id,t.authorization.scopes)):null}},[y.Etm.SELECT_TEXT_CHANNEL]:{scope:l.x.RPC,validation:e=>(0,_.Z)(e).required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)}),handler(e){let{server:t,socket:n,args:{channel_id:r,timeout:i=0}}=e;return r?t.storeWait(n,()=>u.Z.getChannel(r),i).catch(()=>{throw new m.Z({errorCode:y.lTL.SELECT_CHANNEL_TIMED_OUT},"Request to select text channel timed out.")}).then(e=>{if(null==e)throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(r));if(!(0,c.Qm)(e.type))throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,b.T5)(e,(0,b.zM)(e,n.application.id,n.authorization.scopes))])}).then(e=>{let[t,n]=e;if(n.guild_id&&!p.Z.can(y.Plq.VIEW_CHANNEL,t))throw new m.Z({errorCode:y.lTL.INVALID_CHANNEL},"No permission to see channel");return n.guild_id?(0,s.dL)(y.Z5c.CHANNEL(n.guild_id,t.id)):o.default.selectPrivateChannel(t.id),n}):((0,s.uL)(y.Z5c.ME),null)}},[y.Etm.CREATE_CHANNEL_INVITE]:{scope:l.x.RPC,handler(e){var{args:{channel_id:t}}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e.args,["channel_id"]);return a.ZP.createInvite(t,n,"RPC").catch(()=>{throw new m.Z({errorCode:y.lTL.INVALID_PERMISSIONS},"Unable to generate an invite for ".concat(t,". Does this user have permissions?"))})}}}},934993:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(570140),i=n(996106),l=n(452426),a=n(186901),o=n(981631);let s={[o.Etm.SET_CONFIG]:{scope:a.wE,validation:e=>(0,l.Z)(e).required().keys({use_interactive_pip:e.boolean()}),handler(e){let{socket:t,args:{use_interactive_pip:n}}=e;if(t.transport!==a.He.POST_MESSAGE)throw new i.Z({errorCode:o.lTL.INVALID_COMMAND},'command not available from "'.concat(t.transport," transport"));if(null==t.application.id)throw new i.Z({errorCode:o.lTL.INVALID_COMMAND},"invalid application");return r.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_CONFIG",applicationId:t.application.id,config:{useInteractivePIP:n}}),Promise.resolve({use_interactive_pip:n})}}}},576027:function(e,t,n){n.d(t,{A:()=>C});var r=n(894959),i=n(624714),l=n(906228),a=n(491327),o=n(934993),s=n(793839),c=n(758177),u=n(97375),d=n(853678),p=n(378410),h=n(468136),f=n(64974),g=n(83567),m=n(906911),b=n(647656),_=n(918940),E=n(265067),O=n(881393),y=n(905534),I=n(273487),v=n(543815);let C=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},i.Z,l.Z,a.Z,o.Z,s.Z,c.Z,u.Z,d.Z,p.Z,h.Z,g.Z,m.Z,b.Z,_.Z,O.Z,y.Z,v.Z,I.Z,f.Z,E.Z,r.Z)},793839:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(392711),i=n.n(r),l=n(243814),a=n(430824),o=n(996106),s=n(452426),c=n(981631);let u={[c.Etm.GET_GUILD]:{scope:l.x.RPC,validation:e=>(0,s.Z)(e).required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)}),handler(e){let{socket:t,server:n,args:{guild_id:r,timeout:i=0}}=e;return n.storeWait(t,()=>a.Z.getGuild(r),i).catch(()=>{throw new o.Z({errorCode:c.lTL.GET_GUILD_TIMED_OUT},"Request to get guild timed out.")}).then(e=>{var t;if(null==e)throw new o.Z({errorCode:c.lTL.INVALID_GUILD},"Invalid guild id: ".concat(r));return{id:e.id,name:e.name,icon_url:null!=(t=e.getIconURL(128))?t:null,members:[],vanity_url_code:e.vanityURLCode}})}},[c.Etm.GET_GUILDS]:{scope:l.x.RPC,handler(){let e=a.Z.getGuilds();return{guilds:i().map(e,e=>({id:e.id,name:e.name,icon_url:e.getIconURL(128)}))}}}}},758177:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var r=n(594174),i=n(768581),l=n(956664),a=n(996106),o=n(452426),s=n(186901),c=n(981631);let u={[c.Etm.GET_IMAGE]:{scope:s.lH,validation:e=>(0,o.Z)(e).required().keys({type:e.string().required().valid(["user"]),id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])}),handler(e){let t,{args:{type:n,id:o,format:s="png",size:u=128}}=e;if("user"===n){let e=r.default.getUser(o);if(null!=e){t=i.ZP.getUserAvatarURL(e,!1,u,s);let n=window.GLOBAL_ENV.CDN_HOST;null!=n&&-1!==t.indexOf(n)&&(t+="&_=")}else throw new a.Z({errorCode:c.lTL.INVALID_USER},"Invalid user id: ".concat(o))}if(null==t)throw new a.Z({errorCode:c.lTL.INVALID_COMMAND},"No valid type.");return fetch(t).then(e=>e.blob()).then(e=>(0,l.fD)(e)).then(e=>({data_url:e}))}}}},97375:function(e,t,n){n.d(t,{Z:()=>f});var r=n(24917),i=n(106351),l=n(252258),a=n(243814),o=n(45792),s=n(566620),c=n(317381),u=n(592125),d=n(600027),p=n(186901),h=n(231338);let f={[h.Et.INVITE_USER_EMBEDDED]:(0,o.S)(h.Et.INVITE_USER_EMBEDDED,{scope:{[p.Gp.ANY]:[a.x.RELATIONSHIPS_READ]},async handler(e){let t,{socket:n,args:{user_id:a,content:o}}=e,p=n.application.id;if(null==p)throw new r.O({errorCode:h.lT.INVALID_COMMAND},"No application.");let f=c.ZP.getConnectedActivityLocation();if(null==f)throw new r.O({errorCode:h.lT.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity was set using setActivity.");switch(f.kind){case l.E.GUILD_CHANNEL:case l.E.GUILD_CHANNEL_MESSAGE:t=(0,d.T)().channel;break;case l.E.PRIVATE_CHANNEL:case l.E.PRIVATE_CHANNEL_MESSAGE:let g=u.Z.getChannel(f.channel_id);if(null==g)throw new r.O({errorCode:h.lT.INVALID_CHANNEL},"Invalid channel");if(g.type===i.d.DM)throw new r.O({errorCode:h.lT.INVALID_CHANNEL},"Cannot send invite to a DM");t=g;break;default:throw new r.O({errorCode:h.lT.NO_ELIGIBLE_ACTIVITY},"Unsupported activity location")}try{await (0,s.pu)({channelId:t.id,applicationId:p,userId:a,prefixedContent:o,location:"RPC_ACTIVITY_INVITE_USER"})}catch(e){throw new r.O({errorCode:h.lT.UNKNOWN_ERROR},"Failed to invite user")}}})}},853678:function(e,t,n){n.d(t,{Z:()=>N}),n(388685),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749),n(997841);var r=n(45792),i=n(230711),l=n(782568),a=n(636449),o=n(317381),s=n(611577),c=n(840074),u=n(16609),d=n(812206),p=n(12647),h=n(630388),f=n(49012),g=n(358085),m=n(996106),b=n(914946),_=n(452426),E=n(186901),O=n(981631),y=n(701488),I=n(674563);let v=new Set([y.Fu,y.JT]),C=new Set(["www.nytimes.com","apps.apple.com","play.google.com"]),S=new Map([[I.Vt,{trustedHosts:C,trustedUntilEpochMs:new Date("2027-01-15T00:00:00").valueOf()}],[I.fd,{trustedHosts:C,trustedUntilEpochMs:new Date("2027-01-15T00:00:00").valueOf()}],[I.He,{trustedHosts:C,trustedUntilEpochMs:new Date("2027-01-15T00:00:00").valueOf()}]]),N={[O.Etm.OPEN_EXTERNAL_LINK]:{scope:{[E.Gp.ANY]:[E.wE,E.b_]},validation:e=>(0,_.Z)(e).required().keys({url:e.string().required()}),handler(e){let{socket:t,args:{url:n}}=e;(0,b.bu)(t.transport);let r=o.ZP.getCurrentEmbeddedActivity();try{let e=new URL(n),t=e.toString();if(g.isPlatformEmbedded){let e=(0,a.R)()?O.KJ3.ACTIVITY_POPOUT:null;p.Z.focus(e,!0)}let i=d.Z.getApplication(null==r?void 0:r.applicationId),o=(0,u.p)(null==r?void 0:r.location),c=(null==i?void 0:i.id)!==void 0?S.get(i.id):void 0;if(void 0!==c&&c.trustedUntilEpochMs>=Date.now()&&c.trustedHosts.has(e.host))return(0,l.Z)(t),Promise.resolve({opened:!0});return new Promise(e=>(0,f.q)({href:t,shouldConfirm:!0,onConfirm:()=>{(0,l.Z)(t),e({opened:!0})},onCancel:()=>{e({opened:!1})}},void 0,void 0,(0,s.z)({application:i,channelId:o})))}catch(e){throw new m.Z({errorCode:O.lTL.INVALID_COMMAND},"Invalid URL: ".concat(n))}}},[O.Etm.NAVIGATE_TO_CONNECTIONS]:{validation:e=>(0,_.Z)(e),scope:{[E.Gp.ANY]:[E.wE]},handler(e){let{socket:t}=e;(0,b.bu)(t.transport);let n=(0,b._f)(t.application);if(!v.has(n))throw new m.Z({errorCode:O.lTL.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");i.Z.open(O.oAB.CONNECTIONS)}},[O.Etm.SHARE_LINK]:(0,r.S)(O.Etm.SHARE_LINK,{scope:{[E.Gp.ANY]:[E.wE]},handler(e){var t;let{socket:n,args:{custom_id:r,message:i,link_id:l}}=e;(0,b.bu)(n.transport);let a=(0,b._f)(n.application);if(null==a)throw new m.Z({errorCode:O.lTL.INVALID_COMMAND},"No application.");if(!(0,h.yE)(null!=(t=n.application.flags)?t:0,O.udG.EMBEDDED))throw new m.Z({errorCode:O.lTL.INVALID_COMMAND},"This application cannot access this API");return new Promise(e=>{(0,c._)({applicationId:a,customId:r,linkId:l,message:i,onShare:(t,n)=>{e({success:n||t,didCopyLink:n,didSendMessage:t})}})})}})}},378410:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(710845),i=n(914946),l=n(452426),a=n(981631);let o=new r.Z(a.BZL),s={[a.Etm.CAPTURE_LOG]:{validation:e=>(0,l.Z)(e).required().keys({level:e.string().max(10).required(),message:e.string().max(1e3).required()}),handler(e){let{socket:t,args:{level:n,message:r}}=e;(0,i.bu)(t.transport);let l=t.application.id,a="".concat(l," - ").concat(r);switch(n){case"log":o.log(a);break;case"warn":o.warn(a);break;case"debug":o.verbose(a);break;case"info":o.info(a);break;case"error":o.error(a)}}}}},468136:function(e,t,n){n.d(t,{Z:()=>o}),n(388685);var r=n(544891),i=n(626135),l=n(186901),a=n(981631);let o={[a.Etm.GET_NETWORKING_CONFIG]:{scope:l.lH,handler:()=>Promise.all([r.tn.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3,rejectWithError:!1}).then(e=>{let{body:{address:t}}=e;return t}),r.tn.post({url:a.ANM.NETWORKING_TOKEN,retries:3,oldFormErrors:!0,rejectWithError:!1}).then(e=>{let{body:{token:t}}=e;return t})]).then(e=>{let[t,n]=e;return{address:t,token:n}})},[a.Etm.NETWORKING_SYSTEM_METRICS]:{scope:l.lH,handler(e){let{socket:t,args:n}=e;n.application_id=t.application.id,i.default.track(a.rMx.NETWORKING_SYSTEM_METRICS,n)}},[a.Etm.NETWORKING_PEER_METRICS]:{scope:l.lH,handler(e){let{socket:t,args:n}=e;n.application_id=t.application.id,i.default.track(a.rMx.NETWORKING_PEER_METRICS,n)}},[a.Etm.NETWORKING_CREATE_TOKEN]:{scope:l.lH,handler:()=>r.tn.post({url:a.ANM.NETWORKING_TOKEN,retries:1,oldFormErrors:!0,rejectWithError:!1}).then(e=>e.body)}}},64974:function(e,t,n){n.d(t,{Z:()=>r});let r={[n(231338).Et.GET_PLATFORM_BEHAVIORS]:{handler:()=>({iosKeyboardResizesView:!0})}}},83567:function(e,t,n){n.d(t,{Z:()=>b}),n(388685);var r=n(570140),i=n(457330),l=n(726542),a=n(231757),o=n(553795),s=n(585483),c=n(996106),u=n(914946),d=n(452426),p=n(186901),h=n(981631),f=n(701488),g=n(231338);let m=new Set([f.Fu,f.JT]),b={[g.Et.GET_PROVIDER_ACCESS_TOKEN]:{scope:{[p.Gp.ANY]:[p.wE]},validation:e=>(0,d.Z)(e).required().keys({provider:e.string().required(),connection_redirect:e.string()}),handler:e=>{let{socket:t,args:{provider:n,connection_redirect:d}}=e;(0,u.bu)(t.transport);let p=(0,u._f)(t.application),f=l.Z.get(n);if(null==f)throw new c.Z({errorCode:g.lT.INVALID_PROVIDER},'Platform not found for provider "'.concat(n,'"'));if(n===h.ABu.AMAZON_MUSIC){if(!m.has(p))throw new c.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application")}else throw new c.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");return new Promise(async(e,t)=>{let l=o.Z.getAccount(null,n);if(null==l){function u(t){var n;if(null==f)return;let r=(null!=(n=t.accounts)?n:[]).find(e=>e.type===f.type);null!=r&&(e({access_token:r.access_token}),m())}function p(){t(new c.Z({errorCode:g.lT.OAUTH2_ERROR},'OAuth2 setup for "'.concat(n,'" failed'))),m()}function m(){r.Z.unsubscribe("USER_CONNECTIONS_UPDATE",u),s.S.unsubscribe(h.CkL.CONNECTIONS_CALLBACK_ERROR,p)}r.Z.subscribe("USER_CONNECTIONS_UPDATE",u),s.S.subscribe(h.CkL.CONNECTIONS_CALLBACK_ERROR,p),(0,a.Z)({platformType:f.type,location:h.Sbl.ACTIVITY_RPC,successRedirect:d})}else try{let t=await i.Z.refreshAccessToken(f.type,l.id);if(null==t)throw new c.Z({errorCode:g.lT.OAUTH2_ERROR},"Refreshing access token did not return a new access token");e({access_token:t})}catch(e){t(e)}})}},[g.Et.MAYBE_GET_PROVIDER_ACCESS_TOKEN]:{scope:{[p.Gp.ANY]:[p.wE]},validation:e=>(0,d.Z)(e).required().keys({provider:e.string().required()}),handler:async e=>{let{socket:t,args:{provider:n}}=e;(0,u.bu)(t.transport);let r=(0,u._f)(t.application),a=l.Z.get(n);if(null==a)throw new c.Z({errorCode:g.lT.INVALID_PROVIDER},'Platform not found for provider "'.concat(n,'"'));if(n===h.ABu.AMAZON_MUSIC){if(!m.has(r))throw new c.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application")}else throw new c.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");let s=o.Z.getAccount(null,n);if(null==s)throw new c.Z({errorCode:g.lT.NO_CONNECTION_FOUND},"No connection found");let d=await i.Z.refreshAccessToken(a.type,s.id);if(null==d)throw new c.Z({errorCode:g.lT.OAUTH2_ERROR},"Refreshing access token did not return a new access token");return{access_token:d}}}}},906911:function(e,t,n){n.d(t,{Z:()=>h});var r=n(392711),i=n.n(r),l=n(243814),a=n(45792),o=n(699516),s=n(594174),c=n(823379),u=n(914946),d=n(186901),p=n(981631);let h={[p.Etm.GET_RELATIONSHIPS]:(0,a.S)(p.Etm.GET_RELATIONSHIPS,{scope:{[d.Gp.ANY]:[l.x.RELATIONSHIPS_READ]},handler(e){let t=i().pickBy(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},o.Z.getMutableRelationships()),e=>e!==p.OGo.NONE);return{relationships:i().map(t,(t,n)=>{let r=s.default.getUser(n);if(null==r)return null;let i=(0,u._J)(t,r);return(0,u.kb)(i,e.socket.application.id)}).filter(c.lm)}}})}},647656:function(e,t,n){n.d(t,{Z:()=>m}),n(388685),n(997841),n(415506),n(35282);var r=n(392711),i=n.n(r),l=n(243814),a=n(570140),o=n(212517),s=n(626135),c=n(81063),u=n(70956),d=n(996106),p=n(452426),h=n(186901),f=n(981631);let g=["349134787773988865"],m={[f.Etm.SET_ACTIVITY]:{scope:{[h.Gp.ANY]:[l.x.RPC,l.x.RPC_ACTIVITIES_WRITE,h.lH]},validation:e=>(0,p.Z)(e).required().keys({pid:e.number().min(0),activity:(0,p.Z)(e).keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:(0,p.Z)(e).keys({start:e.number().min(1),end:e.number().min(1)}),assets:(0,p.Z)(e).keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),small_text:e.string().min(2).max(128)}),party:(0,p.Z)(e).keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(0)).length(2),privacy:e.number().default(f.RYY.PRIVATE).valid([f.RYY.PRIVATE,f.RYY.PUBLIC])}),secrets:(0,p.Z)(e).keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),buttons:e.array().items((0,p.Z)(e).keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(f.IIU.PLAYING).valid(f.IIU.PLAYING,f.IIU.LISTENING,f.IIU.WATCHING,f.IIU.COMPETING)}).allow(null)}),handler(e){var t;let n,{socket:r,args:{pid:l,activity:p},isSocketConnected:m}=e;if(![h.He.IPC,h.He.WEBSOCKET,h.He.POST_MESSAGE].includes(r.transport))throw new d.Z({errorCode:f.lTL.INVALID_COMMAND},'command not available from "'.concat(r.transport,'" transport'));if(null==l&&h.He.IPC===r.transport)throw new d.Z({errorCode:f.lTL.INVALID_COMMAND},"nonzero pid required");if(null==p)return a.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:r.id,pid:l,activity:p}),Promise.resolve(p);let b={};p.name=r.application.name,p.application_id=r.application.id;let _=r.transport===h.He.POST_MESSAGE,E=(0,o.S5)(p,_);E>0&&(p.flags=E),delete p.instance,null==(t=p.party)||delete t.privacy;let{assets:O,party:y,secrets:I,timestamps:v,buttons:C,type:S}=p;if(null==S&&(p.type=f.IIU.PLAYING),null!=I){let e=i().values(I).filter(e=>!!e);if(null!=y&&i().intersection(e,[y.id]).length>0&&!g.includes(r.application.id))throw new d.Z({errorCode:f.lTL.INVALID_ACTIVITY_SECRET},"secrets cannot match the party id");if(i().uniq(e).length<e.length)throw new d.Z({errorCode:f.lTL.INVALID_ACTIVITY_SECRET},"secrets must be unique");if(null!=C)throw new d.Z({errorCode:f.lTL.INVALID_ACTIVITY_SECRET},"secrets cannot currently be sent with buttons")}if(null!=C&&(b.button_urls=C.map(e=>e.url),p.buttons=C.map(e=>e.label)),p.metadata=b,null!=v)for(let e of Object.keys(v))Date.now().toString().length-v[e].toString().length>2&&(v[e]=Math.floor(v[e]*u.Z.Millis.SECOND));if(null==O)n=Promise.resolve([]);else{if(null==r.application||null==r.application.id)throw Error();n=(0,c.hR)(r.application.id,[O.large_image,O.small_image])}return n.then(e=>{var t,n;let[i,o]=e;if(null!=O&&(null!=i?O.large_image=i:delete O.large_image,null!=o?O.small_image=o:delete O.small_image),!m())return;a.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:r.id,pid:l,activity:p});let{secrets:c,party:u}=p,d={application_id:r.application.id,type:p.type,name:p.name,details:null!=(t=p.details)?t:"",state:null!=(n=p.state)?n:""};return null!=c&&(d.has_match_secret=!!c.match,d.has_join_secret=!!c.join),null!=O&&(d.has_images=!!(O.large_image||O.small_image)),null!=u&&(d.party_max=null!=u.size&&u.size[1]>0?u.size[1]:void 0,d.party_id=u.id),s.default.track(f.rMx.ACTIVITY_UPDATED,d),p})}}}},918940:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(570140),i=n(996106),l=n(452426),a=n(701488),o=n(231338);let s={[o.Et.SET_ORIENTATION_LOCK_STATE]:{validation:e=>(0,l.Z)(e).required().keys({lock_state:e.number().valid(a.xK.UNLOCKED,a.xK.PORTRAIT,a.xK.LANDSCAPE).required(),picture_in_picture_lock_state:e.number().valid(a.xK.UNLOCKED,a.xK.PORTRAIT,a.xK.LANDSCAPE).allow(null).optional(),grid_lock_state:e.number().valid(a.xK.UNLOCKED,a.xK.PORTRAIT,a.xK.LANDSCAPE).allow(null).optional()}),handler(e){let{socket:t,args:{lock_state:n,picture_in_picture_lock_state:l,grid_lock_state:a}}=e,s=t.application.id;if(null!=s)r.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_ORIENTATION_LOCK_STATE",applicationId:s,lockState:n,pictureInPictureLockState:l,gridLockState:a});else throw new i.Z({errorCode:o.lT.INVALID_COMMAND},"No application.")}}}},265067:function(e,t,n){n.d(t,{Z:()=>m}),n(539854),n(388685);var r=n(243814),i=n(100527),l=n(208049),a=n(763296),o=n(697426),s=n(242291),c=n(641015),u=n(594174),d=n(996106),p=n(452426),h=n(736045),f=n(186901),g=n(231338);let m={[g.Et.GET_SOUNDBOARD_SOUNDS]:{scope:{[f.Gp.ANY]:[r.x.RPC,f.lH]},async handler(){await (0,l.w)();let e=a.Z.getSounds(),t=[];return e.forEach(e=>e.forEach(e=>t.push((0,o.QL)(e)))),t}},[g.Et.PLAY_SOUNDBOARD_SOUND]:{scope:{[f.Gp.ALL]:[r.x.RPC,r.x.RPC_VOICE_WRITE]},validation:e=>(0,p.Z)(e).required().keys({guild_id:e.string(),sound_id:e.string()}),async handler(e){let{args:{guild_id:t,sound_id:n}}=e;await (0,l.w)();let r=u.default.getCurrentUser(),o=a.Z.getSound(t,n),p=(0,h.Z)(),f=null!=o&&null!=r&&(0,s.Nq)(r,o,p);if(null==p)throw new d.Z({errorCode:g.lT.INVALID_CHANNEL},"Invalid Channel.");if(f)if((0,c.Z)(p))null!=o&&(0,s.GN)(o,p.id,[i.Z.RPC]);else throw new d.Z({errorCode:g.lT.INVALID_PERMISSIONS},"Invalid Permissions.");else throw new d.Z({errorCode:g.lT.INVALID_SOUND},"Invalid Sound.")}}}},881393:function(e,t,n){n.d(t,{Z:()=>m}),n(388685),n(539854);var r=n(496929),i=n(16084),l=n(558381),a=n(115130),o=n(106976),s=n(695103),c=n(996106),u=n(334288),d=n(186901),p=n(981631);async function h(e,t){let n=t.filter(e=>e.type===p.epS.SUBSCRIPTION_GROUP),r=await Promise.all(n.map(async t=>await (0,o.rx)(e,t.id))),i=[];return r.forEach(e=>{if(null==e)return null;let n=e.subscription_listings;if(null==n)return null;let r=[];n.forEach(e=>{e.subscription_plans.forEach(n=>{var i;let l=null==n?void 0:n.price,a=t.find(e=>e.id===n.sku_id);if(null==a)return;let o={id:n.sku_id,name:a.name,type:a.type,price:{amount:l,currency:p.pKx.USD},application_id:e.application_id,flags:e.sku_flags,release_date:null!=(i=a.release_date)?i:null};r.push(o)})}),r.filter(e=>(null==e?void 0:e.price)!=null).forEach(e=>i.push(e))}),i}async function f(e){let{socket:t}=e;(0,u.f)(t.transport);let n=t.application.id;if(null==n)throw new c.Z({errorCode:p.lTL.INVALID_COMMAND},"No application.");if(s.Z.inTestModeForApplication(n)||a.Z.inDevModeForApplication(n)){let e=await i.uE(n,!1),t=await h(n,e);return[...e.filter(e=>null!=e.price),...t]}let r=await l.oJ(n);return[...r.filter(e=>e.sku.type!==p.epS.SUBSCRIPTION_GROUP).map(e=>e.sku).filter(e=>null!=e.price),...await h(n,r.map(e=>e.sku))]}function g(e){let{socket:t}=e;(0,u.f)(t.transport);let n=t.application.id;if(null==n)throw new c.Z({errorCode:p.lTL.INVALID_COMMAND},"No application.");return r.yD(n)}let m={[p.Etm.GET_SKUS]:{[d.Gp.ANY]:[d.wE,d.lH],handler:f},[p.Etm.GET_ENTITLEMENTS]:{[d.Gp.ANY]:[d.wE,d.lH],handler:g},[p.Etm.GET_SKUS_EMBEDDED]:{[d.Gp.ANY]:[d.wE,d.lH],handler:async e=>({skus:await f(e)})},[p.Etm.GET_ENTITLEMENTS_EMBEDDED]:{[d.Gp.ANY]:[d.wE,d.lH],handler:async e=>({entitlements:await g(e)})}}},905534:function(e,t,n){n.d(t,{Z:()=>s}),n(49124),n(358797);var r=n(626135),i=n(996106),l=n(34954),a=n(986768),o=n(981631);let s={[o.Etm.SUBSCRIBE]:{async handler(e){let{server:t,socket:n,evt:s,args:c}=e,u=t.events[s];if(null==u)throw new i.Z({errorCode:o.lTL.INVALID_EVENT},"Invalid event: ".concat(s));if(!(0,l.Z)(n.authorization.scopes,u.scope))throw new i.Z({errorCode:o.lTL.INVALID_PERMISSIONS},"Not authenticated or invalid scope");if(r.default.track(o.rMx.RPC_SUBSCRIPTION_REQUESTED,{event:s,scope:"object"==typeof u.scope?JSON.stringify(u.scope):u.scope,application_id:n.application.id,socket_scope:n.authorization.scopes.toString()}),null!=u.validation){let e=await t.getJoi();if(null!=e.validate(c,u.validation(e),{convert:!1}).error)throw new i.Z({errorCode:o.lTL.INVALID_PAYLOAD},"Invalid subscription parameters provided")}let d=u.handler({args:c,socket:n}),p=(0,a.V)(n,s,c);return new Promise(e=>{setImmediate(()=>{t.addSubscription(n,s,c,d),null!=p&&t.dispatchToSubscriptions(s,e=>e.socket.id===n.id,p)}),e({evt:s})})}},[o.Etm.UNSUBSCRIBE]:{handler(e){let{server:t,socket:n,evt:r,args:l}=e;if(null==t.events[r])throw new i.Z({errorCode:o.lTL.INVALID_EVENT},"Invalid event: ".concat(r));return t.removeSubscription(n,r,l),{evt:r}}}}},273487:function(e,t,n){n.d(t,{Z:()=>l});var r=n(243814),i=n(706454);let l={[n(981631).Etm.USER_SETTINGS_GET_LOCALE]:{scope:r.x.IDENTIFY,handler:()=>({locale:i.default.locale})}}},543815:function(e,t,n){n.d(t,{Z:()=>s});var r=n(45792),i=n(594174),l=n(863141),a=n(186901),o=n(981631);let s={[o.Etm.GET_USER]:(0,r.S)(o.Etm.GET_USER,{scope:{[a.Gp.ANY]:[a.b_,a.lH]},handler(e){let{args:{id:t}}=e,n=i.default.getUser(t);return null==n?null:(0,l.Z)(n)}})}},845752:function(e,t,n){n.d(t,{Z:()=>s});var r=n(392711),i=n.n(r),l=n(243814),a=n(186901),o=n(981631);function s(e,t){return{[o.zMe.VOICE_SETTINGS_UPDATE]:{scope:{[a.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},handler:()=>t=>{let{prevState:n,dispatch:r}=t,l=e();return i().isEqual(l,n)||r(l),l}},[o.zMe.VOICE_SETTINGS_UPDATE_2]:{scope:a.lH,handler(e){let{socket:n}=e;return e=>{let{prevState:r,dispatch:l}=e;if(null==n.application.id)return r;let a=t(n.application.id);return i().isEqual(a,r)||l(a),a}}}}}},13838:function(e,t,n){n.d(t,{Z:()=>A}),n(388685);var r=n(392711),i=n.n(r),l=n(243814),a=n(902704),o=n(812206),s=n(594190),c=n(199902),u=n(592125),d=n(271383),p=n(430824),h=n(131951),f=n(19780),g=n(594174),m=n(979651),b=n(996106),_=n(914946),E=n(238679),O=n(452426),y=n(295424),I=n(222263),v=n(863141),C=n(186901),S=n(981631);let N=e=>(0,O.Z)(e).required().keys({channel_id:e.string().required()});function T(e){var t;let{args:{channel_id:n},socket:r}=e,i=u.Z.getChannel(n);if(null==i||!(0,_.zM)(i,r.application.id,r.authorization.scopes))throw new b.Z({errorCode:S.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(n));if(i.isNSFW()&&(null==(t=g.default.getCurrentUser())?void 0:t.nsfwAllowed)!==!0)throw new b.Z({errorCode:S.lTL.INVALID_CHANNEL},"Invalid nsfw channel id: ".concat(i.id))}let P=e=>(0,O.Z)(e).keys({channel_id:e.string().allow(null)});function j(e){let{args:{channel_id:t}}=e;if(null!=t&&null==u.Z.getChannel(t))throw new b.Z({errorCode:S.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t))}let A={[S.zMe.GUILD_STATUS]:{scope:l.x.RPC,validation:e=>(0,O.Z)(e).required().keys({guild_id:e.string().required()}),handler(e){let{args:{guild_id:t}}=e;if(null==p.Z.getGuild(t))throw new b.Z({errorCode:S.lTL.INVALID_GUILD},"Invalid guild id: ".concat(t));return e=>{var n;let{prevState:r,dispatch:l}=e,a=p.Z.getGuild(t);if(null==a)return;let o={guild:{id:a.id,name:a.name,icon_url:null!=(n=a.getIconURL(128))?n:null},online:0};return i().isEqual(r,o)||l(o),o}}},[S.zMe.VOICE_STATE_CREATE]:{scope:{[C.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},validation:e=>(0,O.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==u.Z.getChannel(t))throw new b.Z({errorCode:S.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:r}=e,l=u.Z.getChannel(t);if(null==l)return;let a=l.getGuildId(),o=Object.values(m.Z.getVoiceStatesForChannel(l.id));return n&&i().differenceBy(o,n,e=>{let{userId:t}=e;return t}).forEach(e=>r((0,_.aE)(a,l.id,e))),o}}},[S.zMe.VOICE_STATE_DELETE]:{scope:{[C.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},validation:e=>(0,O.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==u.Z.getChannel(t))throw new b.Z({errorCode:S.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:r}=e,l=u.Z.getChannel(t);if(null==l)return;let a=l.getGuildId(),o=Object.values(m.Z.getVoiceStatesForChannel(l.id));return i().differenceBy(n,o,e=>{let{userId:t}=e;return t}).forEach(e=>r((0,_.aE)(a,l.id,e))),o}}},[S.zMe.VOICE_STATE_UPDATE]:{scope:{[C.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},validation:e=>(0,O.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==u.Z.getChannel(t))throw new b.Z({errorCode:S.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:r}=e,l=u.Z.getChannel(t);if(null==l)return;let a=l.getGuildId(),o=Object.values(m.Z.getVoiceStatesForChannel(l.id)).map(e=>(0,_.aE)(a,l.id,e));return i().differenceWith(o,n,i().isEqual).forEach(e=>r(e)),o}}},[S.zMe.VOICE_CONNECTION_STATUS]:{scope:{[C.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,r={state:(0,_.zy)(f.Z.getState()),hostname:f.Z.getHostname(),pings:f.Z.getPings(),average_ping:f.Z.getAveragePing(),last_ping:f.Z.getLastPing()};return i().isEqual(r,t)||n(r),r}},[S.zMe.MESSAGE_CREATE]:{scope:l.x.RPC,validation:N,handler:T},[S.zMe.MESSAGE_UPDATE]:{scope:l.x.RPC,validation:N,handler:T},[S.zMe.MESSAGE_DELETE]:{scope:l.x.RPC,validation:N,handler:T},[S.zMe.SPEAKING_START]:{scope:{[C.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ,C.lH]},validation:P,handler:j},[S.zMe.SPEAKING_STOP]:{scope:{[C.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ,C.lH]},validation:P,handler:j},[S.zMe.GUILD_CREATE]:{scope:l.x.RPC,handler(){}},[S.zMe.CHANNEL_CREATE]:{scope:l.x.RPC,handler(){}},[S.zMe.GAME_JOIN]:{scope:{[C.Gp.ANY]:[l.x.RPC,C.lH]},handler(){}},[S.zMe.GAME_SPECTATE]:{scope:{[C.Gp.ANY]:[l.x.RPC,C.lH]},handler(){}},[S.zMe.ACTIVITY_JOIN]:{scope:{[C.Gp.ANY]:[l.x.RPC,C.wE,C.lH]},handler(){}},[S.zMe.ACTIVITY_JOIN_REQUEST]:{scope:{[C.Gp.ANY]:[l.x.RPC,C.lH]},handler(){}},[S.zMe.ACTIVITY_SPECTATE]:{scope:{[C.Gp.ANY]:[l.x.RPC,C.wE,C.lH]},handler(){}},[S.zMe.ACTIVITY_INVITE]:{scope:{[C.Gp.ANY]:[l.x.RPC,C.lH]},handler(){}},[S.zMe.ACTIVITY_PIP_MODE_UPDATE]:{scope:{[C.Gp.ANY]:[l.x.RPC,C.wE,C.lH]},handler(){}},[S.zMe.ACTIVITY_LAYOUT_MODE_UPDATE]:{scope:{[C.Gp.ANY]:[l.x.RPC,C.wE,C.lH]},handler(){}},[S.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:E.gQ,[S.zMe.THERMAL_STATE_UPDATE]:{scope:{[C.Gp.ANY]:[C.wE]},handler(){}},[S.zMe.ORIENTATION_UPDATE]:{scope:{[C.Gp.ANY]:[C.wE]},handler(){}},[S.zMe.VOICE_CHANNEL_SELECT]:{scope:l.x.RPC,handler(){}},[S.zMe.NOTIFICATION_CREATE]:{scope:{[C.Gp.ALL]:[l.x.RPC,l.x.RPC_NOTIFICATIONS_READ]},handler(){}},[S.zMe.RELATIONSHIP_UPDATE]:{scope:l.x.RELATIONSHIPS_READ,handler(){}},[S.zMe.CURRENT_USER_UPDATE]:{scope:{[C.Gp.ANY]:[C.lH,l.x.IDENTIFY]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,r={currentUser:g.default.getCurrentUser()};return null==r.currentUser||null!=t&&(0,a.Z)(r,t)||n((0,v.Z)(r.currentUser)),r}},[S.zMe.CURRENT_GUILD_MEMBER_UPDATE]:{scope:{[C.Gp.ALL]:[l.x.IDENTIFY,l.x.GUILDS_MEMBERS_READ]},handler(e){let{args:{guild_id:t}}=e;return e=>{let{prevState:n,dispatch:r}=e,i={currentGuildMember:d.ZP.getSelfMember(t)};return null==i.currentGuildMember||null!=n&&(0,a.Z)(i,n)||r((0,I.Z)(i.currentGuildMember)),i}}},[S.zMe.ENTITLEMENT_CREATE]:{scope:{[C.Gp.ANY]:[C.lH,C.wE]},handler(){}},[S.zMe.ENTITLEMENT_DELETE]:{scope:{[C.Gp.ANY]:[C.lH,C.wE]},handler(){}},[S.zMe.SCREENSHARE_STATE_UPDATE]:{scope:{[C.Gp.ALL]:[C.lH,l.x.RPC_SCREENSHARE_READ]},handler:()=>e=>{var t;let{prevState:n,dispatch:r}=e,l=c.Z.getStreamerActiveStreamMetadata(),a=(null==l?void 0:l.pid)!=null?s.ZP.getGameForPID(l.pid):null,u=(null==a?void 0:a.id)!=null?o.Z.getApplication(a.id):null,d=null!=u?(0,y.Z)(u):null,p=null==l?void 0:l.sourceName,h={active:null!=l,pid:null!=(t=null==l?void 0:l.pid)?t:null,application:null!=d?{name:p}:null};return i().isEqual(h,n)||r(h),h}},[S.zMe.VIDEO_STATE_UPDATE]:{scope:{[C.Gp.ALL]:[C.lH,l.x.RPC_VIDEO_READ]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,r={active:h.Z.isVideoEnabled()};return i().isEqual(r,t)||n(r),r}}}},986768:function(e,t,n){n.d(t,{V:()=>s});var r=n(317381),i=n(107105);n(817938);var l=n(238679),a=n(981631),o=n(701488);function s(e,t,n){var s,c;switch(t){case a.zMe.ACTIVITY_PIP_MODE_UPDATE:{let t=null==(s=e.application)?void 0:s.id,n=null!=t?r.ZP.getLayoutModeForApp(t):null;return null!=n?{is_pip_mode:n!==o.cE.FOCUSED}:null}case a.zMe.ACTIVITY_LAYOUT_MODE_UPDATE:{let t=null==(c=e.application)?void 0:c.id,n=null!=t?r.ZP.getLayoutModeForApp(t):null;return null!=n?{layout_mode:n}:null}case a.zMe.THERMAL_STATE_UPDATE:{let e=(0,i.bY)();if(e===i.bG.UNHANDLED)return null;return{thermal_state:e}}case a.zMe.ORIENTATION_UPDATE:return null;case a.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE:return(0,l.dO)();default:return null}}},76238:function(e,t,n){n.d(t,{Z:()=>s});var r=n(392711),i=n.n(r),l=n(996106),a=n(981631);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{checkRpcVersion(e){if(null==e||e>a.X6Q||e<1)throw new l.Z({closeCode:a.$VG.INVALID_VERSION},"Invalid Version: ".concat(e))}constructor(e,t,n){o(this,"transport",void 0),o(this,"version",void 0),o(this,"encoding",void 0),o(this,"id",void 0),o(this,"authorization",void 0),o(this,"application",void 0),this.transport=e,this.version=t,this.encoding=n,this.id=i().uniqueId(),this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)},this.application={id:null,name:null,icon:null},this.checkRpcVersion(t)}}},915357:function(e,t,n){n.d(t,{Z:()=>c});var r=n(996106),i=n(631467),l=n(76238),a=n(186901),o=n(981631);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends l.Z{send(e){var t;null==(t=this.onSendingToRPCClient)||t.call(this,e,this.id),this.postMessageToRPCClient([i.Z.FRAME,e],this.origin)}close(e,t){this.closed||this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient),this.closed=!0}constructor({origin:e,postMessageToRPCClient:t,frameId:n,version:i,encoding:l,logger:c,postClose:u,onSendingToRPCClient:d}){if(super(a.He.POST_MESSAGE,i,l),s(this,"origin",void 0),s(this,"frameId",void 0),s(this,"postMessageToRPCClient",void 0),s(this,"logger",void 0),s(this,"postClose",void 0),s(this,"onSendingToRPCClient",void 0),s(this,"closed",void 0),-1===["etf","json"].indexOf(l))throw new r.Z({closeCode:o.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(l));if("etf"===l)throw new r.Z({closeCode:o.$VG.INVALID_ENCODING},"Erlpack cannot be used on this client");this.origin=e,this.postMessageToRPCClient=t,this.frameId=n,this.logger=c,this.postClose=u,this.onSendingToRPCClient=d,this.closed=!1}}},46832:function(e,t,n){n.d(t,{Z:()=>E}),n(388685),n(539854);var r=n(836560),i=n(317381),l=n(16609),a=n(626135),o=n(585483),s=n(70956),c=n(996106),u=n(631467),d=n(452426),p=n(186901),h=n(981631);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=10*s.Z.Millis.SECOND,m=new Map,b=new Set,_=(e,t,n)=>{n([u.Z.CLOSE,t],e)};class E extends r.EventEmitter{routeEvent(e,t,n,r){if(!Array.isArray(n))return void console.warn("[PostMessageTransport] Protocol error: event data should be an Array!");let[i,l]=n;switch(i){case u.Z.HANDSHAKE:if(null!=e)throw new c.Z({closeCode:h.$VG.CLOSE_UNSUPPORTED},"Already connected");return this.handleHandshake(t,l,r);case u.Z.FRAME:if(null==e)throw new c.Z({closeCode:h.$VG.CLOSE_UNSUPPORTED},"Not connected");return this.handleFrame(t,e,l);case u.Z.CLOSE:if(null==e)throw new c.Z({closeCode:h.$VG.CLOSE_UNSUPPORTED},"Not connected");return this.handleClose(e,l);default:throw new c.Z({closeCode:h.$VG.CLOSE_UNSUPPORTED},"Invalid opcode")}}constructor(e,t,r,s){var u;super(),u=this,f(this,"validateSocketClient",void 0),f(this,"logger",void 0),f(this,"createPostMessageProxySocket",void 0),f(this,"onFrameHandled",void 0),f(this,"handshakeFailureTimeoutId",void 0),f(this,"disconnectSocket",function(e,t){var n,r;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u.emit("disconnect",e,i?void 0:t),e.close(t.code,null!=(n=t.message)?n:"Unknown");let[l]=null!=(r=Array.from(m.entries()).find(t=>{let[n,r]=t;return r===e}))?r:[null,null];null!=l&&m.delete(l)}),f(this,"handleIFrameMount",e=>{let{id:t}=e;b.add(t),this.handshakeFailureTimeoutId=setTimeout(()=>{Array.from(i.ZP.getSelfEmbeddedActivities().entries()).forEach(e=>{let[t,n]=e;a.default.track(h.rMx.ACTIVITY_HANDSHAKE_TIMED_OUT,{application_id:t,channel_id:(0,l.p)(n.location),guild_id:(0,l.j)(n.location),timeout_ms:g})})},g)}),f(this,"handleIFrameUnmount",e=>{var t;let{id:n}=e;b.delete(n);let[r,i]=null!=(t=Array.from(m.entries()).find(e=>{let[t,r]=e;return r.frameId===n}))?t:[null,null];null!=i&&null!=r&&(this.disconnectSocket(i,{code:h.$VG.CLOSE_NORMAL,message:"iFrame gone"},!0),m.delete(r))}),f(this,"handleMessage",(e,t,n)=>{let r=m.get(t);try{this.routeEvent(r,t,e,n)}catch(e){if(e instanceof c.Z&&e.errorCode===h.lTL.INVALID_PAYLOAD)throw e;null!=r?this.disconnectSocket(r,{code:e.code,message:e.message},!0):_(t,{code:e.code,message:e.message},n)}}),f(this,"handleFrame",(e,t,n)=>{var r;let i;if(e!==t.origin)throw new c.Z({closeCode:h.$VG.INVALID_ORIGIN},"Origin has changed");try{i="string"==typeof n?JSON.parse(n):n}catch(e){throw new c.Z({closeCode:h.$VG.CLOSE_UNSUPPORTED},"Payload not recognized encoding")}null==(r=this.onFrameHandled)||r.call(this,i,this.logger,t),this.emit("request",t,i)}),f(this,"handleHandshake",async(e,t,r)=>{let i;null!=this.handshakeFailureTimeoutId&&clearTimeout(this.handshakeFailureTimeoutId);let l=(await n.e("85441").then(n.t.bind(n,826753,23))).default;try{l.assert(t,(0,d.Z)(l).required().keys({v:l.number().min(1).max(1).required(),encoding:l.string().equal("json").optional(),client_id:l.string().required(),frame_id:l.string().required(),sdk_version:l.string().optional()}))}catch(e){throw new c.Z({closeCode:h.$VG.CLOSE_UNSUPPORTED},e.message)}let o=t.frame_id;if(!b.has(o))throw this.logger.error("Unrecognized frame ID ".concat(o)),new c.Z({closeCode:h.$VG.CLOSE_UNSUPPORTED},"Unrecognized frame ID ".concat(o));null!=t.sdk_version&&a.default.track(h.rMx.ACTIVITY_HANDSHAKE,{application_id:t.client_id,sdk_version:t.sdk_version});try{var s;i=this.createPostMessageProxySocket({origin:e,postMessageToRPCClient:r,frameId:o,version:Number(t.v),logger:this.logger,postClose:_,encoding:null!=(s=t.encoding)?s:"json"})}catch(e){throw this.logger.error("Error opening window socket ".concat(e)),e}this.logger.info("Socket Opened: ".concat(i.id));try{if(await this.validateSocketClient(i,e,t.client_id),!b.has(o))throw this.logger.error("Frame ID ".concat(o," no longer exists")),new c.Z({closeCode:h.$VG.CLOSE_UNSUPPORTED},"Unrecognized frame ID ".concat(o));m.set(e,i),b.delete(o),i.authorization.scopes.push(p.b_),this.emit("connect",i),this.logger.info("Socket Validated: ".concat(i.id))}catch(e){throw this.logger.info("Socket Closed: ".concat(i.id,", ").concat(e.message)),e}}),f(this,"handleClose",async(e,t)=>{let r=(await n.e("85441").then(n.t.bind(n,826753,23))).default;try{r.assert(t,(0,d.Z)(r).required().keys({code:r.number().valid(Object.values(h.$VG)).required(),message:r.string().optional()}))}catch(e){throw new c.Z({closeCode:h.$VG.CLOSE_UNSUPPORTED},e.message)}this.disconnectSocket(e,t)}),o.S.subscribe(h.CkL.IFRAME_MOUNT,this.handleIFrameMount),o.S.subscribe(h.CkL.IFRAME_UNMOUNT,this.handleIFrameUnmount),this.validateSocketClient=e,this.logger=t,this.createPostMessageProxySocket=r,this.onFrameHandled=s}}},30643:function(e,t,n){n.d(t,{Z:()=>T}),n(388685);var r=n(237997),i=n(998502),l=n(576027),a=n(13838),o=n(812967),s=n(350085),c=n(910484),u=n(443952),d=n(266572),p=n(177698),h=n(121826),f=n(753335),g=n(567481),m=n(498164),b=n(885381),_=n(111097),E=n(908711),O=n(197941),y=n(462414),I=n(662194),v=n(188861);function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let S=C({},l.A,u.Z,d.Z,h.Z,f.Z,g.Z,m.Z,b.Z,_.Z,O.Z,I.Z,y.Z,p.Z,E.Z),N=C({},a.Z,s.M,c.n),T={server:o.Z,commands:S,events:N,stores:[r.default],transports:[v.Z],registerTransportsForEmbeddedPlatform:function(){i.ZP.ensureModule("discord_rpc").then(()=>{for(let e of[n(178318).Z,n(967351).Z])o.Z.registerTransport(e)})}}},350085:function(e,t,n){n.d(t,{M:()=>d});var r=n(392711),i=n.n(r),l=n(283595),a=n(808506),o=n(237997),s=n(996106),c=n(186901),u=n(981631);let d={[u.zMe.OVERLAY_UPDATE]:{scope:c.lH,handler(e){let{args:{pid:t},socket:n}=e;if("number"!=typeof t||t<10)throw new s.Z({errorCode:u.lTL.INVALID_EVENT},"Invalid pid");return e=>{let{prevState:r,dispatch:s}=e,c=a.default.enabled,u=!0,d=n.application.id;if(null!=d){let e=l.Z.getActiveLibraryApplication(d);null!=e&&(c=c&&e.isOverlayEnabled()),u=o.default.isLocked(t)}let p={enabled:c,locked:u};return i().isEqual(p,r)||s(p),p}}}}},910484:function(e,t,n){n.d(t,{n:()=>l});var r=n(845752),i=n(852926);let l=(0,r.Z)(i._X,i.GC)},852926:function(e,t,n){n.d(t,{GC:()=>_,_X:()=>b,br:()=>f,em:()=>m,jU:()=>g});var r=n(13245),i=n(615287),l=n(371651),a=n(610394),o=n(998502),s=n(13140),c=n(996106),u=n(914946),d=n(186901),p=n(981631);let h=["207646673902501888"];function f(e){return null!=e&&l.default.isOverlayOOPEnabledForPid(e)&&a.ZP.isReady(e)&&a.ZP.getOverlayState(e)===i.mM.OVERLAY_RENDERING}function g(e){return null==e?{lock:p.VqG,context:p.IlC.APP}:f(e)?(r.Z.setInputLocked(!1,e),{lock(){r.Z.setInputLocked(!0,e)},context:p.IlC.POPOUT}):(o.ZP.focus(null,!0),{lock(){o.ZP.setForegroundProcess(e)},context:p.IlC.APP})}let m=async(e,t,n)=>{if((0,u.YK)(e,t),(null==n||""===n)&&(0,u.s9)(t))return e.authorization.scopes=[d.cE,d.CN],Promise.resolve();if(null==n||""===n)return Promise.reject(new c.Z({closeCode:p.$VG.INVALID_CLIENTID},"No Client ID Specified"));let r=o.ZP.releaseChannel!==p.R5N.CANARY&&!h.includes(n)&&e.transport!==d.He.POST_MESSAGE;return await (0,u.vv)(n,r),(0,u.YS)(e,n,t)},b=()=>(0,u.tr)(e=>{let t=[];return null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=e.modeOptions.shortcut.map(e=>{var t;return{type:e[0],code:e[1],name:null!=(t=(0,s.H9)(e))?t:"unknown"}})),t}),_=e=>(0,u.FJ)(e,e=>{let t="";return null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,s.BB)(e.modeOptions.shortcut)),t})},298969:function(e,t,n){n.d(t,{Z:()=>l});var r=n(606271),i=n(30643);let l=new r.Z(i.Z)},443952:function(e,t,n){n.d(t,{Z:()=>G}),n(388685),n(415506),n(997841);var r=n(255367);n(73800);var i=n(243814),l=n(45792),a=n(481060),o=n(278323),s=n(24124),c=n(224706),u=n(45114),d=n(479531),p=n(40851),h=n(636449),f=n(566620),g=n(531826),m=n(596223),b=n(838195),_=n(333861),E=n(928518),O=n(23750),y=n(592125),I=n(293273),v=n(885110),C=n(451478),S=n(630388),N=n(823379),T=n(709054),P=n(591759),j=n(228488),A=n(996106),Z=n(914946),x=n(452426),L=n(561205),w=n(600027),R=n(852926),D=n(186901),k=n(981631),M=n(701488);async function U(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=I.Z.getApplicationActivity(t);if(null==l||null==l.secrets||!(0,Z.t9)(r,l.party,l.secrets))throw new A.Z({errorCode:k.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");let a=(0,m.Z)(l,v.Z);if(a){let{lock:t}=(0,R.jU)(e);return(0,s.h7)(l,a).then(()=>{throw t(),new A.Z({errorCode:k.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure user does have have privacy enabled.")})}await o.Z.sendActivityInviteUser({userId:n,type:r,activity:l,content:i,location:"In-Game Invite"})}let G={[k.Etm.SEND_ACTIVITY_JOIN_INVITE]:{scope:{[D.Gp.ANY]:[i.x.RPC,D.lH]},handler(e){let{socket:t,args:{user_id:n,pid:r}}=e,i=t.application.id;if(null==i)throw new A.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");return U(r,i,n,k.mFx.JOIN)}},[k.Etm.CLOSE_ACTIVITY_JOIN_REQUEST]:{scope:{[D.Gp.ANY]:[i.x.RPC,D.lH]},handler(e){let{args:{user_id:t}}=e,n=y.Z.getDMFromUserId(t);null!=n&&(0,u.In)(n,{section:k.jXE.CLOSE_ACTIVITY_JOIN_REQUEST_RPC_COMMAND,object:k.qAy.ACK_DECLINE_REQUEST_TO_JOIN,objectType:k.Qqv.ACK_SEMI_AUTOMATIC},!0,!0)}},[k.Etm.ACTIVITY_INVITE_USER]:{scope:{[D.Gp.ANY]:[i.x.RPC,D.lH]},validation:e=>(0,x.Z)(e).required().keys({user_id:e.string().required(),type:e.number().required().valid([k.mFx.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()}),handler(e){let{socket:t,args:{type:n,user_id:r,content:i,pid:l}}=e,a=t.application.id;if(null==a)throw new A.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");return U(l,a,r,n,i)}},[k.Etm.ACCEPT_ACTIVITY_INVITE]:{scope:{[D.Gp.ANY]:[i.x.RPC,D.lH]},validation:e=>(0,x.Z)(e).required().keys({type:e.number().required().valid([k.mFx.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()}),handler(e){let{socket:t,args:{type:n,user_id:r,session_id:i,channel_id:l,message_id:a}}=e,o=t.application.id;if(null==o)throw new A.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");let s=Promise.resolve(!1);return n===k.mFx.JOIN&&(s=c.Z.join({userId:r,sessionId:i,applicationId:o,channelId:l,messageId:a})),s.then(e=>{if(!e)throw new A.Z({errorCode:k.lTL.INVALID_INVITE},"Invite is expired or invalid.")})}},[k.Etm.OPEN_INVITE_DIALOG]:{scope:{[D.Gp.ANY]:[i.x.RPC,D.lH,D.wE]},handler(e){let{socket:t}=e,i=t.application;if(null==i.id)throw new A.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");let{channel:l,guild:o}=(0,w.T)(),s=(0,g.ZP)({application:t.application,channelId:null==l?void 0:l.id}),c=null!=s?E.Z.getWindow(s):void 0;(null==c?void 0:c.closed)&&(c=void 0);let u=null!=c?k.IlC.POPOUT:k.IlC.APP;(0,j.Pr)({},null==c?void 0:c.document),(0,a.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("17439")]).then(n.bind(n,560114));return t=>{var n,a;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),a=a={guild:o,channel:l,applicationId:i.id,analyticsLocation:k.Sbl.ACTIVITY_RPC,source:k.t4x.ACTIVITY_INVITE},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}),n))}},{contextKey:u===k.IlC.POPOUT?a.u1M:a.z1l})}},[k.Etm.INITIATE_IMAGE_UPLOAD]:(0,l.S)(k.Etm.INITIATE_IMAGE_UPLOAD,{scope:{[D.Gp.ANY]:[i.x.RPC,D.lH,D.wE]},handler(e){var t;let{socket:n}=e,r=n.application.id;if(null==r)throw new A.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");let i=null==(t=(0,L.Z)())?void 0:t.id;if(null==i)throw new A.Z({errorCode:k.lTL.UNKNOWN_ERROR},"Unable to find selected channel");return new Promise((e,t)=>{!function(e,t){let n;if((0,h.R)())n=E.Z.getWindow(k.KJ3.ACTIVITY_POPOUT);else{var r;let e=C.Z.getLastFocusedWindowId();n=null==e?null:null==(r=(0,p.g0)(e))?void 0:r.renderWindow}if(null==n)throw new A.Z({errorCode:k.lTL.UNKNOWN_ERROR},"No valid window found");let i=n.document.createElement("input");i.style.display="none",i.type="file",i.accept="image/jpeg, image/jpg, image/png, image/gif";let l=()=>{(null==i.files||0===i.files.length)&&t(),n.document.body.removeEventListener("focus",l,!0),setTimeout(()=>{n.document.body.removeChild(i)},1e3)};i.addEventListener("change",()=>{(0,N.lm)(i.files)&&e(i.files[0]),l()}),i.addEventListener("cancel",()=>{l()}),n.document.body.addEventListener("focus",l,!0),n.document.body.appendChild(i),i.click()}(async n=>{let l=await (0,f.kv)(r,i,n);(0,N.lm)(l)&&(0,N.lm)(l.url)&&!(l instanceof d.Z)?e({image_url:l.url}):t(l)},()=>t(Error("Upload canceled")))}).catch(e=>{var t;throw new A.Z({errorCode:k.lTL.UNKNOWN_ERROR},null!=(t=null==e?void 0:e.message)?t:"Failed to upload image")})}}),[k.Etm.OPEN_SHARE_MOMENT_DIALOG]:(0,l.S)(k.Etm.OPEN_SHARE_MOMENT_DIALOG,{scope:{[D.Gp.ANY]:[D.wE]},handler(e){var t;let{socket:n,args:{mediaUrl:r}}=e;(0,Z.bu)(n.transport);let i=n.application.id;if(null==i)throw new A.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");if(!(0,S.yE)(null!=(t=n.application.flags)?t:0,k.udG.EMBEDDED))throw new A.Z({errorCode:k.lTL.INVALID_COMMAND},"This application cannot access this API");let l=(0,L.Z)();if(null==l)throw new A.Z({errorCode:k.lTL.INVALID_COMMAND},"No channel found");if(!P.Z.isDiscordCdnUrl(r))throw new A.Z({errorCode:k.lTL.INVALID_PAYLOAD},"mediaUrl must be a Discord CDN url");(0,b.Z)({applicationId:i,channelId:l.id,mediaUrl:r})}}),[k.Etm.SHARE_INTERACTION]:(0,l.S)(k.Etm.SHARE_INTERACTION,{scope:{[D.Gp.ANY]:[D.wE,D.lH]},handler(e){var t;let n,{socket:r,args:{command:i,preview_image:l,components:o,require_launch_channel:s,content:c,options:u,pid:d}}=e,p=r.application.id;if(null==p)throw new A.Z({errorCode:k.lTL.INVALID_COMMAND},"No application.");if(!M.Cr.includes(p))throw new A.Z({errorCode:k.lTL.INVALID_COMMAND},"Unsupported application.");if(!(0,S.yE)(null!=(t=r.application.flags)?t:0,k.udG.EMBEDDED))throw new A.Z({errorCode:k.lTL.INVALID_COMMAND},"This application cannot access this API");let h=(0,L.Z)();if(null==h&&s)throw new A.Z({errorCode:k.lTL.INVALID_COMMAND},"No channel found");if(null!==l||null!==o||null!==c){let e=[];void 0!==l&&(e=[{id:T.default.cast(T.default.fromTimestamp(Date.now())),size:0,proxy_url:l.url,filename:"preview",url:l.url,height:l.height,width:l.width}]),n=new O.ZP({id:T.default.cast(T.default.fromTimestamp(Date.now())),applicationId:p,content:c,components:o,attachments:e})}return new Promise(e=>{let t=!1,r=(0,R.jU)(d),l=a.z1l;(E.Z.getWindowOpen(k.KJ3.ACTIVITY_POPOUT)||r.context===k.IlC.POPOUT)&&(l=a.u1M),(0,_.M)({applicationId:p,channel:h,command:{name:i,options:u},requireLaunchChannel:!0===s,onShareResult:n=>{t||(t=n),r.lock(),e({success:t})},previewMessage:n,contextKey:l})})}})}},266572:function(e,t,n){n.d(t,{Z:()=>y}),n(388685);var r=n(255367);n(73800);var i=n(544891),l=n(846519),a=n(481060),o=n(496929),s=n(115130),c=n(812206),u=n(594174),d=n(580130),p=n(695103),h=n(70956),f=n(998502),g=n(996106),m=n(186901),b=n(981631);function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let O=10*h.Z.Millis.SECOND,y={[b.Etm.VALIDATE_APPLICATION]:{scope:m.lH,handler(e){let{socket:t}=e,i=t.application.id;try{if(null==i)throw new g.Z({errorCode:b.lTL.INVALID_COMMAND},"No application.");let e=c.Z.getApplication(i);if(null==e)throw new g.Z({errorCode:b.lTL.INVALID_ENTITLEMENT},"SKU does not exist.");let t=e.primarySkuId;if(null==t)throw new g.Z({errorCode:b.lTL.INVALID_ENTITLEMENT},"SKU does not exist.");return Promise.race([(function(e,t){let n=d.Z.isEntitledToSku(u.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,o.yD)(t).then(()=>!0===d.Z.isEntitledToSku(u.default.getCurrentUser(),e,t))})(t,e.id).then(e=>{if(!e)throw new g.Z({errorCode:b.lTL.INVALID_ENTITLEMENT},"User does not have entitlement.")}),(0,l.GR)(O).then(()=>{throw new g.Z({errorCode:b.lTL.INVALID_ENTITLEMENT},"Timed out fetching entitlement.")})])}catch(e){throw e.code===b.lTL.INVALID_ENTITLEMENT&&(f.ZP.focus(null,!0),(0,a.ZDy)(async()=>{let{default:e}=await n.e("48748").then(n.bind(n,52004));return t=>(0,r.jsx)(e,E(_({},t),{applicationId:i}))})),e}}},[b.Etm.GET_ENTITLEMENT_TICKET]:{scope:m.lH,handler(e){let{socket:t}=e,l=t.application.id;if(null==l)throw new g.Z({errorCode:b.lTL.INVALID_COMMAND},"No application.");return i.tn.post({url:b.ANM.ENTITLEMENT_TICKET(l),body:{test_mode:p.Z.inTestModeForApplication(l)||s.Z.inDevModeForApplication(l)},retries:3,oldFormErrors:!0,rejectWithError:!1}).then(e=>{let{body:t}=e;return t}).catch(e=>{throw f.ZP.focus(null,!0),(0,a.ZDy)(async()=>{let{default:e}=await n.e("48748").then(n.bind(n,52004));return t=>(0,r.jsx)(e,E(_({},t),{applicationId:l}))}),e})}}}},177698:function(e,t,n){n.d(t,{Z:()=>f});var r=n(255367);n(73800);var i=n(481060),l=n(531826),a=n(812206),o=n(69580),s=n(358085),c=n(998502),u=n(996106),d=n(703912),p=n(852926),h=n(981631);let f=(0,d.Z)(e=>{var t;let{clientId:n,authorizations:s,scopes:c,parsedPermissions:d,responseType:f,redirectUri:g,codeChallenge:m,codeChallengeMethod:b,state:_,guildId:E,channelId:O,prompt:y,disableGuildSelect:I,disclosures:v,integrationType:C,pid:S}=e,N="OAuth2Authorize_".concat(n,"_").concat(E,"_").concat(O),T=null!=C?null==s?void 0:s.get(C):void 0,P=null!=(t=null==T?void 0:T.application)?t:a.Z.getApplication(n);return new Promise((e,t)=>{let a=(0,p.jU)(S),T=!1,j=r=>{let{clientId:i,location:l}=r;(null==i||i===n)&&(T=!0,null!=location?e(l):t(new u.Z({errorCode:h.lTL.OAUTH2_ERROR},"User cancelled authorization")),a.lock())},A=i.z1l;null!=P&&null!=(0,l.ZP)({application:P,channelId:O})?A=i.u1M:a.context===h.IlC.POPOUT&&(A=i.u1M),(0,i.h7j)(e=>{var t,i;return(0,r.jsx)(o.OAuth2AuthorizeModal,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),i=i={authorizations:s,clientId:n,scopes:null!=c?c:[],disclosures:null!=v?v:[],callback:j,responseType:f,redirectUri:g,codeChallenge:m,codeChallengeMethod:b,state:_,permissions:d,guildId:E,channelId:O,prompt:y,disableGuildSelect:"boolean"==typeof I?I:"true"===I,integrationType:C},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}),t))},{modalKey:N,onCloseRequest:()=>{(0,i.Mr3)(N)},onCloseCallback:()=>{T||(t(new u.Z({errorCode:h.lTL.OAUTH2_ERROR},"User cancelled authorization")),a.lock())}},A)})},function(e,t,n){if((0,p.br)(n)||!s.isPlatformEmbedded)return;let r=(0,l.ZP)({application:e,channelId:t});(0,s.isWindows)()?c.ZP.minimize(r):c.ZP.restore(r),c.ZP.focus(r)})},121826:function(e,t,n){n.d(t,{Z:()=>o});var r=n(230487),i=n(998502),l=n(914946),a=n(452426);let o={[n(981631).Etm.ENCOURAGE_HW_ACCELERATION]:{validation:e=>(0,a.Z)(e),handler(e){let{socket:t}=e;(0,l.bu)(t.transport);let n=t.application.id;if(null!=n)return(0,r.Z)(n),{enabled:i.ZP.getEnableHardwareAcceleration()}}}}},753335:function(e,t,n){n.d(t,{Z:()=>c});var r=n(570140),i=n(703656),l=n(998502),a=n(852926),o=n(186901),s=n(981631);let c={[s.Etm.OPEN_MESSAGE]:{scope:o.lH,handler(e){let{args:{guild_id:t,channel_id:n,message_id:o,pid:c}}=e;if((0,a.jU)(c).context===s.IlC.OVERLAY)return void r.Z.dispatch({type:"OVERLAY_OPEN_MESSAGE",guildId:t,channelId:n,messageId:o});(0,i.dL)({pathname:s.Z5c.CHANNEL(t,n,o)}),l.ZP.focus()}}}},567481:function(e,t,n){n.d(t,{Z:()=>O}),n(388685);var r=n(255367);n(73800);var i=n(481060),l=n(570140),a=n(24124),o=n(447543),s=n(13245),c=n(596223),u=n(710845),d=n(293273),p=n(885110),h=n(996106),f=n(914946),g=n(452426),m=n(852926),b=n(186901),_=n(981631);let E=new u.Z("RPCCommandsOverlay"),O={[_.Etm.SET_OVERLAY_LOCKED]:{scope:b.lH,validation:e=>(0,g.Z)(e).required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()}),handler(e){let{args:{locked:t,pid:n},socket:{application:r}}=e;if(E.verbose("RPCCommands.SET_OVERLAY_LOCKED",{locked:t,pid:n}),null==r.id)throw new h.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");s.Z.setInputLocked(t,n)}},[_.Etm.OPEN_OVERLAY_ACTIVITY_INVITE]:{scope:b.lH,validation:e=>(0,g.Z)(e).required().keys({type:e.number().required().valid([_.mFx.JOIN]),pid:e.number().min(0).required()}),handler(e){let{socket:t,args:{type:n,pid:r}}=e,i=t.application.id;if(null==i)throw new h.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");let l=d.Z.getApplicationActivity(i);if(null==l||null==l.secrets||!(0,f.t9)(n,l.party,l.secrets))throw new h.Z({errorCode:_.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");let{lock:o,context:s}=(0,m.jU)(r),u=(0,c.Z)(l,p.Z);return(0,a.h7)(l,u,s).then(()=>{if(o(),u)throw new h.Z({errorCode:_.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure user does have have privacy enabled.")})}},[_.Etm.OPEN_OVERLAY_GUILD_INVITE]:{scope:b.lH,validation:e=>(0,g.Z)(e).required().keys({code:e.string().required(),pid:e.number().min(0).required()}),handler(e){let{args:{code:t,pid:n},socket:r}=e;if(null==r.application.id)throw new h.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");return o.ZP.resolveInvite(t,"Game SDK").then(e=>{let{invite:t,code:r}=e;if(null==t)throw new h.Z({errorCode:_.lTL.INVALID_INVITE},"Invalid invite id: ".concat(r));let{context:i,lock:a}=(0,m.jU)(n);return new Promise(e=>{l.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:t,code:r,context:i,resolve:e})}).then(a)})}},[_.Etm.OPEN_OVERLAY_VOICE_SETTINGS]:{scope:b.lH,validation:e=>(0,g.Z)(e).required().keys({pid:e.number().min(0).required()}),handler(e){let{args:{pid:t},socket:l}=e,a=l.application.id;if(null==a)throw new h.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");let{lock:o,context:s}=(0,m.jU)(t);return new Promise(e=>{(0,i.ZDy)(async()=>{let{default:e}=await n.e("66063").then(n.bind(n,344516));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),i=i={mediaEngineContext:a,title:l.application.name,onClose:()=>{t.onClose()}},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}},{contextKey:s===_.IlC.POPOUT?i.u1M:i.z1l,onCloseCallback:()=>{o(),e()}})})}}}},498164:function(e,t,n){n.d(t,{Z:()=>w}),n(35282),n(190126),n(368063),n(65234),n(111804),n(490233),n(97749),n(388685);var r=n(255367);n(73800);var i=n(756647),l=n(481060),a=n(570140),o=n(355467),s=n(899742),c=n(493683),u=n(457330),d=n(533307),p=n(447543),h=n(317381),f=n(122613),g=n(649256),m=n(100527),b=n(728345),_=n(185669),E=n(962220),O=n(69580),y=n(703656),I=n(314897),v=n(553795),C=n(594174),S=n(626135),N=n(585483),T=n(591759),P=n(998502),j=n(996106),A=n(186901),Z=n(981631);function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function L(e,t){null!=e&&S.default.track(Z.rMx.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,i.s)(e),link_type:t})}let w={[Z.Etm.INVITE_BROWSER]:{scope:A.cE,async handler(e){let{args:{code:t}}=e,{invite:n}=await p.ZP.resolveInvite(t,"Desktop Modal");if(null==n)throw new j.Z({errorCode:Z.lTL.INVALID_INVITE},"Invalid invite id: ".concat(t));return I.default.isAuthenticated()?a.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:n,code:t,context:Z.IlC.APP}):(0,y.dL)(Z.Z5c.INVITE(t)),{invite:n,code:t}}},[Z.Etm.GUILD_TEMPLATE_BROWSER]:{scope:A.cE,async handler(e){let{args:{code:t}}=e;if(null==C.default.getCurrentUser())return;let{guildTemplate:i}=await E.Z.resolveGuildTemplate(t);if(null==i)throw new j.Z({errorCode:Z.lTL.INVALID_GUILD_TEMPLATE},"Invalid guild template id: ".concat(t));return P.ZP.focus(),(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("10778"),n.e("44044")]).then(n.bind(n,766775));return t=>{var n,l;return(0,r.jsx)(e,(n=x({},t),l=l={guildTemplate:i},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(l)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(l,e))}),n))}}),{guildTemplate:i,code:t}}},[Z.Etm.GIFT_CODE_BROWSER]:{scope:A.cE,handler(e){let{args:{code:t}}=e;return new Promise((e,i)=>{a.Z.wait(()=>{d.Z.resolveGiftCode(t,!0,!0).then(i=>{let{giftCode:a}=i;P.ZP.focus(),S.default.track(Z.rMx.OPEN_MODAL,{type:"gift_accept",location:Z.SaU}),(0,l.ZDy)(async()=>{let{default:e}=await Promise.all([n.e("92446"),n.e("51139")]).then(n.bind(n,409858));return n=>(0,r.jsx)(e,x({code:t},n))}),e({giftCode:a})}).catch(()=>i(new j.Z({errorCode:Z.lTL.INVALID_GIFT_CODE},"Invalid gift code: ".concat(t))))})})}},[Z.Etm.DEEP_LINK]:{scope:{[A.Gp.ANY]:[A.cE,A.lH]},handler(e){let{args:{type:t,params:n}}=e;switch(P.ZP.focus(),t){case A.jE.USER_SETTINGS:null!=n&&((0,y.dL)(Z.Z5c.SETTINGS(n.section,n.subsection)),L(n.fingerprint,(0,A.O)(t)));break;case A.jE.CHANGELOG:null!=n&&((0,y.dL)(T.Z.formatPathWithQuery(Z.Z5c.CHANGELOGS(n.date),n.query)),L(n.fingerprint,(0,A.O)(t)));break;case A.jE.LIBRARY:(0,y.dL)(Z.Z5c.APPLICATION_LIBRARY),null!=n&&L(n.fingerprint,(0,A.O)(t));break;case A.jE.STORE_HOME:(0,y.dL)(Z.Z5c.APPLICATION_STORE),null!=n&&L(n.fingerprint,(0,A.O)(t));break;case A.jE.STORE_LISTING:null!=n&&((0,y.dL)(Z.Z5c.APPLICATION_STORE_LISTING_SKU(n.skuId,n.slug)),L(n.fingerprint,(0,A.O)(t)));break;case A.jE.PICK_GUILD_SETTINGS:null!=n&&((0,y.dL)({pathname:Z.Z5c.PICK_GUILD_SETTINGS(n.section,n.subsection),search:n.search}),L(n.fingerprint,(0,A.O)(t)));break;case A.jE.CHANNEL:null!=n&&((0,y.dL)({pathname:Z.Z5c.CHANNEL(n.guildId,n.channelId,n.messageId),search:n.search}),L(n.fingerprint,(0,A.O)(t)));break;case A.jE.QUEST_HOME:null!=n?((0,y.dL)({pathname:Z.Z5c.QUEST_HOME,hash:n.questId}),L(n.fingerprint,(0,A.O)(t))):(0,y.dL)(Z.Z5c.QUEST_HOME);break;case A.jE.DISCOVERY_GAME_RESULTS:null!=n&&((0,y.dL)({pathname:Z.Z5c.GLOBAL_DISCOVERY_SERVERS,search:"?game=".concat(n.gameId)}),L(n.fingerprint,(0,A.O)(t)));break;case A.jE.OAUTH2:let r=new URL(Z.Z5c.OAUTH2_AUTHORIZE,window.location.origin);r.search=n.search;let i=(0,O.getOAuth2AuthorizeProps)(r.toString());if(null!=i)return(0,O.openOAuth2ModalWithCreateGuildModal)(i),!0;return!1;case A.jE.SHOP:null!=n&&((0,y.dL)({pathname:Z.Z5c.COLLECTIBLES_SHOP,search:n.search}),L(n.fingerprint,(0,A.O)(t)));break;case A.jE.FEATURES:case A.jE.SHOP:(null==n?void 0:n.path)!=null&&((0,y.dL)({pathname:n.path}),L(n.fingerprint,(0,A.O)(t)));break;case A.jE.ACTIVITIES:if(null!=n)return async function(e,t){var r,i;let l=h.ZP.getCurrentEmbeddedActivity();if((null==l?void 0:l.applicationId)===e)return;let a=await b.ZP.fetchApplication(n.applicationId),o=null==a||null==(r=a.bot)?void 0:r.id;if(null==o)return;let s=await c.Z.openPrivateChannel({recipientIds:o}),u=new URL(t),d=null!=(i=u.searchParams.get("referrer_id"))?i:void 0,{customId:p}=await (0,g.ur)(e,u.searchParams.get("link_id"),u.searchParams.get("custom_id"));await (0,f.Z)({targetApplicationId:e,channelId:s,analyticsLocations:[m.Z.DEEPLINK],customId:p,referrerId:d})}(n.applicationId,n.url),L(n.fingerprint,(0,A.O)(t)),!0;return!1}}},[Z.Etm.BROWSER_HANDOFF]:{scope:A.CN,handler(e){let{args:{handoffToken:t,fingerprint:n}}=e;P.ZP.focus(null,!0),(0,s.lx)(t,n)}},[Z.Etm.CONNECTIONS_CALLBACK]:{scope:A.cE,handler:async e=>{let{args:{providerType:t,code:n,openid_params:r,iss:i,state:l}}=e;if(!_.g.getCurrentConfig({location:"private.CONNECTIONS_CALLBACK"}).enabled&&!v.Z.hasPendingAuthorizedState(l))throw new j.Z({errorCode:Z.lTL.INVALID_CONNECTION_CALLBACK_STATE},"Provider authorization did not originate from this discord client");try{return v.Z.deletePendingAuthorizedState(l),await u.Z.callback(t,{code:n,openid_params:r,iss:i,state:l})}catch(e){if((null==e?void 0:e.status)===400)throw new j.Z({errorCode:Z.lTL.BAD_REQUEST_FOR_PROVIDER},"Bad request for provider");throw N.S.dispatch(Z.CkL.CONNECTIONS_CALLBACK_ERROR),e}}},[Z.Etm.BRAINTREE_POPUP_BRIDGE_CALLBACK]:{scope:A.cE,handler(e){let{args:{state:t,path:n,query:r}}=e;return(0,o.rt)({paymentSourceType:Z.HeQ.PAYPAL,state:t,path:n,query:r})}},[Z.Etm.BILLING_POPUP_BRIDGE_CALLBACK]:{scope:A.cE,handler(e){let{args:{state:t,path:n,query:r,payment_source_type:i}}=e;return(0,o.rt)({paymentSourceType:i,state:t,path:n,query:r})}}}},885381:function(e,t,n){n.d(t,{Z:()=>l});var r=n(570140),i=n(186901);let l={[n(981631).Etm.SET_SUPPRESS_NOTIFICATIONS]:{scope:i.lH,handler(e){let{socket:t,args:{suppress_notifications:n,target_user_id:i}}=e;r.Z.dispatch({type:"SET_RPC_NOTIFICATION_SETTINGS",socketId:t.id,suppressNotifications:n,targetUserId:i})}}}},111097:function(e,t,n){n.d(t,{Z:()=>m}),n(415506),n(388685),n(49124);var r=n(72924),i=n(100527),l=n(367207),a=n(996106),o=n(452426),s=n(561205),c=n(334288),u=n(852926),d=n(186901),p=n(981631),h=n(474936);let f=[i.Z.RPC];function g(e,t){let n={subscriptionTier:h.Si.TIER_2,analyticsLocations:f,analyticsObject:t};switch(e){case p.IlC.APP:return l.Z.openPremiumPaymentModalInApp(n);case p.IlC.OVERLAY:return l.Z.openPremiumPaymentModalInOverlay(n);default:throw Error("Unexpected app context: ".concat(e))}}let m={[p.Etm.START_PURCHASE]:{[d.Gp.ANY]:[d.wE,d.lH],validation:e=>(0,o.Z)(e).required().keys({sku_id:e.string().required(),pid:e.number().min(0)}),handler(e){let{socket:t,args:{sku_id:n,pid:i}}=e;(0,c.f)(t.transport);let l=t.application.id;if(null==l)throw new a.Z({errorCode:p.lTL.INVALID_COMMAND},"No application.");let{lock:o,context:h}=(0,u.jU)(t.transport!==d.He.POST_MESSAGE?i:null);if(null==(0,s.Z)())throw new a.Z({errorCode:p.lTL.INVALID_CHANNEL},"Invalid channel");let m={page:p.ZY5.IN_APP};return(async()=>{try{let e=await (0,r.S)({applicationId:l,skuId:n,openPremiumPaymentModal:()=>g(h,m),analyticsLocations:f,analyticsLocationObject:m,context:h});return o(),e}catch(e){if(o(),null!=e){let t="";throw t="object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:"string"==typeof e?e:JSON.stringify(e),new a.Z({errorCode:p.lTL.PURCHASE_ERROR},t)}throw new a.Z({errorCode:p.lTL.PURCHASE_CANCELED},"Purchase was canceled by the user.")}})()}},[p.Etm.START_PREMIUM_PURCHASE]:{[d.Gp.ANY]:[d.wE,d.lH],validation:e=>(0,o.Z)(e).keys({pid:e.number().min(0)}),handler(e){let{socket:t,args:{pid:n}}=e;if((0,c.f)(t.transport),null==t.application.id)throw new a.Z({errorCode:p.lTL.INVALID_COMMAND},"No application.");let{lock:r,context:i}=(0,u.jU)(t.transport!==d.He.POST_MESSAGE?n:null);return g(i,{page:p.ZY5.IN_APP}).then(()=>{r()},e=>{if(r(),null!=e)throw new a.Z({errorCode:p.lTL.PURCHASE_ERROR},e);throw new a.Z({errorCode:p.lTL.PURCHASE_CANCELED},"Purchase was canceled by the user.")})}}}},908711:function(e,t,n){n.d(t,{Z:()=>i});var r=n(408841);let i={[n(981631).Etm.SEND_GENERIC_EVENT]:r.n}},197941:function(e,t,n){n.d(t,{Z:()=>E}),n(388685);var r=n(255367);n(73800);var i=n(243814),l=n(481060),a=n(846027),o=n(872810),s=n(594190),c=n(989941),u=n(173507),d=n(199902),p=n(131951),h=n(449224),f=n(358085),g=n(452426),m=n(736045),b=n(186901),_=n(981631);let E={[_.Etm.TOGGLE_VIDEO]:{scope:{[b.Gp.ALL]:[i.x.RPC,i.x.RPC_VIDEO_WRITE]},handler(){let e=p.Z.isVideoEnabled();null!=(0,m.Z)()&&(e?a.Z.setVideoEnabled(!1):(0,u.Z)(()=>a.Z.setVideoEnabled(!0),_.IlC.APP))}},[_.Etm.TOGGLE_SCREENSHARE]:{scope:{[b.Gp.ALL]:[i.x.RPC,i.x.RPC_SCREENSHARE_WRITE]},validation:e=>(0,g.Z)(e).optional().keys({pid:e.number().optional().min(0)}),handler(e){let{args:{pid:t}}=e,i=d.Z.getCurrentUserActiveStream(),a=d.Z.getStreamerActiveStreamMetadata(),u=(0,c.Z)(s.ZP,h.Z),p=(0,m.Z)();null!=p&&(null!=t&&null!=a&&a.pid!==t&&(0,f.isWindows)()?(0,o.WH)(p.guild_id,p.id,{pid:t}):null!=i?(0,o.L6)(!1):null!=t&&(0,f.isWindows)()?(0,o.WH)(p.guild_id,p.id,{pid:t}):null!=u?(0,o.WH)(p.guild_id,p.id,{pid:u.pid}):(0,l.ZDy)(async()=>{let{default:e}=await n.e("46746").then(n.bind(n,60594));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),i=i={guildId:p.guild_id,analyticsLocation:_.Sbl.ACTIVITY_RPC},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}}))}}}},462414:function(e,t,n){n.d(t,{Z:()=>h}),n(388685);var r=n(243814),i=n(846027),l=n(131951),a=n(13140),o=n(996106),s=n(452426),c=n(186901),u=n(981631),d=n(65154);function p(e){let t=e.application.id;if(null==t)throw new o.Z({errorCode:u.lTL.INVALID_COMMAND},"No application.");return t}let h={[u.Etm.SET_VOICE_SETTINGS_2]:{scope:c.lH,validation:e=>(0,s.Z)(e).required().keys({input_mode:(0,s.Z)(e).keys({type:e.string().valid(Object.keys(u.pM4)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()}),handler(e){let{socket:t,args:{input_mode:n,self_mute:r,self_deaf:o}}=e,s=p(t);null!=n&&i.Z.setMode(n.type,{shortcut:(0,a.Kd)(n.shortcut)},s),null!=r&&r!==l.Z.isSelfMute(s)&&i.Z.toggleSelfMute({context:s}),null!=o&&o!==l.Z.isSelfDeaf(s)&&i.Z.toggleSelfDeaf({context:s})}},[u.Etm.SET_USER_VOICE_SETTINGS_2]:{scope:c.lH,validation:e=>(0,s.Z)(e).required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()}),handler(e){let{socket:t,args:{user_id:n,mute:r,volume:a}}=e,o=p(t);null!=r&&r!==l.Z.isLocalMute(n,o)&&i.Z.toggleLocalMute(n,o),null!=a&&i.Z.setLocalVolume(n,a,o)}},[u.Etm.PUSH_TO_TALK]:{scope:{[c.Gp.ALL]:[r.x.RPC,r.x.RPC_VOICE_WRITE]},validation:e=>(0,s.Z)(e).required().keys({active:e.boolean()}),handler(e){let{args:{active:t}}=e;l.Z.getMode(d.Yn.DEFAULT)===u.pM4.PUSH_TO_TALK&&l.Z.getMediaEngine().eachConnection(e=>e.setForceAudioInput(t),d.Yn.DEFAULT)}}}},662194:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var r=n(243814),i=n(846027),l=n(131951),a=n(594174),o=n(996106),s=n(452426),c=n(852926),u=n(186901),d=n(981631);let p={[d.Etm.SET_USER_VOICE_SETTINGS]:{scope:{[u.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_WRITE]},validation:e=>(0,s.Z)(e).required().keys({user_id:e.string().required(),pan:(0,s.Z)(e).keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()}),handler(e){let{args:{user_id:t,pan:n,volume:r,mute:s}}=e,c=a.default.getCurrentUser();if(null==a.default.getUser(t)||(null==c?void 0:c.id)===t)throw new o.Z({errorCode:d.lTL.INVALID_USER},"Invalid user id: ".concat(t));if(null!=n&&i.Z.setLocalPan(t,n.left,n.right),null!=r&&i.Z.setLocalVolume(t,r),null!=s){let e=l.Z.isLocalMute(t);(e&&!s||!e&&s)&&i.Z.toggleLocalMute(t)}return{user_id:t,pan:l.Z.getLocalPan(t),volume:l.Z.getLocalVolume(t),mute:l.Z.isLocalMute(t)}}},[d.Etm.GET_VOICE_SETTINGS]:{scope:{[u.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_READ]},handler:()=>(0,c._X)()},[d.Etm.SET_VOICE_SETTINGS]:{scope:{[u.Gp.ANY]:[r.x.RPC,r.x.RPC_VOICE_WRITE]},validation:e=>(0,s.Z)(e).required().keys({input:(0,s.Z)(e).keys({device_id:e.string().valid(Object.keys(l.Z.getInputDevices())),volume:e.number().min(0).max(100)}),output:(0,s.Z)(e).keys({device_id:e.string().valid(Object.keys(l.Z.getOutputDevices())),volume:e.number().min(0).max(200)}),mode:(0,s.Z)(e).keys({type:e.string().valid(Object.keys(d.pM4)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items((0,s.Z)(e).keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()}),handler(e){let{args:{input:t,output:n,mode:r,automatic_gain_control:a,echo_cancellation:o,noise_suppression:s,qos:u,silence_warning:d,deaf:p,mute:h}}=e;if(t&&(null!=t.device_id&&i.Z.setInputDevice(t.device_id),null!=t.volume&&i.Z.setInputVolume(t.volume)),n&&(null!=n.device_id&&i.Z.setOutputDevice(n.device_id),null!=n.volume&&i.Z.setOutputVolume(n.volume)),r){let e=l.Z.getMode(),t=l.Z.getModeOptions();null!=r.type&&(e=r.type),null!=r.auto_threshold&&(t.autoThreshold=r.auto_threshold),null!=r.threshold&&(t.threshold=r.threshold),null!=r.shortcut&&(t.shortcut=r.shortcut.map(e=>[e.type,e.code])),null!=r.delay&&(t.delay=r.delay),i.Z.setMode(e,t)}if(null!=a&&i.Z.setAutomaticGainControl(a),null!=o&&i.Z.setEchoCancellation(o),null!=s&&i.Z.setNoiseSuppression(s),null!=u&&i.Z.setQoS(u),null!=d&&i.Z.setSilenceWarning(d),null!=p){let e=l.Z.isSelfDeaf();(e&&!p||!e&&p)&&i.Z.toggleSelfDeaf()}if(null!=h){let e=l.Z.isSelfMute();(e&&!h||!e&&h)&&i.Z.toggleSelfMute()}return(0,c._X)()}}}},967351:function(e,t,n){n.d(t,{Z:()=>v}),n(388685),n(415506),n(49124);var r=n(413135),i=n(836560),l=n(392711),a=n.n(l),o=n(710845),s=n(998502),c=n(901077),u=n(76238),d=n(852926),p=n(981631);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let f=s.ZP.requireModule("discord_rpc").RPCIPC,g=new o.Z("RPCServer:IPC"),m={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function b(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function _(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function E(e){return new Promise((t,n)=>{"string"==typeof e&&(e=f.net.createConnection(e));let r=new y(e,"json");e.on("data",t=>{try{r.read(t)}catch(t){e.end(O(m.CLOSE,{code:1003,message:t.message})),e.destroy()}});let i=()=>{try{e.end(O(m.CLOSE,{code:p.$VG.CLOSE_NORMAL,message:"test client going away"})),e.destroy()}catch(e){}},l=Promise.race([new Promise(t=>e.on("error",()=>t())),new Promise((t,n)=>{e.on("pong",()=>n(Error("socket responded with pong")))}),new Promise((e,t)=>{setTimeout(()=>t(Error("socket alive timeout")),1e3)})]).then(()=>{i()},e=>{throw i(),e});return e.write(O(m.PING,a().uniqueId())),l.then(t,n)})}function O(e,t){t=JSON.stringify(t);let n=r.Buffer.byteLength(t),i=r.Buffer.alloc(8+n);return i.writeInt32LE(e,0),i.writeInt32LE(n,4),i.write(t,8,n),i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}class y extends u.Z{copyBuffer(e,t,n){let i=r.Buffer.allocUnsafe(n-t);return e.copy(i,0,t,n),i}send(e){g.info("Socket Emit: ".concat(this.id),(0,c.Z)(e)),this.socket.write(O(m.FRAME,e))}close(e,t){this.socket.end(O(m.CLOSE,{code:e,message:t})),this.socket.destroy()}read(e){if(this.messageBuffer.byteLength+e.byteLength>this.MAX_BUFFER_SIZE)throw Error("total buffer size exceeded");this.messageBuffer=function(e,t){let n=r.Buffer.alloc(e.byteLength+t.byteLength);return n.set(e),n.set(t,e.byteLength),n}(this.messageBuffer,e),this.processMessages()}processMessages(){for(;this.messageBuffer.byteLength>=8;){if(null===this.currentHeader){if(this.currentHeader={opcode:this.messageBuffer.readInt32LE(0),size:this.messageBuffer.readInt32LE(4)},!Object.values(m).includes(this.currentHeader.opcode)||this.currentHeader.size<0)throw Error("protocol error");if(this.currentHeader.size>3145728)throw Error("message too large");this.messageBuffer=this.copyBuffer(this.messageBuffer,8,this.messageBuffer.byteLength)}if(this.messageBuffer.byteLength>=this.currentHeader.size){let e=JSON.parse(this.copyBuffer(this.messageBuffer,0,this.currentHeader.size).toString());this.dispatchMessage(this.socket,this.currentHeader.opcode,e),this.messageBuffer=this.copyBuffer(this.messageBuffer,this.currentHeader.size,this.messageBuffer.byteLength),this.currentHeader=null}else break}}dispatchMessage(e,t,n){switch(t){case m.PING:e.emit("ping",n),e.write(O(m.PONG,n));break;case m.PONG:e.emit("pong",n);break;case m.HANDSHAKE:this.handleHandshake(e,n),e.emit("handshake",n);break;case m.FRAME:if(!_(e))throw Error("did not handshake");e.emit("request",n);break;case m.CLOSE:e.end(O(m.CLOSE,{code:p.$VG.CLOSE_NORMAL,message:"client disconnect"})),e.destroy()}}handleHandshake(e,t){if(_(e))throw Error("already did handshake");this.clientId=t.client_id,this.checkRpcVersion(+t.v),b(e,!0)}constructor(e,t){super("ipc",p.X6Q,t),h(this,"messageBuffer",r.Buffer.alloc(0)),h(this,"currentHeader",null),h(this,"MAX_BUFFER_SIZE",5242880),h(this,"socket",void 0),h(this,"clientId",null),this.socket=e,b(e,!1)}}class I extends i.EventEmitter{handleConnection(e){let t=new y(e,"json");e.on("readable",()=>{let n=e.read();null!=n&&t.read(r.Buffer.from(n))}),e.on("data",n=>{try{t.read(r.Buffer.from(n))}catch(t){g.error("Socket Error: ".concat(t.message)),e.end(O(m.CLOSE,{code:p.$VG.CLOSE_UNSUPPORTED,message:t.message})),e.destroy()}}),e.once("handshake",()=>{let n=t.clientId;g.info("Socket Opened: ".concat(t.id)),e.on("error",e=>g.error("Socket Error: ".concat(e.message))),e.on("close",()=>{g.info("Socket Close: ".concat(t.id)),this.emit("disconnect",t)}),(0,d.em)(t,null,n).then(()=>{e.on("request",e=>{g.info("Socket Message: ".concat(t.id),(0,c.Z)(e)),this.emit("request",t,e)}),this.emit("connect",t)}).catch(e=>{let{code:n,message:r}=e;t.close(n,r)})})}constructor(){super();let e=f.net.createServer(e=>this.handleConnection(e));e.on("error",e=>g.error("Error: ".concat(e.message))),f.getAvailableSocket(E).then(t=>{e.listen(t,()=>{("function"==typeof e.listening?e.listening():e.listening)&&g.info("Starting on ".concat(e.address()))})})}}let v=new I},178318:function(e,t,n){let r,i;n.d(t,{Z:()=>x}),n(49124),n(388685),n(35282),n(65234),n(111804),n(490233),n(97749),n(539854),n(415506);var l=n(836560),a=n(392711),o=n.n(a),s=n(570140),c=n(710845),u=n(857192),d=n(591759),p=n(998502),h=n(996106),f=n(901077),g=n(76238),m=n(852926),b=n(186901),_=n(981631),E=n(413135).Buffer;function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}try{r=p.ZP.requireModule("discord_erlpack")}catch(e){try{r=p.ZP.requireModule("erlpack")}catch(e){}}let y=p.ZP.requireModule("discord_rpc").RPCWebSocket,I=window.GLOBAL_ENV.MARKETING_ENDPOINT,v=new c.Z("RPCServer:WSS"),C=[];function S(e){return"function"==typeof e?e():e}function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e>0?void 0:()=>{if(!S(i.listening))return;let e=i.address().port;v.info("Starting on ".concat(e)),s.Z.dispatch({type:"RPC_SERVER_READY",port:e})};i.listen(_.V6Z+e%_.frH,"127.0.0.1",t)}function T(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=null!=S(e.headers).origin?{"Access-Control-Allow-Origin":S(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"Content-Type, Authorization"}:{};n=n?JSON.stringify(n):"",r=200===r&&0===n.length?204:r,t.setHeader("Content-Length",E.byteLength(n).toString()),t.setHeader("Content-Type","application/json"),t.writeHead(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}({},i,l)),t.end(n)}function P(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;T(e,t,{code:i,message:r},n)}class j extends g.Z{send(e){(u.default.isLoggingOverlayEvents||e.cmd!==_.Etm.OVERLAY&&e.evt!==_.zMe.OVERLAY)&&v.info("Socket Emit: ".concat(this.id),(0,f.Z)(e)),null!=r&&"etf"===this.encoding?this._socket.send(r.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))}close(e,t){this._socket.close(e,t)}constructor(e,t,n){if(super("ws",t,n),O(this,"_socket",void 0),-1===["etf","json"].indexOf(n))throw new h.Z({closeCode:_.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(n));if("etf"===n&&null==r)throw new h.Z({closeCode:_.$VG.INVALID_ENCODING},"Erlpack cannot be used on this client");this._socket=e}}class A extends g.Z{send(e){(u.default.isLoggingOverlayEvents||e.cmd!==_.Etm.OVERLAY)&&v.info("Socket Emit: ".concat(this.id),e),this._sendCallback(e)}close(e,t){this._closeCallback(t,e)}constructor(e,t,n,r){if(super("http",n,r),O(this,"_sendCallback",void 0),O(this,"_closeCallback",void 0),"json"!==r)throw new h.Z({closeCode:_.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(r));this._sendCallback=e,this._closeCallback=t}}class Z extends l.EventEmitter{handleRequest(e,t){let[n,r]=S(e.url).split("?"),i=S(e.method);if("/rpc"===n&&"OPTIONS"===i)return void T(e,t,{body:""});let l="POST"===i;if("/rpc"===n&&("GET"===i||l)){let n=new URLSearchParams(r),i=l?S(e.headers)["content-type"].split("/")[1]:"json",o=function(){var e,r;let{protocol:i,host:l}=null!=(r=d.Z.toURLSafe(null!=(e=n.get("callback"))?e:""))?r:{};i===location.protocol&&l===location.host?t.setHeader("Location",n.get("callback")):t.setHeader("Location",I),t.writeHead(301),t.end()},s=new A(!l?o:T.bind(null,e,t),!l?o:P.bind(null,e,t,400),Number(n.get("v")),i);if(l)(0,m.em)(s,S(e.headers).origin,n.get("client_id")).then(()=>{let n="";e.on("data",e=>n+=e),e.on("error",()=>P(e,t,500,"Internal Server Error")),e.on("end",()=>this.handleMessage(s,n))}).catch(e=>{let{code:t,message:n}=e;return s.close(t,n)});else{var a;s.authorization.scopes=[b.CN],this.handleMessage(s,decodeURIComponent(null!=(a=n.get("payload"))?a:""))}return}P(e,t,404,"Not Found")}handleConnection(e){var t,n;let r,i=new URLSearchParams(S(e.upgradeReq).url.split("?")[1]),l=null!=(t=S(e.upgradeReq).headers.origin)?t:"";try{r=new j(e,Number(i.get("v")),null!=(n=i.get("encoding"))?n:"json")}catch(t){e.close(t.code,t.message);return}v.info("Socket Opened: ".concat(r.id)),e.on("error",e=>v.error("WS Error: ".concat(e.message))),e.on("close",(e,t)=>{v.info("Socket Closed: ".concat(r.id,", code ").concat(e,", message ").concat(t)),o().remove(C,e=>e===r),this.emit("disconnect",r)}),(0,m.em)(r,l,i.get("client_id")).then(()=>{C.push(r),e.on("message",e=>this.handleMessage(r,e)),this.emit("connect",r)}).catch(e=>{let{code:t,message:n}=e;return r.close(t,n)})}handleMessage(e,t){let n;try{if(null!=r&&"etf"===e.encoding)n=r.unpack(t);else if("string"==typeof t)n=JSON.parse(t);else throw Error()}catch(t){e.close(_.$VG.CLOSE_UNSUPPORTED,"Payload not ".concat(e.encoding));return}(u.default.isLoggingOverlayEvents||n.cmd!==_.Etm.OVERLAY)&&v.info("Socket Message: ".concat(e.id),(0,f.Z)(n)),this.emit("request",e,n)}constructor(){var e;super();let t=0;(i=y.http.createServer()).on("error",e=>{v.error("Error: ".concat(e.message)),("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout(()=>N(++t),1e3)}),i.on("request",this.handleRequest.bind(this)),N(t);let n={instanceId:null!=(e=i.instanceId)?e:0,server:i};new y.ws.Server(n).on("connection",e=>this.handleConnection(e))}}let x=new Z},188861:function(e,t,n){n.d(t,{Z:()=>p});var r=n(710845),i=n(857192),l=n(901077),a=n(46832),o=n(852926),s=n(748635),c=n(981631);let u=new r.Z("RPCServer:PostMessage"),d=(e,t,n)=>{(i.default.isLoggingOverlayEvents||e.cmd!==c.Etm.OVERLAY)&&t.info("Socket Message: ".concat(n.id),(0,l.Z)(e))},p=function(){let e=new a.Z(o.em,u,s.Z,d);return window.addEventListener("message",t=>{if(window===t.source)return;if(null==t.source||null==t.source.postMessage)return void u.error("Unknown event source");let n=t.source,r=t.data,i=t.origin;e.handleMessage(r,i,(e,t)=>{!function(e){try{return e.closed}catch(e){return!1}}(n)&&n.postMessage(e,t)})}),e}()},748635:function(e,t,n){n.d(t,{Z:()=>o});var r=n(857192),i=n(901077),l=n(915357),a=n(981631);let o=e=>{let{origin:t,postMessageToRPCClient:n,frameId:o,version:s,encoding:c,logger:u,postClose:d}=e;return new l.Z({origin:t,postMessageToRPCClient:n,frameId:o,version:s,encoding:c,logger:u,postClose:d,onSendingToRPCClient:(e,t)=>{(r.default.isLoggingOverlayEvents||e.cmd!==a.Etm.OVERLAY&&e.evt!==a.zMe.OVERLAY)&&u.info("Socket Emit: ".concat(t),(0,i.Z)(e))}})}},886412:function(e,t,n){n.d(t,{VJ:()=>i});let r=(0,n(818083).B)({id:"2025-05_safety_flows",label:"Safety Flows",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function i(e){let{location:t}=e;return r.getCurrentConfig({location:t},{autoTrackExposure:!1}).enabled}},817938:function(){},981663:function(e,t,n){n(388685),n(539854);var r,i,l,a=n(442837),o=n(570140),s=n(786761);let c=new Map,u=new Map;function d(){c=new Map,u=new Map}let p=[],h=[];class f extends(r=a.ZP.Store){getRecentMessageAuthorIds(e){var t;return null!=(t=c.get(e))?t:p}getRecentMessageChannelIds(e){var t;return null!=(t=u.get(e))?t:h}}l="SearchRecentMessageStore",(i="displayName")in f?Object.defineProperty(f,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[i]=l,new f(o.Z,{SEARCH_MESSAGES_SUCCESS:function(e){var t,n;let{guildId:r,data:i}=e;if(null==r)return!1;let l=!1,a=!1,o=[...null!=(t=c.get(r))?t:[]],d=new Set(o),p=[...null!=(n=u.get(r))?n:[]],h=new Set(p);return i.forEach(e=>{e.messages.forEach(e=>{let[t]=e,n=(0,s.e5)(t);!d.has(n.author.id)&&d.size<15&&(d.add(n.author.id),o.push(n.author.id),l=!0),!h.has(n.channel_id)&&h.size<15&&(h.add(n.channel_id),p.push(n.channel_id),a=!0)})}),l&&c.set(r,o),a&&u.set(r,p),l||a},SEARCH_RECENT_MESSAGES_CLEAR:d,CONNECTION_OPEN:d})},719256:function(e,t,n){n.d(t,{Z:()=>p}),n(388685),n(539854);var r=n(846519),i=n(570140),l=n(317770),a=n(220082),o=n(594174),s=n(125268),c=n(813900);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends l.Z{_initialize(){__OVERLAY__||(i.Z.subscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint),i.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived))}_terminate(){__OVERLAY__||(i.Z.unsubscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint),i.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived),this.lineBatchTimer.stop())}_handleVoiceChannelEffectReceived(e){var t;let{lineId:n,points:r,userId:i,streamerId:l,emojiHose:u}=e;if(null!=l&&i!==(null==(t=o.default.getCurrentUser())?void 0:t.id))if(null!=r&&null!=n){let e=o.default.getUser(i);null!=e&&(0,a.vM)(e.getAvatarURL(null,c.Ks)),(0,s.cV)(n,i,l,r)}else null!=u&&(u.lastUpdatedAt=Date.now(),(0,s.gr)(u,i,l))}constructor(...e){super(...e),u(this,"linesToUpdate",{}),u(this,"lineBatchTimer",new r.Xp),u(this,"_handleDrawLinePoint",e=>{let{channelId:t,lineId:n,streamerId:r,point:i}=e;null==this.linesToUpdate[n]?this.linesToUpdate[n]={channelId:t,streamerId:r,points:[i]}:this.linesToUpdate[n].points.push(i),null==this.lineBatchTimer._ref&&this.lineBatchTimer.start(c.Fq,this.sendLineBatch)}),u(this,"sendLineBatch",()=>{for(let e in this.linesToUpdate){let{channelId:t,points:n,streamerId:r}=this.linesToUpdate[e];(0,s.AX)(t,e,r,n)}this.linesToUpdate={},this.lineBatchTimer.stop()})}}let p=new d},131468:function(e,t,n){n.d(t,{Z:()=>s}),n(388685);var r=n(570140),i=n(317770),l=n(314897),a=n(131951);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Z{_initialize(){__OVERLAY__||(r.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundReceived),r.Z.subscribe("GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",this._handleSoundboardSoundPlayLocally),r.Z.subscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect),r.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened))}_terminate(){__OVERLAY__||(r.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundReceived),r.Z.unsubscribe("GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",this._handleSoundboardSoundPlayLocally),r.Z.unsubscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect),r.Z.unsubscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened))}constructor(...e){super(...e),o(this,"_playSound",function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2],arguments.length>3&&arguments[3]}),o(this,"_stopAndClearSounds",()=>{}),o(this,"_handleToggleSelfDeafened",()=>{a.Z.isDeaf()&&this._stopAndClearSounds()}),o(this,"_handleSoundboardSoundReceived",e=>{let{soundId:t,soundVolume:n,userId:r,channelId:i}=e;if(null!=t&&r!==l.default.getId())return this._playSound(t,n,r,i)}),o(this,"_handleSoundboardSoundPlayLocally",e=>{let{sound:t,channelId:n}=e,r=l.default.getId();return this._playSound(t.soundId,t.volume,r,n)}),o(this,"_handleVoiceChannelSelect",()=>{this._stopAndClearSounds()})}}},377368:function(e,t,n){n.d(t,{Z:()=>v}),n(388685);var r=n(255367);n(73800);var i=n(481060),l=n(570140),a=n(536442),o=n(810788),s=n(592125),c=n(131951),u=n(944486),d=n(556296),p=n(131468),h=n(208049),f=n(763296),g=n(641015),m=n(22382),b=n(747071),_=n(49230),E=n(981631),O=n(65154);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends p.Z{_initialize(){super._initialize(),__OVERLAY__||l.Z.subscribe("OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST",this._handleOverlaySoundboardSoundsFetchRequest)}_terminate(){super._terminate(),__OVERLAY__||l.Z.unsubscribe("OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST",this._handleOverlaySoundboardSoundsFetchRequest)}constructor(...e){var t;super(...e),t=this,y(this,"playingSoundsWeb",new Map),y(this,"_stopAndClearSounds",()=>{c.Z.supports(O.AN.SAMPLE_PLAYBACK)&&c.Z.getMediaEngine().eachConnection(e=>{e.stopAllSamplesLocalPlayback()}),this.playingSoundsWeb.forEach(e=>{e.pause(),e.src=""}),this.playingSoundsWeb=new Map}),y(this,"_playSound",async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=null!=i&&u.Z.getVoiceChannelId()===i;if((null==i||l)&&!c.Z.isDeaf()&&!f.Z.isLocalSoundboardMuted(r))try{let i={soundKey:"".concat(r,"-").concat(e),soundURL:(0,m.Z)(e),soundVolume:(0,b.Z)(n),reportSoundStartedPlaying:()=>(0,h.xR)(e,r)};c.Z.supports(O.AN.SAMPLE_PLAYBACK)?await (0,_.$)(i):await (0,_.h)(i,t.playingSoundsWeb)}finally{(0,h.R)(e,r)}}),y(this,"_handleOverlaySoundboardSoundsFetchRequest",()=>{(0,h.w)()}),y(this,"_handleOpenEducationModal",(e,t)=>{if(null==e)return;let l=s.Z.getChannel(t),c=d.ZP.getKeybindForAction(E.kg4.SOUNDBOARD_HOLD);null!=l&&(0,g.Z)(l)&&null!=c&&o.Z.hasHotspot(a.v6.SOUNDBOARD_WHEEL_EDUCATION_MODAL)&&(0,i.ZDy)(async()=>{let{default:t}=await n.e("69208").then(n.bind(n,490166));return n=>{var i,a;return(0,r.jsx)(t,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}({},n),a=a={guildId:e,keybind:c,channel:l},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))}),i))}})})}}let v=new I},848543:function(e,t,n){n.d(t,{Z:()=>A}),n(388685);var r=n(255367),i=n(73800),l=n(120356),a=n.n(l),o=n(399606),s=n(704215),c=n(582019),u=n(481060),d=n(239091),p=n(100527),h=n(906732),f=n(522651),g=n(795318),m=n(540059),b=n(706140),_=n(294629),E=n(131951),O=n(459273),y=n(242291),I=n(792165),v=n(603074),C=n(981631),S=n(921944),N=n(388032),T=n(566177);function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function j(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function A(e){var{channel:t}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["channel"]);let A=i.useRef(null),Z=(0,m.Q3)("SoundBoardRTCPanelButton"),{mute:x,suppress:L}=(0,_.Z)(t),w=(0,o.e7)([E.Z],()=>E.Z.isDeaf()),R=x||L||w,[D,k]=i.useState(!1),M=t.getGuildId(),U=(0,y.sR)({isSoundboardButtonDisabled:R}),[G,V]=(0,b.cv)(U),{analyticsLocations:B,parentAnalyticsLocation:H}=(0,h.ZP)(p.Z.SOUNDBOARD_BUTTON);function F(e){null!=M&&(0,d.jW)(e,async()=>{let{default:e}=await n.e("56049").then(n.bind(n,338991));return t=>(0,r.jsx)(e,j(P({guildId:M,sourceAnalyticsLocations:B},t),{onInteraction:(0,g.u)("SoundboardContextMenu",p.Z.RTC_PANEL)}))})}let{Component:z,play:W,events:{onMouseEnter:Y,onMouseLeave:K}}=(0,c.j)(),q=e=>(0,r.jsx)(u.yRy,{targetElementRef:A,animation:u.yRy.Animation.FADE,shouldShow:D,position:"top",onRequestClose:()=>k(!1),renderPopout:e=>{let{closePopout:n}=e;return(0,r.jsx)(v.Z,{guildId:M,channel:t,onClose:n,gridNotice:G===s.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&(0,r.jsx)(I.o,{onClose:n,markAsDismissed:V}),analyticsSource:"rtc panel"})},children:t=>(0,r.jsx)("div",{ref:A,children:(0,r.jsx)(u.zxk,j(P(j(P({},e,t),{className:a()(T.button,T.buttonColor,{[T.greyButtonActive]:D,[T.disabled]:R}),wrapperClassName:T.button,innerClassName:T.buttonContents,disabled:R,onClick:()=>{var t;null!=G&&G!==s.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&V(S.L.UNKNOWN),null==e||null==(t=e.onClick)||t.call(e),k(!D),W(),(0,f.v)(H,f.d.SOUNDBOARD)},onMouseEnter:t=>{var n,r;null==(n=l.onMouseEnter)||n.call(l,t),null==e||null==(r=e.onMouseEnter)||r.call(e),Y()},onMouseLeave:t=>{var n,r;null==(n=l.onMouseLeave)||n.call(l,t),null==e||null==(r=e.onMouseLeave)||r.call(e),K()},onContextMenu:F,fullWidth:!0,size:Z?u.zxk.Sizes.MEDIUM:u.zxk.Sizes.SMALL}),l),{children:(0,r.jsx)(z,{className:T.buttonIcon,size:"sm",color:"currentColor"})}))})}),Q=i.useCallback(()=>{R||k(!D)},[R,D]);return(0,O.yp)({event:C.CkL.TOGGLE_SOUNDBOARD,handler:Q}),(0,r.jsx)(h.Gt,{value:B,children:(0,r.jsx)(u.ua7,{targetElementRef:A,text:x?N.intl.string(N.t["Ox4/zc"]):L?N.intl.string(N.t["+YBKYG"]):w?N.intl.string(N.t.X1lQlp):N.intl.string(N.t["6EJvHh"]),children:e=>q(e)})})}},49230:function(e,t,n){n.d(t,{$:()=>f,h:()=>g}),n(388685);var r=n(512722),i=n.n(r),l=n(46973),a=n(304809),o=n(399882),s=n(545511),c=n(131951),u=n(747071);let d=null;try{d=(0,a.N)()}catch(e){}let p=new Map;async function h(e){let t=p.get(e);if(null!=t)return t;let n=await (await fetch(e)).arrayBuffer(),r=await (null==d?void 0:d.decodeAudioData(n));return null!=r&&p.set(e,r),r}function f(e){let{soundKey:t,soundURL:n,soundVolume:r,reportSoundStartedPlaying:a}=e;return new Promise(async e=>{let o=await h(n);null==o&&e(),c.Z.getMediaEngine().eachConnection(n=>{n.context===l.Yn.DEFAULT&&(a(),i()(null!=o,"audioBuffer cannot be null here"),n.startSamplesLocalPlayback(t,o,r,()=>{e()}))})})}function g(e,t){let{soundKey:n,soundURL:r,soundVolume:i,reportSoundStartedPlaying:l}=e,a=t.get(n);if(null!=a){a.currentTime=0;return}return new Promise(async e=>{let a=new(await (0,s.Z)(r));a.src=r,a.volume=(0,u.Z)(i),a.addEventListener(a instanceof o.Z.OGVPlayer?"loadedmetadata":"canplaythrough",()=>{l(),t.set(n,a),a.play()}),a.addEventListener("ended",()=>{t.delete(n),a.src="",e()})})}},380349:function(e,t,n){n.d(t,{Z:()=>f});var r=n(255367);n(73800);var i=n(442837),l=n(481060),a=n(314897),o=n(768419),s=n(456190),c=n(239470),u=n(894344),d=n(203777),p=n(616922),h=n(388032);function f(e,t,n){let f=(0,i.e7)([o.Z,a.default],()=>null!=t?(0,c.Z)(o.Z,a.default,t,e):void 0,[e,t]);if(null==f||null==e||null==t)return null;let g=f.isCurrentUser||f.notPlayable||f.playingSameTrack,m=f.isCurrentUser||f.syncingWithUser||f.syncingWithParty;return[(0,r.jsx)(l.sNh,{id:"spotify-play-".concat(e.session_id),action:()=>(0,d.Z)(f,p.kG.USER_ACTIVITY_PLAY,n),label:h.intl.string(h.t.rRffNz),subtext:g?(0,s.Z)(f,p.kG.USER_ACTIVITY_PLAY):void 0,disabled:g},"spotify-play-".concat(e.session_id)),f.canPlaySpotify?(0,r.jsx)(l.sNh,{id:"spotify-sync-".concat(e.session_id),action:()=>(0,u.Z)(f,p.kG.USER_ACTIVITY_SYNC,n),label:h.intl.string(h.t.eU3inJ),subtext:m?(0,s.Z)(f,p.kG.USER_ACTIVITY_SYNC):void 0,disabled:m},"spotify-sync-".concat(e.session_id)):null]}},262702:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(570140),i=n(846027),l=n(872810),a=n(317770),o=n(569545),s=n(199902),c=n(314897),u=n(592125),d=n(131951),p=n(590415);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Z{_initialize(){r.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}_terminate(){r.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}constructor(...e){super(...e),h(this,"handleVoiceStateUpdates",e=>{let{voiceStates:t}=e,n=c.default.getId();t.forEach(e=>{var t;e.userId===n&&(null==(t=u.Z.getChannel(e.channelId))?void 0:t.isGuildStageVoice())&&(0,p.gf)(e)!==p.xO.ON_STAGE&&(this.handleStopStream(e),this.handleStopUserVideo())})}),h(this,"handleStopStream",e=>{let t=s.Z.getActiveStreamForUser(e.userId,e.guildId);null!=t&&(0,l.g)((0,o.V9)(t),!1)}),h(this,"handleStopUserVideo",()=>{d.Z.isVideoEnabled()&&i.Z.setVideoEnabled(!1)})}}let g=new f},448206:function(e,t,n){n.d(t,{Z:()=>o});var r=n(442837),i=n(314897),l=n(944486),a=n(88751);function o(e){return(0,r.e7)([i.default,l.Z,a.ZP],()=>{let t=i.default.getId();return l.Z.getVoiceChannelId()===e?a.ZP.getPermissionsForUser(t,e):null},[e])}},639033:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(255367);n(73800);var i=n(481060),l=n(570140),a=n(317770),o=n(314897),s=n(592125),c=n(797258),u=n(590415),d=n(981631);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h="STAGE_INVITED_TO_SPEAK_MODAL";class f extends a.Z{_initialize(){l.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}_terminate(){l.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}constructor(...e){super(...e),p(this,"handleVoiceStateUpdates",e=>{var t;let{voiceStates:l}=e,a=o.default.getId(),f=null==(t=c.Z.getSession())?void 0:t.sessionId,g=l.find(e=>e.userId===a&&e.sessionId===f);if(null==g)return;let m=g.channelId;if(null==m){(0,i.nfh)(h)&&(0,i.Mr3)(h);return}let b=s.Z.getChannel(m);if(!(null==b?void 0:b.isGuildStageVoice()))return;let _=(0,u.gf)(g)===u.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;if(null!=b&&_){if((0,i.nfh)(h))return;(0,i.ZDy)(async()=>{let{default:e}=await n.e("13878").then(n.bind(n,113140));return t=>{var n,i;return(0,r.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}({},t),i=i={channel:b},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}},{modalKey:h,onCloseRequest:d.VqG})}})}}let g=new f},579022:function(e,t,n){n.d(t,{Z:()=>s});var r=n(255367);n(73800);var i=n(481060),l=n(388032),a=n(790773);let o=Math.ceil(2*Math.PI*20),s=e=>{let{total:t,used:n}=e,s=Math.max(0,Math.min(1,n/t)),c="".concat(Math.floor(100*s),"%");return(0,r.jsx)(i.ua7,{text:l.intl.formatToPlainString(l.t["2eoRMj"],{used:c}),children:e=>{var t,n;return(0,r.jsxs)("div",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({className:a.wrapper,role:"progressbar","aria-label":l.intl.formatToPlainString(l.t["2eoRMj"],{used:c})},e),n=n={children:[(0,r.jsxs)("svg",{viewBox:"25 25 50 50",className:a.svg,"aria-hidden":!0,children:[(0,r.jsx)("circle",{className:a.background,cx:"50",cy:"50",r:20}),(0,r.jsx)("circle",{className:a.foreground,cx:"50",cy:"50",r:20,stroke:function(e){let t=Math.round(-85*e+199),n=Math.round(-71*e+208),r=Math.round(-22*e+240);return"rgb(".concat(t,", ").concat(n,", ").concat(r,")")}(s),strokeDasharray:function(e){let t=Math.floor(o*e);return"".concat(t,", ").concat(o)}(s)})]}),(0,r.jsx)("aside",{className:a.usageInfo,"aria-hidden":!0,children:c})]},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})}},703016:function(e,t,n){n.d(t,{Z:()=>z}),n(704826),n(35282),n(290780);var r=n(913527),i=n.n(r),l=n(570140),a=n(241601),o=n(419363),s=n(933557),c=n(660199),u=n(869765),d=n(706454),p=n(695346),h=n(314897),f=n(433355),g=n(592125),m=n(271383),b=n(430824),_=n(131951),E=n(292959),O=n(699516),y=n(944486),I=n(9156),v=n(594174),C=n(51144),S=n(196051),N=n(441729),T=n(653477),P=n(981631),j=n(388032);let A=[],Z=null,x=null,L=null,w=/\|\|([\s\S]+?)\|\|/g;function R(e,t,n,r){let l=b.Z.getGuild(n),a=e.replace(w,j.intl.string(j.t["F+x38P"])).replace(/<@!?(\d+)>/g,(e,t)=>{var r;let i=v.default.getUser(t);return null==i?e:null!=(r=m.ZP.getNick(n,i.id))?r:C.ZP.getName(i)}).replace(/<@&?(\d+)>/g,(e,t)=>{let n=null!=l?b.Z.getRole(l.id,t):null;return null!=n&&null!=n.name?n.name:j.intl.string(j.t.dRcLAw)}).replace(/<#(\d+)>/g,(e,t)=>{let n=g.Z.getChannel(t);return null==n?e:(0,s.F6)(n,v.default,O.Z)}).replace(/<a?:(\w+):(\d+)>/g,(e,t)=>"".concat(j.intl.string(j.t.sMOuub)," ").concat(t)).replace(/<\/([^\s]+?):(\d+)>/g,(e,t)=>"/".concat(t)).replace(/<t:(\d+):([A-Z]|[a-z])>/g,(e,t,n)=>{let r=c.Qh[n],l=1e3*parseInt(t,10),a=i()(l);return null!=r?r(a):a.format()});return null==r?j.intl.formatToPlainString(j.t["uIj77+"],{username:t,body:a}):j.intl.formatToPlainString(j.t["Ix4H+v"],{username:t,body:a,replyUsername:r})}function D(){if(!o.Zh)return!1;let e=d.default.locale;if(null==L){var t;L=null==(t=window.speechSynthesis)?void 0:t.getVoices()}let n=L.filter(t=>t.lang===e||t.lang.slice(0,e.length)===e);x=n.length>0?n[0]:null}async function k(e,t,n,r,i){let l=o.e6(e,n);null!==l&&(null==x&&D(),t?await (0,S.NB)():null==Z||Z.removeEventListener("end",S.NB),l.addEventListener("end",S.NB),null!=r&&l.addEventListener("start",r),null!=i&&l.addEventListener("end",i),Z=l,o.iq(l,x))}function M(e,t,n,r,i){k(e,t,i,()=>{(0,S.Bo)(n,r)})}function U(e){let{text:t,interrupt:n,maxLength:r,onStart:i,onEnd:l}=e;k(t,n,r,i,l)}function G(){return null!==Z&&Z.removeEventListener("end",S.NB),o.M9(),Z=null,!0}function V(e){var t,n,r;let{message:i,channel:l}=e,a=i.type===P.uaV.REPLY?u.Z.getMessageByReference(i.messageReference):null,o=(null==a?void 0:a.state)===u.Y.LOADED?null==a||null==(t=a.message)?void 0:t.author:null,s=null!=o?null!=(n=m.ZP.getNick(l.guild_id,null==o?void 0:o.id))?n:C.ZP.getName(o):null,c=l.getGuildId(),d=null!=(r=m.ZP.getNick(c,i.author.id))?r:C.ZP.getName(i.author);return M(R(i.content,d,c,s),!0,l.id,i.id),!0}function B(e){var t,n,r,i,l,a;let{channelId:o,message:s,optimistic:c}=e;if(c||_.Z.isSelfDeaf())return!1;let u=g.Z.getChannel(o);if(null==u)return!1;let d=y.Z.getChannelId(),b=f.ZP.getCurrentSidebarChannelId(d),v=o===d||o===b,S=p.OW.getSetting()&&s.tts&&v,N=E.Z.getTTSType(),j=(null==(t=s.author)?void 0:t.id)!==h.default.getId()&&(N===P.PrB.ALL_CHANNELS||N===P.PrB.SELECTED_CHANNEL&&v);if((S||j)&&!O.Z.isBlockedOrIgnoredForMessage(s)){if(A.indexOf(s.id)>=0)return!1;A.unshift(s.id)>10&&A.pop();let e=u.getGuildId();if(null!=e&&I.ZP.getMutedChannels(e).has(o))return!1;let t=null!=(l=null!=(i=m.ZP.getNick(e,null==(n=s.author)?void 0:n.id))?i:C.ZP.getName(s.author))?l:"",c=s.type===P.uaV.REPLY?null==(r=s.referenced_message)?void 0:r.author:null,d=null!=c?null!=(a=m.ZP.getNick(e,null==c?void 0:c.id))?a:C.ZP.getName(c):null;M(R(s.content,t,e,d),!1,u.id,s.id,T.f)}return!1}function H(e){let{id:t,channelId:n}=e,r=N.Z.currentMessage;return null!=r&&t===r.messageId&&n===r.channelId&&((0,S.NB)(),!0)}function F(){_.Z.isSelfDeaf()&&o.M9()}let z={init(){l.Z.subscribe("SPEAK_TEXT",U),l.Z.subscribe("SPEAK_MESSAGE",V),l.Z.subscribe("STOP_SPEAKING",G),l.Z.subscribe("MESSAGE_CREATE",B),l.Z.subscribe("MESSAGE_DELETE",H),l.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",F),l.Z.subscribe("USER_SETTINGS_PROTO_UPDATE",D),(0,a.Ql)(D)}}},886162:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r=n(255367),i=n(73800),l=n(990547),a=n(399606),o=n(481060),s=n(232567),c=n(213609),u=n(313201),d=n(23434),p=n(981631),h=n(388032),f=n(432637);function g(e){let{transitionState:t}=e,g=(0,a.e7)([d.Z],()=>d.Z.getAction()),[m,b]=i.useState(!1),_=(0,u.Dt)();async function E(){return b(!0),g===p.c2C.AGREEMENTS&&b(await (0,s.Lr)()),null}return(0,c.Z)({type:l.ImpressionTypes.VIEW,name:l.ImpressionNames.USER_AGREEMENTS,properties:{required_action:g}},{},[]),(0,r.jsxs)(o.Y0X,{"aria-labelledby":_,transitionState:t,parentComponent:"UserAgreementsModal",children:[(0,r.jsx)("div",{id:_}),(0,r.jsx)(o.xBx,{separator:!1,children:(0,r.jsx)(o.X6q,{variant:"heading-lg/semibold",children:h.intl.string(h.t["7glvXl"])})}),(0,r.jsxs)(o.hzk,{children:[(0,r.jsx)(o.Text,{variant:"text-md/normal",children:g===p.c2C.AGREEMENTS?h.intl.format(h.t.zHolhY,{}):null}),(0,r.jsxs)("div",{className:f.container,children:[(0,r.jsxs)("ul",{className:f.links,children:[(0,r.jsx)("li",{children:h.intl.format(h.t.iw0hFh,{url:p.EYA.TERMS})}),(0,r.jsx)("li",{children:h.intl.format(h.t["36klnJ"],{url:p.EYA.PAID_TERMS})}),(0,r.jsx)("li",{children:h.intl.format(h.t.TquFBA,{url:p.EYA.PRIVACY})}),(0,r.jsx)("li",{children:h.intl.format(h.t.ia96TU,{url:p.EYA.GUIDELINES})})]}),(0,r.jsx)("img",{className:f.image,alt:"",src:n(146714)})]}),(0,r.jsx)(o.Text,{variant:"text-md/normal",className:f.agreementDescription,children:h.intl.string(h.t["+USXQE"])})]}),(0,r.jsx)(o.mzw,{children:(0,r.jsx)(o.zxk,{submitting:m,onClick:E,color:o.zxk.Colors.GREEN,children:h.intl.string(h.t["+TBKLy"])})})]})}},332754:function(e,t,n){n.d(t,{Z:()=>O});var r=n(255367);n(73800);var i=n(481060),l=n(570140),a=n(84615),o=n(429142),s=n(886412),c=n(377656),u=n(1964),d=n(852758),p=n(314897),h=n(594174),f=n(374023),g=n(886162),m=n(981631),b=n(815660),_=n(308569),E=n(231338);let O={init(){l.Z.subscribe("CONNECTION_OPEN",this.handleRequiredAction),l.Z.subscribe("USER_REQUIRED_ACTION_UPDATE",this.handleRequiredAction),l.Z.subscribe("CURRENT_USER_UPDATE",this.handleCurrentUserUpdate),p.default.addChangeListener(this.handleAuthenticationStoreChanged)},handleRequiredAction(e){let t=e.requiredAction;!f.s.isDisallowPopupsSet()&&null!=h.default.getCurrentUser()&&(t===m.c2C.REQUIRE_CAPTCHA||t===m.c2C.REQUIRE_VERIFIED_EMAIL||t===m.c2C.REQUIRE_VERIFIED_PHONE||t===m.c2C.REQUIRE_REVERIFIED_PHONE||t===m.c2C.REQUIRE_VERIFIED_EMAIL_OR_VERIFIED_PHONE||t===m.c2C.REQUIRE_REVERIFIED_EMAIL_OR_REVERIFIED_PHONE||t===m.c2C.REQUIRE_VERIFIED_EMAIL_OR_REVERIFIED_PHONE||u.Z.isEmailReverification(t)?(0,s.VJ)({location:"verification-legacy"})?(0,a.q4)(()=>(0,r.jsx)(c.Z,{}),{layerKey:_.CV,Layer:o.ZP}):(0,a.q4)(()=>(0,r.jsx)(d.Z,{}),{layerKey:_.CV,Layer:o.ZP}):t===m.c2C.AGREEMENTS?(0,i.h7j)(e=>(0,r.jsx)(g.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e)),{modalKey:_.f1,onCloseRequest:E.Vq}):t===m.c2C.REQUIRE_SAFETY_FLOWS?(0,s.VJ)({location:"verification-safety-flows"})&&(0,a.q4)(()=>(0,r.jsx)(c.Z,{}),{layerKey:_.CV,Layer:o.ZP}):null==t&&((0,a.ob)(_.CV),(0,i.nfh)(_.f1)&&(0,i.Mr3)(_.f1)))},handleAuthenticationStoreChanged(){null==p.default.getId()&&((0,a.ob)(_.CV),(0,i.Mr3)(_.f1),(0,i.Mr3)(_.HR),(0,i.Mr3)(_.F0),(0,i.Mr3)(b.M))},handleCurrentUserUpdate(e){let{user:t}=e;t.verified&&(0,i.Mr3)(_.F0)}}},78687:function(e,t,n){n.d(t,{Z:()=>f}),n(388685),n(539854),n(35282);var r=n(392711),i=n.n(r),l=n(442837),a=n(377108),o=n(433517),s=n(709054),c=n(48481),u=n(526761),d=n(981631);let p="selectedChannelGuildFrecency";function h(e){let{state:t}=l.ZP.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[e=>null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e,e=>Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}]);return null==t||0===t.favorites.length?[]:t.favorites.map((n,r)=>{let i=a.JM.create();return i.format="IMAGE"===n.format?a.EO.IMAGE:"VIDEO"===n.format?a.EO.VIDEO:a.EO.NONE,i.src=n.src,i.width=n.width,i.height=n.height,i.order=t.favorites.length-r+e,{url:n.url,favorite:i}})}let f=[{version:2,run(e){let t=h(1);if(0===t.length)return!1;for(let{url:n,favorite:r}of(null==e.favoriteGifs&&(e.favoriteGifs=a.wK.create()),e.favoriteGifs.gifs={},t))e.favoriteGifs.gifs[n]=r;return e.favoriteGifs.hideTooltip=t.length>2,!0},cleanup(){}},{version:3,run(e){function t(){return{usageHistory:{},favorites:[]}}let{state:n}=l.ZP.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[e=>null==e||0===Object.keys(e).length?t():e,e=>null==e||0===Object.keys(e).length?t():(null==e.favorites&&(e.favorites=[]),e)]);if(null==n)return!1;let r=!1;return n.favorites.length>0&&(e.favoriteStickers=a.Lt.create(),e.favoriteStickers.stickerIds=i().uniq(n.favorites).slice(0,u.oX),r=!0),i().size(n.usageHistory)>0&&(e.stickerFrecency=a.ls.create(),e.stickerFrecency.stickers=(0,c.tU)(n.usageHistory,100),r=!0),r},cleanup(){o.K.remove("StickersPersistedStore")}},{version:4,run(e){let{state:t}=l.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[()=>({usageHistory:o.K.get("EmojiUsageHistory")||{}})]);if(null==t)return!1;let n=!1;return null!=t.favorites&&t.favorites.length>0&&(e.favoriteEmojis=a.ND.create(),e.favoriteEmojis.emojis=i().uniq(t.favorites).slice(0,u.oX),n=!0),i().size(t.usageHistory)>0&&(e.emojiFrecency=a.PL.create(),e.emojiFrecency.emojis=(0,c.tU)(t.usageHistory,100),n=!0),n},cleanup(){o.K.remove("EmojiStore"),o.K.remove("EmojiUsageHistory"),o.K.remove("EmojiDiversitySurrogate")}},{version:6,run(e){null==e.favoriteGifs&&(e.favoriteGifs=a.wK.create()),null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});let t=h(1);if(0===t.length)return!1;i()(e.favoriteGifs.gifs).values().sortBy("order").forEach((e,n)=>e.order=t.length+1+n);let n=a.wK.toBinary(e.favoriteGifs).length,r=0;for(let{url:i,favorite:l}of t){if(l.order=t.length-r,r++,i in e.favoriteGifs.gifs){e.favoriteGifs.gifs[i].order=l.order;continue}let o=a.JM.toBinary(l).length+i.length+7;n+o>u.vY||(n+=o,e.favoriteGifs.gifs[i]=l)}for(n=a.wK.toBinary(e.favoriteGifs).length;n>u.vY;){let t=0;for(let n in e.favoriteGifs.gifs)if(delete e.favoriteGifs.gifs[n],++t>=10)break;n=a.wK.toBinary(e.favoriteGifs).length}return!0},cleanup(){}},{version:7,run(e){let{state:t}=l.ZP.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]);if(null==t)return!1;let n=!1;return i().size(t.usageHistory)>0&&(e.applicationCommandFrecency=a.YI.create(),e.applicationCommandFrecency.applicationCommands=(0,c.tU)(t.usageHistory,500),n=!0),n},cleanup(){o.K.remove("ApplicationCommandFrecency")}},{version:8,run(e){let{state:t}=l.ZP.PersistedStore.migrateAndReadStoreState("SoundboardFavoriteStore",[]);if(null==t)return!1;let n=!1;return i().size(t.favoriteSounds)>0&&(e.favoriteSoundboardSounds=a.h_.create(),s.default.keys(t.favoriteSounds).forEach(n=>{new Set(t.favoriteSounds[n]).forEach(t=>{var n;null==(n=e.favoriteSoundboardSounds)||n.soundIds.push(t)})}),n=!0),n},cleanup(){o.K.remove("SoundboardFavoriteStore")}},{version:9,run(e){let t=o.K.get(p);if(null==t)return!1;for(let e in t)d.Xyh.test(e)||delete t[e];return e.guildAndChannelFrecency=a.lG.create(),e.guildAndChannelFrecency.guildAndChannels=(0,c.tU)(t,100),!0},cleanup(){o.K.remove(p)}},{version:10,run(e){var t;if(null==e.emojiFrecency)return!1;let n=null!=(t=e.emojiFrecency.emojis)?t:{},r=!1;if(i().size(n)>0){let t=a.PL.create();a.PL.mergePartial(t,e.emojiFrecency),null!=e.emojiReactionFrecency&&a.PL.mergePartial(t,e.emojiReactionFrecency),e.emojiReactionFrecency=t,r=!0}return r},cleanup(){}}]},315341:function(e,t,n){n.d(t,{Z:()=>b}),n(410992),n(227481),n(730884),n(20464),n(341884),n(364341),n(629680),n(505025),n(918970),n(121784),n(644351),n(146733);var r=n(442837),i=n(704215),l=n(524437),a=n(381499),o=n(433517),s=n(581364),c=n(536442),u=n(592125),d=n(915486),p=n(48481),h=n(981631),f=n(71509);function g(e,t){let n=!1;return null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array,lastReceivedChangelogId:"0",recurringDismissibleContentStates:{}}),null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array),(0,d.jl)(e.userContent.dismissedContents,t)||(e.userContent.dismissedContents=(0,d.GV)(e.userContent.dismissedContents,t),n=!0),n}function m(e,t,n){return!!c.qc.hasHiddenHotspot(t)&&g(e,n)}let b=[{version:2,run(e){var t,n;if(null!=e.inbox)return!1;let r=!1,i=l.f9.create();e.inbox=i,o.K.get("seenInboxTutorial",!1)&&(i.viewedTutorial=!0,r=!0);let a=o.K.get("recentsButtonTab2");null!=a&&(i.currentTab="Recent Mentions"===a?l.X.MENTIONS:l.X.UNREADS,r=!0);let s=null!=(t=o.K.get("unread-messages-collapsed-channels"))?t:{};for(let t in s){if(!s[t])continue;let i=u.Z.getChannel(t);null!=i&&(r=!0,(0,p.i7)(e,null!=(n=i.guild_id)?n:"0",i.id,e=>{e.collapsedInInbox=!0}))}return r},cleanup(){o.K.remove("seenInboxTutorial"),o.K.remove("recentsButtonTab2"),o.K.remove("unread-messages-collapsed-channels")}},{version:3,run(e){let{state:t}=r.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[()=>({diversitySurrogate:o.K.get("EmojiDiversitySurrogate")||""})]);if(null==t)return!1;let n=!1;return null!=t.diversitySurrogate&&""!==t.diversitySurrogate&&(null==e.textAndImages&&(e.textAndImages=l.Me.create()),null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=a.Gm.create()),e.textAndImages.diversitySurrogate.value=t.diversitySurrogate,n=!0),n},cleanup(){}},{version:4,run(e){let t=!1;return(!0===o.K.get("HAS_SEEN_HUB_UPSELL")||c.qc.hasHiddenHotspot(c.v6.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=g(e,i.z.HUB_WAITLIST_UPSELL)),t},cleanup(){o.K.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run(e){var t,n,r,i,s,c,u;let d=!1;e.textAndImages=null!=(t=e.textAndImages)?t:l.Me.create(),e.notifications=null!=(n=e.notifications)?n:l.sf.create(),e.privacy=null!=(r=e.privacy)?r:l.bE.create(),e.voiceAndVideo=null!=(i=e.voiceAndVideo)?i:l.v_.create(),e.gameLibrary=null!=(s=e.gameLibrary)?s:l.Fm.create(),e.debug=null!=(c=e.debug)?c:l.tA.create();let p=null!=(u=o.K.get("UserSettingsStore"))?u:{};return"boolean"==typeof p.useRichChatTextBox&&(e.textAndImages.useRichChatInput=a.D5.create({value:p.useRichChatTextBox}),d=!0),"string"==typeof p.renderSpoilers&&(e.textAndImages.renderSpoilers=a.Gm.create({value:p.renderSpoilers}),d=!0),"boolean"==typeof p.useThreadSidebar&&(e.textAndImages.useThreadSidebar=a.D5.create({value:p.useThreadSidebar}),d=!0),"boolean"==typeof p.showInAppNotifications&&(e.notifications.showInAppNotifications=a.D5.create({value:p.showInAppNotifications}),d=!0),p.emojiPickerCollapsedSections instanceof Array&&(e.textAndImages.emojiPickerCollapsedSections=p.emojiPickerCollapsedSections,d=!0),p.stickerPickerCollapsedSections instanceof Array&&(e.textAndImages.stickerPickerCollapsedSections=p.stickerPickerCollapsedSections,d=!0),"boolean"==typeof p.viewImageDescriptions&&(e.textAndImages.viewImageDescriptions=a.D5.create({value:p.viewImageDescriptions}),d=!0),"boolean"==typeof p.showCommandSuggestions&&(e.textAndImages.showCommandSuggestions=a.D5.create({value:p.showCommandSuggestions}),d=!0),"boolean"==typeof p.alwaysPreviewVideo&&(e.voiceAndVideo.alwaysPreviewVideo=a.D5.create({value:p.alwaysPreviewVideo}),d=!0),"boolean"==typeof p.notifyFriendsOnGoLive&&(e.notifications.notifyFriendsOnGoLive=a.D5.create({value:p.notifyFriendsOnGoLive}),d=!0),"boolean"==typeof p.installShortcutDesktop&&(e.gameLibrary.installShortcutDesktop=a.D5.create({value:p.installShortcutDesktop}),d=!0),"boolean"==typeof p.installShortcutStartMenu&&(e.gameLibrary.installShortcutStartMenu=a.D5.create({value:p.installShortcutStartMenu}),d=!0),"boolean"==typeof p.allowActivityPartyPrivacyFriends&&(e.privacy.allowActivityPartyPrivacyFriends=a.D5.create({value:p.allowActivityPartyPrivacyFriends}),d=!0),"boolean"==typeof p.allowActivityPartyPrivacyVoiceChannel&&(e.privacy.allowActivityPartyPrivacyVoiceChannel=a.D5.create({value:p.allowActivityPartyPrivacyVoiceChannel}),d=!0),"boolean"==typeof p.rtcPanelShowVoiceStates&&(e.debug.rtcPanelShowVoiceStates=a.D5.create({value:p.rtcPanelShowVoiceStates}),d=!0),d},cleanup(){}},{version:7,run:e=>m(e,c.v6.APPLICATION_COMMAND_TOOLTIP,i.z.APPLICATION_COMMAND_TOOLTIP),cleanup(){}},{version:8,run:e=>m(e,c.v6.CHANNEL_BANNER_MEMBER_LIST_NOTICE,i.z.CHANNELINFO_CHANNELBANNER_NOTICE),cleanup(){}},{version:9,run:e=>(c.qc.hasHiddenHotspot(c.v6.MULTI_ACCOUNT_TOOLTIP)&&o.K.set(f.Ip,"true"),m(e,c.v6.MULTI_ACCOUNT_TOOLTIP,i.z.ACCOUNT_MULTIACCOUNT_TOOLTIP)),cleanup(){}},{version:10,run(e){var t;let n=m(e,c.v6.HUB_LINK_CHANNEL_NOTICE,i.z.CHANNEL_NOTICE_HUBLINK),r=null!=(t=o.K.get("channelNotices"))?t:{};return!1===r[h.vID.INVITE]&&g(e,i.z.CHANNEL_NOTICE_INVITE)&&(n=!0),!1===r[h.vID.QUICKSWITCHER]&&g(e,i.z.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0),!1===r[h.vID.GUILD_BOOSTING]&&g(e,i.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0),n},cleanup(){o.K.remove("channelNotices")}},{version:11,run(e){let t=!1;return m(e,c.v6.GUILD_EVENT_UPSELL,i.z.GUILD_HEADER_EVENT_UPSELL)&&(t=!0),m(e,c.v6.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,i.z.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0),m(e,c.v6.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,i.z.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0),t},cleanup(){}},{version:12,run(e){let t=!1;return o.K.get("hideNag")&&g(e,i.z.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0),o.K.get("hideConnectSpotify")&&g(e,i.z.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0),o.K.get("hideConnectPlayStation")&&g(e,i.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION)&&(t=!0),o.K.get("hideMFASMSNotice")&&g(e,i.z.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0),t},cleanup(){o.K.remove("hideNag"),o.K.remove("hideConnectSpotify"),o.K.remove("hideConnectPlayStation"),o.K.remove("hideMFASMSNotice")}},{version:13,run(e){let t=!1;return o.K.get("hidePremiumPromo")&&g(e,i.z.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0),o.K.get("hidePremiumTier2TrialEnding")&&g(e,i.z.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0),o.K.get("hidePremiumReactivateNotice")&&g(e,i.z.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0),m(e,c.v6.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,i.z.GUILD_HEADER_INVITE_SPLASH)&&(t=!0),t},cleanup(){o.K.remove("hidePremiumPromo"),o.K.remove("hidePremiumTier2TrialEnding"),o.K.remove("hidePremiumReactivateNotice")}},{version:14,run:e=>m(e,c.v6.ACTIVITY_BEB_TUTORIAL,i.z.ACTIVITIES_TUTORIAL_COACH_MARK),cleanup(){}},{version:15,run:e=>m(e,c.v6.NOW_PLAYING_CONSENT_CARD,i.z.NOW_PLAYING_CONSENT_CARD),cleanup(){}},{version:16,run(e){let t=o.K.get("PromotionsPersistedStore");if(null==t)return!1;let n=t._state.lastDismissedOutboundPromotionStartDate;return null!=n&&(null==e.userContent&&(e.userContent=l.az.create()),null==e.userContent.lastDismissedOutboundPromotionStartDate)&&(e.userContent.lastDismissedOutboundPromotionStartDate=a.Gm.create({value:n}),!0)},cleanup(){}},{version:17,run(e){let{state:t}=r.ZP.PersistedStore.migrateAndReadStoreState("ExpressionSuggestionsPersistedStore",null);if(null==t)return!1;let n=t.expressionSuggestionsEnabled;return null!=n&&(null==e.textAndImages&&(e.textAndImages=l.Me.create()),null==e.textAndImages.expressionSuggestionsEnabled)&&(e.textAndImages.expressionSuggestionsEnabled=a.D5.create({value:n}),!0)},cleanup(){o.K.remove("ExpressionSuggestionsPersistedStore")}},{version:18,run(e){let t=!1;return m(e,c.v6.GUILD_DELETE_FEEDBACK,i.z.GUILD_DELETE_FEEDBACK)&&(t=!0),m(e,c.v6.GUILD_LEAVE_FEEDBACK,i.z.GUILD_LEAVE_FEEDBACK)&&(t=!0),t},cleanup(){}},{version:19,run(e){var t;let n=!1;return null!=(t=o.K.get("forumHelperCardStorageKey"))&&t&&(n=g(e,i.z.FORUM_CHANNEL_HELPER_CARD)),n},cleanup(){o.K.remove("forumHelperCardStorageKey")}},{version:20,run(e){let t=o.K.get("lastChangeLogId");if(null==t)return!1;if(!(0,s.BH)(t))return o.K.remove("lastChangeLogId"),!1;if(null==e.userContent)e.userContent=l.az.create();else if(null!=e.userContent&&null!=e.userContent.lastReceivedChangelogId&&"0"!==e.userContent.lastReceivedChangelogId)return o.K.remove("lastChangeLogId"),!1;return e.userContent.lastReceivedChangelogId=t,!0},cleanup(){o.K.remove("lastChangeLogId")}},{version:21,run(e){var t;return(null==(t=e.appearance)?void 0:t.uiDensity)===l.Pi.COMPACT&&(e.appearance.uiDensity=l.Pi.DEFAULT,!0)},cleanup(){}}]},507468:function(e,t,n){n.d(t,{Z:()=>p});var r=n(392711),i=n.n(r),l=n(570140),a=n(78687),o=n(315341),s=n(262847),c=n(675478),u=n(581883),d=n(526761);let p={init(){s.Z[d.yP.PRELOADED_USER_SETTINGS]=o.Z,s.Z[d.yP.FRECENCY_AND_FAVORITES_SETTINGS]=a.Z,l.Z.subscribe("CONNECTION_OPEN",h),l.Z.subscribe("USER_SETTINGS_PROTO_ENQUEUE_UPDATE",f),l.Z.subscribe("USER_SETTINGS_PROTO_LOAD_IF_NECESSARY",g),l.Z.subscribe("APP_STATE_UPDATE",m)}};function h(){let e=u.Z.getFullState(),t=e[d.yP.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&c.hW.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs),i().forEach(c.aj,(t,n)=>{let r=e[Number(n)];null!=r.editInfo.offlineEditDataVersion&&null!=r.editInfo.protoToSave&&t.scheduleSaveFromOfflineEdit()})}function f(e){let{settings:{proto:t,type:n},delaySeconds:r,jitter:i}=e;c.aj[n].markDirty(t,{delaySeconds:r,jitter:i})}function g(e){let{settingsType:t}=e;c.aj[t].loadIfNecessary()}function m(e){let{state:t}=e;("inactive"===t||"background"===t)&&i().forEach(c.aj,(e,t)=>{null!=u.Z.getFullState()[Number(t)].editInfo.timeout&&(e.logger.log("Triggering persistChanges due to AppStateUpdate"),e.persistChanges())})}},282506:function(e,t,n){let r;n.d(t,{Z:()=>v});var i=n(570140),l=n(519938),a=n(317770),o=n(317381),s=n(928518),c=n(199902),u=n(592125),d=n(819640),p=n(131951),h=n(366050),f=n(19780),g=n(944486),m=n(914010),b=n(979651),_=n(981631),E=n(65154);function O(){var e;let t=r;if(null==t||!h.Z.isOpen(t))return!1;i.Z.wait(()=>l.xv(t)),null==(e=f.Z.getRTCConnection())||e.setPipOpen(!1),r=null}function y(){var e;let t=f.Z.getChannelId(),n=r===t;if(function(){let e=f.Z.getChannelId(),t=g.Z.getChannelId();if(!p.Z.supports(E.AN.VIDEO)||s.Z.getWindowOpen(_.KJ3.CHANNEL_CALL_POPOUT))return!0;let n=c.Z.getAllActiveStreams().length>0;if(!(null!=e&&Object.values(b.Z.getVideoVoiceStatesForChannel(e)).some(e=>{let{userId:t}=e;return!p.Z.isLocalVideoDisabled(t)})||n))return!0;let r=d.Z.hasLayers();return!(r&&d.Z.getLayers().includes(_.S9g.RTC_DEBUG))&&(!!r||e===t)}())return O();if(n||O(),null==t)return!1;let a=u.Z.getChannel(t);return!(null==a||h.Z.isOpen(t))&&(i.Z.wait(()=>l.bA(a.id,_.NYg.VIDEO,{channel:a})),null==(e=f.Z.getRTCConnection())||e.setPipOpen(!0),void(r=t))}class I extends a.Z{_initialize(){g.Z.addChangeListener(y),m.Z.addChangeListener(y),f.Z.addChangeListener(y),b.Z.addChangeListener(y),d.Z.addChangeListener(y),c.Z.addChangeListener(y),s.Z.addChangeListener(y),p.Z.addChangeListener(y),o.ZP.addChangeListener(y)}_terminate(){g.Z.removeChangeListener(y),m.Z.removeChangeListener(y),f.Z.removeChangeListener(y),b.Z.removeChangeListener(y),d.Z.removeChangeListener(y),c.Z.removeChangeListener(y),s.Z.removeChangeListener(y),p.Z.removeChangeListener(y),o.ZP.removeChangeListener(y)}}let v=new I},856555:function(e,t,n){n.d(t,{EQ:()=>E,Rg:()=>_});var r=n(255367),i=n(73800),l=n(704215),a=n(540059),o=n(605236),s=n(930153),c=n(507808),u=n(822857),d=n(432792),p=n(981631),h=n(388032),f=n(326238);function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let m=e=>(0,r.jsx)(d.M4,g({titleText:h.intl.string(h.t["duN28/"]),descriptionText:h.intl.string(h.t["Veu++f"]),ctaText:h.intl.string(h.t.F4SoLC),customIconSrcs:{static:f.Z}},e)),b=()=>{let e=(0,a.Q3)("VirtualCurrency: ShopOnboardingCoachmark"),t=i.useCallback(()=>{let t=(0,s.Lk)(document.body.style.getPropertyValue("--custom-channel-header-height"),48),n=(0,s.Lk)(document.body.style.getPropertyValue("--custom-app-top-bar-height"),36);return e?t+n:t},[e]);return{requiredSpacingFromTop:i.useMemo(()=>t(),[t]),isVisualRefreshEnabled:e}},_=e=>{var{positionControlRef:t,targetElementRef:n,children:l}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["positionControlRef","targetElementRef","children"]);let{requiredSpacingFromTop:o}=b(),s=i.useCallback(e=>{if((e.bottom+e.top)/2<=o)return!1;let t=window.innerHeight-(0,d.t4)();return!(e.bottom>t)},[o]);return(0,r.jsx)(d.WS,{defaultCoachmarkAlign:"bottom",targetElementRef:n,positionControlRef:t,popoutElement:(0,r.jsx)(m,g({},a)),calculateVisibility:s,spacing:12,children:l})},E=e=>{let{listScrollerRef:t}=e,{enabled:n}=(0,u.WX)({location:"useShopOnboardingCoachmark"}),r=i.useRef(null),a=i.useCallback(()=>{null!==r.current&&r.current.updateElementPosition()},[]),s=i.useCallback(()=>{null!=t&&null!=t.current&&t.current.scrollToTop({animate:!0})},[t]),h=(0,o.wE)(l.z.VIRTUAL_CURRENCY_DISCOVERY_ONBOARDING_COACHMARK),{shouldShow:f,closeCoachmarkIfOpen:g}=(0,d.M)({onboardingCoachmarkType:"shop",prevCoachmarksDismissed:h,onShowCoachmarkHandler:s}),m=i.useCallback(()=>g("CTA_CLICK"),[g]),b=i.useCallback(()=>{(0,c.Y)({pageType:p.ZY5.PRIVATE_CHANNEL_LIST,sectionType:p.jXE.ORBS_SHOP_ONBOARDING_COACHMARK,ctaObject:p.qAy.SHOP_BUTTON_TO_SHOP_ORBS_TAB}),g()},[g]);return n?{shouldShow:f,closeCoachmarkIfOpen:g,onHandleScroll:a,positionControlRef:r,onClose:g,onCtaClick:m,onShopButtonClick:b}:{shouldShow:!1,closeCoachmarkIfOpen:p.dG4,onHandleScroll:p.dG4,positionControlRef:r,onClose:p.dG4,onCtaClick:p.dG4,onShopButtonClick:p.dG4}}},444961:function(e,t,n){n.d(t,{Z:()=>_}),n(388685);var r=n(846519),i=n(570140),l=n(287734),a=n(317770),o=n(199902),s=n(592125),c=n(430824),u=n(517100),d=n(19780),p=n(70956),h=n(358085),f=n(981631);let g=new r.V7,m=new r.V7;class b extends a.Z{_initialize(){i.Z.subscribe("IDLE",this.handleIdleUpdate)}_terminate(){g.stop(),m.stop(),i.Z.unsubscribe("IDLE",this.handleIdleUpdate)}handleIdleUpdate(){let e=u.Z.getIdleSince();if(!h.isPlatformEmbedded)return;for(let e of(g.stop(),m.stop(),o.Z.getAllActiveStreams()))if(e.state!==f.jm8.ENDED)return;if(null==e)return;let t=d.Z.getChannelId();if(null==t)return;m.start(18e6,()=>{l.default.selectVoiceChannel(null)});let n=c.Z.getGuild(d.Z.getGuildId());if(null==n||null==n.afkChannelId||n.afkChannelId===t||null==n.afkTimeout)return;let r=s.Z.getChannel(t);null!=r&&(r.isGuildStageVoice()||g.start(e+n.afkTimeout*p.Z.Millis.SECOND-Date.now(),()=>{null!=(n=c.Z.getGuild(d.Z.getGuildId()))&&null!=n.afkChannelId&&l.default.selectVoiceChannel(n.afkChannelId)}))}}let _=new b},243852:function(e,t,n){n(388685);var r,i,l,a,o=n(442837),s=n(433517),c=n(846519),u=n(570140),d=n(278323),p=n(581567),h=n(594190),f=n(581883),g=n(70956),m=n(780570),b=n(314897),_=n(77498),E=n(283595),O=n(19780),y=n(944486),I=n(981631);let v="ActivityTrackingStore",C=30*g.Z.Millis.MINUTE,S=5*g.Z.Millis.MINUTE,N=null!=(r=s.K.get(v))?r:{},T={},P=!1;function j(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];t&&A(e,!0);let n=T[e.applicationId];null!=n&&(n.stop(),delete T[e.applicationId]),delete N[e.applicationId],s.K.set(v,N)}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>C+S&&(r=0);let i=(0,m.OT)(e.applicationId,E.Z),l=y.Z.getVoiceChannelId(),a=b.default.getSessionId(),o=O.Z.getMediaSessionId();d.Z.updateActivity({applicationId:e.applicationId,distributor:e.isDiscordApplication?I.GQo.DISCORD:e.distributor,shareActivity:i,token:e.token,duration:Math.floor(r/1e3),closed:t,exePath:e.exePath,voiceChannelId:l,sessionId:a,mediaSessionId:o}),e.updatedAt=n;let u=T[e.applicationId];null==u&&(u=T[e.applicationId]=new c.Xp).start(C,()=>A(e)),t||(N[e.applicationId]=e,s.K.set(v,N))}function Z(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=h.ZP.getVisibleRunningGames(),n=new Set;for(let{name:e,distributor:r,exePath:i}of t){let t=_.Z.getGameByName(e);null!=t&&(n.add(t.id),t.id in N||A({applicationId:t.id,updatedAt:Date.now(),distributor:r,exePath:(0,p.N6)(null!=i?i:"")}))}for(let t of Object.keys(N))n.has(t)||j(N[t],e)}function x(){for(let e of Object.keys(N))j(N[e]);P=!1}class L extends(i=o.ZP.Store){initialize(){this.waitFor(h.ZP,f.Z,E.Z),this.syncWith([f.Z],Z)}getActivities(){return N}}a="ActivityTrackingStore",(l="displayName")in L?Object.defineProperty(L,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):L[l]=a,new L(u.Z,{RUNNING_GAMES_CHANGE:()=>Z(),CONNECTION_OPEN:function(){if(P)return!1;for(let e of Object.keys(N))A(N[e]);Z(!1),P=!0},CONNECTION_CLOSED:function(e){let{code:t}=e;4004===t&&x()},LOGOUT:x,ACTIVITY_UPDATE_SUCCESS:function(e){let{applicationId:t,token:n}=e,r=N[t];if(null==r)return!1;r.token=n,s.K.set(v,N)},ACTIVITY_UPDATE_FAIL:function(e){let{applicationId:t}=e,n=N[t];if(null==n)return!1;n.token=null,n.updatedAt=null,s.K.set(v,N)}})},184107:function(e,t,n){n.d(t,{Z:()=>u});var r,i,l,a=n(442837),o=n(570140);let s={};class c extends(l=a.ZP.Store){getSkuIdForChannel(e){return s[e]}}i="ChannelSKUStore",(r="displayName")in c?Object.defineProperty(c,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):c[r]=i;let u=new c(o.Z,{CONNECTION_OPEN:function(){s={}},STORE_LISTING_FETCH_SUCCESS:function(e){let{channelId:t,storeListing:n}=e;null!=t&&(s[t]=n.sku.id)}})},533947:function(e,t,n){let r,i,l;n.d(t,{Z:()=>Z}),n(539854),n(388685);var a,o=n(392711),s=n.n(o),c=n(442837),u=n(570140),d=n(308063),p=n(388610),h=n(430824),f=n(496675),g=n(855674),m=n(981631);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){b(e,t,n[t])})}return e}let E=[],O=null,y=!1,I=m.QZA.CLOSED,v={},C=!1,S=null;function N(){if(r=null!=(i=p.Z.getChannel())?h.Z.getGuild(i.guild_id):null,E=null!=i&&null!=r&&f.Z.can(m.Plq.MANAGE_WEBHOOKS,i)?g.Z.getWebhooksForChannel(r.id,i.id):[],null!=O){let e=P(O.id);null!=e&&(O=e)}I=m.QZA.OPEN,v={},C=!1}let T=s().debounce(()=>{C&&((null==O||s().isEqual(O,P(O.id)))&&(C=!1),C||A.emitChange())},500);function P(e){return E.find(t=>{let{id:n}=t;return n===e})}class j extends(a=c.ZP.Store){initialize(){this.waitFor(p.Z,h.Z,g.Z,f.Z)}hasChanges(){return C}get webhooks(){return E}get editedWebhook(){return O}get formState(){return I}getWebhook(e){return P(e)}showNotice(){return this.hasChanges()}getProps(){return{submitting:I===m.QZA.SUBMITTING,webhooks:E,editedWebhook:O,section:l,sectionId:S,hasChanges:this.hasChanges(),isFetching:y,errors:v}}}b(j,"displayName","ChannelSettingsIntegrationsStore");let A=new j(u.Z,__OVERLAY__?{}:{INTEGRATION_SETTINGS_INIT:N,INTEGRATION_SETTINGS_SAVE_SUCCESS:N,CHANNEL_SETTINGS_SET_SECTION:function(e){let{section:t}=e;if(t!==m.CoT.INTEGRATIONS)return!1;if(l=m.b4C.OVERVIEW,null==r){let e=p.Z.getChannel(),t=null==e?void 0:e.getGuildId();null!=e&&null!=t&&(d.Z.fetchForChannel(t,e.id),y=!0),N()}},INTEGRATION_SETTINGS_SET_SECTION:function(e){let{section:t,sectionId:n}=e;l=t,S=n},INTEGRATION_SETTINGS_START_EDITING_WEBHOOK:function(e){let{webhookId:t}=e,n=P(t);if(null==n)return!1;O=n,v={},C=!1},INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK:function(){O=null,v={},C=!1},INTEGRATION_SETTINGS_UPDATE_WEBHOOK:function(e){let{settings:t}=e;if(null==O)return!1;O=_({},O),null!=t.name&&O.name!==t.name&&(O.name=t.name,C=!0),void 0!==t.avatar&&O.avatar!==t.avatar&&(O.avatar=t.avatar,C=!0),null!=t.channelId&&O.channel_id!==t.channelId&&(O.channel_id=t.channelId,C=!0),C&&T()},CHANNEL_SETTINGS_CLOSE:function(){i=null,r=null,E=[],O=null,I=m.QZA.CLOSED},WEBHOOKS_UPDATE:function(e){let{guildId:t,channelId:n,webhooks:l}=e;if(y=!1,null!=r&&t===r.id&&null!=i&&n===i.id&&null!=l&&I!==m.QZA.SUBMITTING){for(let e=E.length-1;e>=0;e--){let t=E[e];if(null!=n&&(null==t?void 0:t.channel_id)!==n)continue;let r=l.find(e=>{let{id:n}=e;if(n===t.id)return!0});if(null!=r){let n=_({},t,r);E[e]=n,C||(null==O?void 0:O.id)!==n.id||(O=n)}else(null==O?void 0:O.id)===t.id&&(O=null),E.splice(e,1)}for(let e of l)null==E.find(t=>{let{id:n}=t;if(n===e.id)return!0})&&E.push(e);E=[...E],T()}},INTEGRATION_SETTINGS_SUBMITTING:function(){I=m.QZA.SUBMITTING,v={}},INTEGRATION_SETTINGS_SAVE_FAILURE:function(e){var t;if(I!==m.QZA.SUBMITTING)return!1;I=m.QZA.OPEN,v=null!=(t=e.errors)?t:{}}}),Z=A},277053:function(e,t,n){let r,i;n.d(t,{Z:()=>x}),n(388685);var l,a=n(392711),o=n.n(a),s=n(442837),c=n(433517),u=n(570140),d=n(700785),p=n(388610),h=n(592125),f=n(981631),g=n(71080);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let E=new Set,O=f.QZA.CLOSED,y=!1,I=null,v=null,C=null,S=null,N=null,T=null,P=c.K.get(g.kf)||!1;function j(e){let t=e.getGuildId(),n=b({},e.permissionOverwrites);return null!=t&&null==n[t]&&(n[t]=d.we(t)),n}function A(){if(C=p.Z.getChannel(),S=p.Z.getCategory(),null==C)return!1;let e=C.getGuildId();v=I=j(C),null==I[N]&&(N=e),i=null!=S,r=d.o4(C,S),T=null,y=!1,O=f.QZA.CLOSED,E.clear()}class Z extends(l=s.ZP.Store){initialize(){this.waitFor(p.Z,h.Z)}hasChanges(){return y}showNotice(){return this.hasChanges()}getPermissionOverwrite(e){return null==I?void 0:I[e]}get editedPermissionIds(){return Array.from(E)}get permissionOverwrites(){return I}get selectedOverwriteId(){return N}get formState(){return O}get isLockable(){return i}get locked(){return r}get channel(){return C}get category(){return S}get advancedMode(){return P}}m(Z,"displayName","ChannelSettingsPermissionsStore");let x=new Z(u.Z,{CHANNEL_SETTINGS_SET_SECTION:function(e){let{section:t}=e;if(null!=C||t!==f.CoT.PERMISSIONS)return!1;A()},CHANNEL_SETTINGS_PERMISSIONS_INIT:A,CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){let{id:t,allow:n,deny:i}=e,l=null==I?void 0:I[t];if(null==l||null==C)return!1;l=_(b({},l),{allow:n,deny:i}),I=_(b({},I),{[t]:l}),E.add(t),O=f.QZA.OPEN,y=!o().isEqual(I,v),r=d.o4(C,S)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){let{id:t}=e;if(null!=I&&null!=I[t])N=t;else{if(null==C)return!1;T=t}},CHANNEL_SETTINGS_INIT:function(){p.Z.getSection()===f.CoT.PERMISSIONS&&A()},CHANNEL_SETTINGS_CLOSE:function(){O=f.QZA.CLOSED,I=null,v=null,C=null,S=null,y=!1,E.clear(),N=null,T=null},CHANNEL_UPDATES:function(e){let{channels:t}=e;if(null==C)return!1;let n=!1;for(let e of t)!1!==function(e){if(null==C||C.id!==e||null==(C=h.Z.getChannel(e)))return!1;S=p.Z.getCategory();let t=C.getGuildId();if(null==t)return!1;v=j(C);let n={};return E.forEach(e=>{null!=I&&(n[e]=I[e])}),null==n[t]&&null==C.permissionOverwrites[t]&&(n[t]=d.we(t)),null==(I=b({},C.permissionOverwrites,n))[N]?N=t:null!=T&&null!=I[T]&&(N=T,T=null),r=d.o4(C,S),!0}(e.id)&&(n=!0);return n},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(){O=f.QZA.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){let{silent:t}=e;t?O=f.QZA.OPEN:(O=f.QZA.CLOSED,A())},CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE:function(e){let{advancedMode:t}=e;P=t,c.K.set(g.kf,t)}})},327689:function(e,t,n){n.d(t,{Z:()=>d});var r,i,l,a=n(442837),o=n(570140),s=n(430824),c=n(981631);class u extends(l=a.ZP.Store){initialize(){this.waitFor(s.Z),this.syncWith([s.Z],c.dG4)}channelNoticePredicate(e,t){return!e.hasFeature(c.oNc.BANNER)&&Date.now()-t>=c.Hqc}}i="GuildBoostingNoticeStore",(r="displayName")in u?Object.defineProperty(u,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):u[r]=i;let d=new u(o.Z)},541566:function(e,t,n){n.d(t,{Z:()=>h});var r,i=n(442837),l=n(570140),a=n(267642),o=n(981631);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let d={};d={lastDismissedGracePeriods:{},isVisible:{}};class p extends(r=i.ZP.PersistedStore){initialize(e){null!=e&&(d=e)}getLastDismissedGracePeriodForGuild(e){return null!=d.lastDismissedGracePeriods[e]?d.lastDismissedGracePeriods[e]:null}isVisible(e){return null!=e&&null!=d.isVisible[e]&&d.isVisible[e]}getState(){return d}}s(p,"displayName","GuildBoostingGracePeriodNoticeStore"),s(p,"persistKey","PremiumGuildGracePeriodNoticeStore"),s(p,"migrations",[e=>u(c({},e),{lastDismissedGracePeriods:null!=e?c({},e.lastDismissedGracePeriods):{},isVisible:{}})]);let h=new p(l.Z,{GUILD_APPLIED_BOOSTS_FETCH_SUCCESS:function(e){let{guildId:t,appliedBoosts:n}=e,r=null!=d.lastDismissedGracePeriods[t]?d.lastDismissedGracePeriods[t]:null,i=null!=r&&Date.now()-r<=o.Dge,l=null!=n&&!i&&(0,a.Vx)(n,t);d=u(c({},d),{isVisible:u(c({},d.isVisible),{[t]:l})})},BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS:function(e){let t=e.guildId;d=u(c({},d),{lastDismissedGracePeriods:u(c({},d.lastDismissedGracePeriods),{[t]:Date.now()}),isVisible:u(c({},d.isVisible),{[t]:!1})})}})},421176:function(e,t,n){n.d(t,{Z:()=>d});var r,i,l,a=n(442837),o=n(570140),s=n(496675),c=n(981631);class u extends(l=a.ZP.Store){initialize(){this.waitFor(s.Z),this.syncWith([s.Z],c.dG4)}channelNoticePredicate(e,t){return Date.now()-t>=c.Hqc&&s.Z.can(c.Plq.MANAGE_GUILD,e)}}i="GuildBoostingNoticeStore",(r="displayName")in u?Object.defineProperty(u,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):u[r]=i;let d=new u(o.Z)},192513:function(e,t,n){n.d(t,{Z:()=>f});var r,i,l,a=n(442837),o=n(570140),s=n(984933),c=n(594174),u=n(981631);let d=null;function p(){let e=c.default.getCurrentUser();if(null==e||e.mfaEnabled===d)return!1;d=e.mfaEnabled}class h extends(l=a.ZP.Store){initialize(){this.waitFor(c.default,s.ZP),this.syncWith([c.default,s.ZP],p)}isVisible(e){return null!=e&&e.mfaLevel===u.BpS.ELEVATED&&!1===d&&s.ZP.hasElevatedPermissions(e.id)}}i="GuildMFAWarningStore",(r="displayName")in h?Object.defineProperty(h,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[r]=i;let f=new h(o.Z,{CONNECTION_OPEN:p,GUILD_UPDATE:function(){return!0}})},456065:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r,i,l,a=n(442837),o=n(570140),s=n(810788),c=n(430824),u=n(981631);let d=!1;function p(e){let t=c.Z.getGuild(e);return null!=t&&!!t.hasFeature(u.oNc.HUB)&&(d=!0,!0)}function h(){return!0}class f extends(r=a.ZP.Store){initialize(){this.waitFor(c.Z,s.Z),this.syncWith([s.Z],h)}channelNoticePredicate(e){return!!e.hasFeature(u.oNc.LINKED_TO_HUB)&&!d}}l="HubLinkNoticeStore",(i="displayName")in f?Object.defineProperty(f,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[i]=l;let g=new f(o.Z,{CONNECTION_OPEN:function(e){for(let t of e.guilds)if(p(t.id))return!0;return!1},GUILD_CREATE:function(e){let{guild:t}=e;return p(t.id)}})},683743:function(e,t,n){n.d(t,{Z:()=>p});var r,i,l,a=n(442837),o=n(570140),s=n(496675),c=n(981631);function u(){return!0}class d extends(l=a.ZP.Store){initialize(){this.waitFor(s.Z),this.syncWith([s.Z],u)}channelNoticePredicate(e,t){return Date.now()-t>=c.Hqc&&s.Z.can(c.Plq.ADMINISTRATOR,e)}}i="InviteNoticeStore",(r="displayName")in d?Object.defineProperty(d,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):d[r]=i;let p=new d(o.Z)},255791:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var r,i,l,a=n(442837),o=n(433517),s=n(570140),c=n(650774),u=n(430824),d=n(496675),p=n(981631);let h={MAX_MEMBER_COUNT:new Set};class f extends(r=a.ZP.Store){initialize(){var e;this.waitFor(d.Z,u.Z,c.Z),this.syncWith([d.Z,u.Z,c.Z],p.dG4),o.K.remove(p.vID.MAX_MEMBER_COUNT_100),o.K.remove(p.vID.MAX_MEMBER_COUNT_250),e=new Set(o.K.get(p.vID.MAX_MEMBER_COUNT)),h[p.vID.MAX_MEMBER_COUNT]=void 0!==e?e:new Set}isVisible(e){var t;if(null==e)return!1;let n=null!=(t=c.Z.getMemberCount(e.id))?t:0,r=d.Z.can(p.Plq.ADMINISTRATOR,e);return!h[p.vID.MAX_MEMBER_COUNT].has(e.id)&&r&&e.maxMembers>0&&e.maxMembers-n<=1e4}}l="MaxMemberCountChannelNoticeStore",(i="displayName")in f?Object.defineProperty(f,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[i]=l;let g=new f(s.Z,{MAX_MEMBER_COUNT_NOTICE_DISMISS:function(e){let t=e.guildId;if(!h[p.vID.MAX_MEMBER_COUNT].has(t))return h[p.vID.MAX_MEMBER_COUNT].add(t),o.K.set(p.vID.MAX_MEMBER_COUNT,h[p.vID.MAX_MEMBER_COUNT]),!0}})},525395:function(e,t,n){let r,i,l;n.d(t,{Z:()=>h}),n(388685);var a,o,s,c=n(442837),u=n(570140);function d(){i={},r={},l=new Set}d();class p extends(a=c.ZP.Store){getStatisticsForApplication(e){return r[e]}shouldFetchStatisticsForApplication(e){let t=i[e];return!l.has(e)&&(null==t||Date.now()-t>36e5)}}s="ApplicationStatisticsStore",(o="displayName")in p?Object.defineProperty(p,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):p[o]=s;let h=new p(u.Z,{APPLICATION_ACTIVITY_STATISTICS_FETCH_START:function(e){let{applicationId:t}=e;l.add(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL:function(e){let{applicationId:t}=e;l.delete(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){let{statistics:t,applicationId:n}=e;i[n]=Date.now(),l.delete(n),r[n]=t},LOGOUT:d})},974042:function(e,t,n){n.d(t,{ZP:()=>V}),n(539854),n(388685);var r,i=n(392711),l=n.n(i),a=n(442837),o=n(570140),s=n(194359),c=n(81825),u=n(353926),d=n(5254),p=n(91896),h=n(441623),f=n(199902),g=n(271383),m=n(430824),b=n(158776),_=n(699516),E=n(594174),O=n(981631),y=n(474936);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){I(e,t,n[t])})}return e}function C(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function S(e){let t=E.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function N(e){return{status:b.Z.getStatus(e),isMobile:b.Z.isMobileOnline(e),activities:b.Z.getActivities(e),applicationStream:f.Z.getAnyStreamForUser(e)}}function T(e){let t=[];return l()(g.ZP.memberOf(e)).map(m.Z.getGuild).sortBy(e=>null!=e?e.name.toLowerCase():null).forEach(e=>{null!=e&&t.push(e)}),{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,5)}}class P extends c.Z{get comparator(){var e,t,n,r,i;return[this.type,+(null==this.giftIntentType),null!=(i=null!=(r=null==(e=this.nickname)?void 0:e.toLowerCase())?r:null==(n=this.user)||null==(t=n.globalName)?void 0:t.toLowerCase())?i:this.usernameLower]}constructor(e){var t;super(),I(this,"key",void 0),I(this,"userId",void 0),I(this,"type",void 0),I(this,"status",void 0),I(this,"isMobile",void 0),I(this,"activities",void 0),I(this,"applicationStream",void 0),I(this,"user",void 0),I(this,"usernameLower",void 0),I(this,"mutualGuildsLength",void 0),I(this,"mutualGuilds",void 0),I(this,"nickname",void 0),I(this,"spam",void 0),I(this,"giftIntentType",void 0),I(this,"ignoredUser",void 0),I(this,"applicationId",void 0),I(this,"isGameRelationship",void 0),this.key=e.key,this.userId=e.userId,this.type=e.type,this.status=e.status,this.activities=e.activities,this.applicationStream=e.applicationStream,this.user=e.user,this.isMobile=e.isMobile,this.usernameLower=e.usernameLower,this.mutualGuildsLength=e.mutualGuildsLength,this.mutualGuilds=e.mutualGuilds,this.nickname=e.nickname,this.spam=e.spam,this.giftIntentType=e.giftIntentType,this.ignoredUser=e.ignoredUser,this.applicationId=e.applicationId,this.isGameRelationship=null!=(t=e.isGameRelationship)&&t}}class j{reset(){let e=new Set,t=l().map(_.Z.getMutableRelationships(),(t,n)=>(t===O.OGo.FRIEND&&e.add(n),new P(C(v({key:n,type:t,userId:n,nickname:_.Z.getNickname(n)},S(n),N(n),T(n)),{spam:_.Z.isSpam(n),ignoredUser:_.Z.isIgnored(n),giftIntentType:t===O.OGo.FRIEND&&h.Z.isTopAffinityFriendAnniversary({userId:n})?y.hX.FRIEND_ANNIVERSARY:void 0,applicationId:_.Z.getOriginApplicationId(n)})))),n=[],r=p.Z.getGameRelationships().values(),i=new Set;r.forEach(t=>{let{id:r,applicationId:l,type:a}=t;!(a===O.OGo.FRIEND&&e.has(r))&&(a===O.OGo.FRIEND&&i.has(r)||(a===O.OGo.FRIEND&&i.add(r),n.push(new P(C(v({key:"".concat(r,"-").concat(l),type:a,userId:r,applicationId:l,nickname:_.Z.getNickname(r)},S(r),N(r),T(r)),{spam:_.Z.isSpam(r),ignoredUser:_.Z.isIgnored(r),isGameRelationship:!0})))))});let a=l().map(d.Z.getSuggestions(),e=>new P(v({key:e.key,userId:e.key,type:99,nickname:e.name},S(e.key),N(e.key),T(e.key))));return new j(l().concat(t,n,a))}clone(){return new j(this._rows)}update(e){let t=!1;for(let n=0;n<this._rows.length;n++){let r=this._rows[n],i=r.merge(e(r.userId));t=t||i!==r,this._rows[n]=i}return t}filter(e,t){return l()(this._rows).filter(e=>{if(null==e.user)return!1;if(null!=t&&""!==t){let n=t.toLowerCase();return[e.usernameLower,e.nickname,e.user.globalName].map(e=>null==e?void 0:e.toLowerCase()).some(e=>null==e?void 0:e.includes(n))}return!0}).filter(t=>{switch(e){case O.pJs.ONLINE:return t.type===O.OGo.FRIEND&&t.status!==O.Skl.OFFLINE;case O.pJs.PENDING:return t.type===O.OGo.PENDING_INCOMING&&!t.spam&&!t.ignoredUser||t.type===O.OGo.PENDING_OUTGOING;case O.pJs.SPAM:return t.type===O.OGo.PENDING_INCOMING&&t.spam;case O.pJs.PENDING_IGNORED:return t.type===O.OGo.PENDING_INCOMING&&t.ignoredUser;case O.pJs.SUGGESTIONS:return 99===t.type;case O.pJs.ALL:default:return t.type===O.OGo.FRIEND}}).sortBy(e=>e.comparator).value()}getRelationshipCounts(){let e={[O.OGo.FRIEND]:0,[O.OGo.PENDING_INCOMING]:0,[O.OGo.PENDING_OUTGOING]:0,99:0,[O.OGo.BLOCKED]:0};return this._rows.forEach(t=>{null!=t.user&&null!=e[t.type]&&e[t.type]++}),e}constructor(e=[]){I(this,"_rows",void 0),this._rows=e}}let A=!0,Z=!1,x=O.pJs.ONLINE,L=new j,w=!0,R=!1;function D(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];A&&(e||x!==O.pJs.ONLINE&&x!==O.pJs.ADD_FRIEND)&&!Z&&(A=!1,Z=!0,s.Z.fetchRelationships())}function k(){if(A=!0,w?Z=!1:D(),L=L.reset(),R)return;let e=L.getRelationshipCounts();x=0===e[O.OGo.FRIEND]?0!==e[O.OGo.PENDING_INCOMING]?O.pJs.PENDING:O.pJs.ADD_FRIEND:O.pJs.ONLINE}function M(){L=w?new j:L.reset()}function U(e){return function(){return!w&&!!L.update(e)&&(L=L.clone(),!0)}}class G extends(r=a.ZP.Store){initialize(){this.waitFor(_.Z,b.Z,E.default,m.Z,g.ZP,f.Z,d.Z,u.Z),this.syncWith([_.Z],M),this.syncWith([p.Z],M),this.syncWith([d.Z],M),this.syncWith([h.Z],M),this.syncWith([E.default],U(S)),this.syncWith([b.Z,f.Z],U(N)),k()}getState(){return{fetching:Z,section:x,rows:L}}}I(G,"displayName","FriendsStore");let V=new G(o.Z,{CONNECTION_OPEN:function(){k()},FRIENDS_SET_SECTION:function(e){x=e.section,D()},CHANNEL_SELECT:function(e){let{channelId:t}=e;return w=null!=t,M(),!w},LOAD_RELATIONSHIPS_SUCCESS:function(){Z=!1},LOAD_RELATIONSHIPS_FAILURE:function(){A=!0,Z=!0},FRIENDS_SET_INITIAL_SECTION:function(e){x=e.section,R=!0}})},900974:function(e,t,n){n.d(t,{Z:()=>s});var r=n(255367);n(73800);var i=n(481060),l=n(570140);let a=!1,o=null,s={init(){l.Z.subscribe("CONNECTION_OPEN",e=>{let{pendingPayments:t}=e;if(null!=t&&t.length>0){var l;if(o===t[0]||null==(o=t[0]))return;l=o,a||(a=!0,(0,i.ZDy)(async()=>{let{default:e}=await n.e("7232").then(n.bind(n,645586));return t=>{let{transitionState:n,onClose:i}=t;return(0,r.jsx)(e,{pendingPayment:l,transitionState:n,onClose:()=>(a=!1,i())})}}))}})}}},863969:function(e,t,n){n.d(t,{Z:()=>l});var r=n(255367);n(73800);var i=n(325767);function l(e){var t,n,{width:l=24,height:a=24,color:o="currentColor",foreground:s}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(c)),n=n={width:l,height:a,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:s,fill:o,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"}),(0,r.jsx)("rect",{width:"24",height:"24"})]})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},563593:function(e,t,n){n.d(t,{Z:()=>c});var r=n(255367);n(73800);var i=n(886364),l=n(325767);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function s(e){return"CloudDone-".concat(e)}function c(e){var{width:t=24,height:n=24,color:c="currentColor",foreground:u,gradientConfig:d}=e,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground","gradientConfig"]);let h=null;return null!=d&&(h=(0,r.jsx)(i.Z,o(a({},d),{color:c,id:s(d.id)}))),(0,r.jsxs)("svg",o(a({},(0,l.Z)(p)),{width:t,height:n,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:h}),(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{fill:null!=d?"url(#".concat(s(d.id),")"):c,className:u,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"})]}))}},886364:function(e,t,n){n.d(t,{Z:()=>i});var r=n(255367);n(73800);let i=e=>{let{id:t,startColor:n,stopColor:i,color:l,stop:a}=e;return(0,r.jsxs)("linearGradient",{id:t,children:[(0,r.jsx)("stop",{offset:"0",stopColor:n}),(0,r.jsx)("stop",{offset:a,stopColor:i}),(0,r.jsx)("stop",{offset:a,stopColor:l}),(0,r.jsx)("stop",{offset:"1",stopColor:l})]})}},662868:function(e,t,n){n.d(t,{Z:()=>l});var r=n(255367);n(73800);var i=n(325767);function l(e){var t,n,{width:l=32,height:a=32,color:o="currentColor"}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(s)),n=n={width:l,height:a,viewBox:"0 0 ".concat(l," ").concat(a),fill:"none",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3C7.44772 3 7 3.44772 7 4V12C7 12.5523 7.44772 13 8 13C8.55228 13 9 12.5523 9 12V4C9 3.44772 8.55228 3 8 3ZM3 6C3 5.44772 3.44772 5 4 5C4.55228 5 5 5.44772 5 6V10C5 10.5523 4.55228 11 4 11C3.44772 11 3 10.5523 3 10V6ZM11 6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V10C13 10.5523 12.5523 11 12 11C11.4477 11 11 10.5523 11 10V6Z",fill:o})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},38761:function(e,t,n){n.d(t,{Z:()=>l});var r=n(255367);n(73800);var i=n(325767);function l(e){var t,n,{width:l=16,height:a=16,color:o="currentColor",foreground:s,background:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground","background"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(u)),n=n={width:l,height:a,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:c,fill:o,fillRule:"nonzero",d:"M22.031 12.665c-.923-.4338-1.9384-.665-2.9778-.665-.695 0-1.3663.1013-2 .29V11h-4V7h-2v4h-4v2h4v4h1.29c-.1887.6337-.29 1.305-.29 2 0 1.0394.2312 2.055.665 2.978-.2207.0146-.4424.022-.665.022-2.6522 0-5.1957-1.0536-7.071-2.929C3.1067 17.1958 2.053 14.6523 2.053 12c0-5.5228 4.4772-10 10-10 2.6522 0 5.1957 1.0536 7.071 2.929 1.8754 1.8753 2.929 4.4188 2.929 7.071 0 .2225-.0074.4443-.022.665zM15.4457 13c-.9793.59-1.8023 1.413-2.3924 2.3924V13h2.3924z"}),(0,r.jsx)("path",{className:s,fill:o,d:"M19.0532 14c1.326 0 2.598.5268 3.5355 1.4645.9377.9376 1.4645 2.2094 1.4645 3.5355 0 1.326-.5268 2.598-1.4645 3.5355C21.651 23.4732 20.3793 24 19.0532 24c-1.326 0-2.5978-.5268-3.5355-1.4645C14.58 21.598 14.0532 20.326 14.0532 19c0-2.7614 2.2386-5 5-5zm-1 7l3-2-3-2v4z"})]})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},6074:function(e,t,n){n.d(t,{Z:()=>l});var r=n(255367);n(73800);var i=n(325767);function l(e){var t,n,{width:l=16,height:a=16,color:o="currentColor",foreground:s}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(c)),n=n={width:l,height:a,viewBox:"0 0 16 16",children:(0,r.jsx)("path",{className:s,fill:o,d:"M6,7 L2,7 L2,6 L6,6 L6,7 Z M8,5 L2,5 L2,4 L8,4 L8,5 Z M8,3 L2,3 L2,2 L8,2 L8,3 Z M8.88888889,0 L1.11111111,0 C0.494444444,0 0,0.494444444 0,1.11111111 L0,8.88888889 C0,9.50253861 0.497461389,10 1.11111111,10 L8.88888889,10 C9.50253861,10 10,9.50253861 10,8.88888889 L10,1.11111111 C10,0.494444444 9.5,0 8.88888889,0 Z",transform:"translate(3 3)"})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},39377:function(e,t,n){n.d(t,{Z:()=>l});var r=n(255367);n(73800);var i=n(325767);function l(e){var t,n,{width:l=24,height:a=24,color:o="currentColor",foreground:s}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(c)),n=n={width:l,height:a,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:s,fill:o,d:"M22 4v-.5C22 2.12 20.88 1 19.5 1S17 2.12 17 3.5V4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h5c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zm-.8 0h-3.4v-.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V4zm-2.28 8c.04.33.08.66.08 1 0 2.08-.8 3.97-2.1 5.39-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H7v-2h2c.55 0 1-.45 1-1V8h2c1.1 0 2-.9 2-2V3.46c-.95-.3-1.95-.46-3-.46C5.48 3 1 7.48 1 13s4.48 10 10 10 10-4.48 10-10c0-.34-.02-.67-.05-1h-2.03zM10 20.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L8 16v1c0 1.1.9 2 2 2v1.93z"}),(0,r.jsx)("rect",{width:"24",height:"24"})]})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},820254:function(e,t,n){n.d(t,{Z:()=>l});var r=n(255367);n(73800);var i=n(325767);function l(e){var t,n,{width:l=14,height:a=14,color:o="currentColor",foreground:s}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},(0,i.Z)(c)),n=n={width:l,height:a,viewBox:"0 0 14 14",children:(0,r.jsx)("path",{fill:o,className:s,d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},205129:function(e,t,n){n.d(t,{y:()=>l});var r=n(603113),i=n(122810);function l(e){return{af_voice_chat:e.voiceChannels.length>0,af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some(e=>{let{activity:t}=e;return(0,i.Z)(t)}),game_platform:e.currentActivities.length>0?(0,r.Z)(e.currentActivities[0].activity):null}}},3570:function(e,t,n){n.d(t,{T:()=>s,s:()=>c});var r=n(536285),i=n(703656),l=n(314897),a=n(358085),o=n(981631);let s=a.isPlatformEmbedded?o.dG4:(e,t)=>{if(!(0,i.DB)())return r.default.request(o.Etm.DEEP_LINK,{type:e,params:t})},c=a.isPlatformEmbedded?o.dG4:(e,t)=>{if(!l.default.isAuthenticated()){var n,r;return s(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t||{}),r=r={fingerprint:l.default.getFingerprint()},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))}}},63023:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>i}),n(539854);class i{_processQueue(){setTimeout(()=>{if(this._queue.length>0&&this._tokenCount>0){this._tokenCount--,null==this._intervalID&&(this._intervalID=setInterval(()=>this._iterate(),this._intervalPeriod));let e=this._queue.shift();null==e||e(),this._processQueue()}},0)}_iterate(){this._tokenCount=Math.min(this._capacity,this._tokenCount+1),this._tokenCount>=this._capacity&&null!=this._intervalID&&(clearInterval(this._intervalID),this._intervalID=null),this._processQueue()}process(){return new Promise(e=>{this._queue.push(e),this._processQueue()})}constructor(e,t){r(this,"_capacity",void 0),r(this,"_tokenCount",void 0),r(this,"_queue",void 0),r(this,"_intervalPeriod",void 0),r(this,"_intervalID",void 0),this._capacity=e,this._tokenCount=e,this._queue=[],this._intervalPeriod=t/e,this._intervalID=null}}},740111:function(e,t,n){n.d(t,{Wc:()=>s,xY:()=>_}),n(980754),n(388685),n(415506),n(539854);var r,i=n(230367),l=n(320215),a=n(240773),o=n(495852),s=((r={})[r.UNSPECIFIED=0]="UNSPECIFIED",r[r.OPEN_MARKETING_PAGE=1]="OPEN_MARKETING_PAGE",r[r.OPEN_TIER_2_PAYMENT_MODAL=2]="OPEN_TIER_2_PAYMENT_MODAL",r[r.OPEN_TIER_1_PAYMENT_MODAL=3]="OPEN_TIER_1_PAYMENT_MODAL",r[r.OPEN_TIER_2_PAYMENT_MODAL_CUSTOM_CONFIRMATION_FOOTER=4]="OPEN_TIER_2_PAYMENT_MODAL_CUSTOM_CONFIRMATION_FOOTER",r);class c extends o.C{create(e){let t={header:"",pill:"",body:"",imageLink:"",imageLinkLightTheme:""};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,l.l)(this,t,e),t}internalBinaryRead(e,t,n,r){let l=null!=r?r:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,r]=e.tag();switch(t){case 1:l.header=e.string();break;case 2:l.pill=e.string();break;case 3:l.body=e.string();break;case 4:l.imageLink=e.string();break;case 5:l.imageLinkLightTheme=e.string();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(r,") for ").concat(this.typeName));let o=e.skip(r);!1!==a&&(!0===a?i.z.onRead:a)(this.typeName,l,t,r,o)}}return l}internalBinaryWrite(e,t,n){""!==e.header&&t.tag(1,i.TD.LengthDelimited).string(e.header),""!==e.pill&&t.tag(2,i.TD.LengthDelimited).string(e.pill),""!==e.body&&t.tag(3,i.TD.LengthDelimited).string(e.body),""!==e.imageLink&&t.tag(4,i.TD.LengthDelimited).string(e.imageLink),""!==e.imageLinkLightTheme&&t.tag(5,i.TD.LengthDelimited).string(e.imageLinkLightTheme);let r=n.writeUnknownFields;return!1!==r&&(!0==r?i.z.onWrite:r)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.FeatureCard",[{no:1,name:"header",kind:"scalar",T:9},{no:2,name:"pill",kind:"scalar",T:9},{no:3,name:"body",kind:"scalar",T:9},{no:4,name:"image_link",kind:"scalar",T:9},{no:5,name:"image_link_light_theme",kind:"scalar",T:9}])}}let u=new c;class d extends o.C{create(e){let t={copy:"",buttonAction:0};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,l.l)(this,t,e),t}internalBinaryRead(e,t,n,r){let l=null!=r?r:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,r]=e.tag();switch(t){case 1:l.copy=e.string();break;case 2:l.buttonAction=e.int32();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(r,") for ").concat(this.typeName));let o=e.skip(r);!1!==a&&(!0===a?i.z.onRead:a)(this.typeName,l,t,r,o)}}return l}internalBinaryWrite(e,t,n){""!==e.copy&&t.tag(1,i.TD.LengthDelimited).string(e.copy),0!==e.buttonAction&&t.tag(2,i.TD.Varint).int32(e.buttonAction);let r=n.writeUnknownFields;return!1!==r&&(!0==r?i.z.onWrite:r)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.SubscriptionButton",[{no:1,name:"copy",kind:"scalar",T:9},{no:2,name:"button_action",kind:"enum",T:()=>["discord_protos.premium_marketing.v1.ButtonAction",s,"BUTTON_ACTION_"]}])}}let p=new d;class h extends o.C{create(e){let t={heroArtLocalizedVideoLinksDarkTheme:{},heroArtLocalizedVideoLinksLightTheme:{},heroArtVideoSubtitleLinks:{}};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,l.l)(this,t,e),t}internalBinaryRead(e,t,n,r){let l=null!=r?r:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,r]=e.tag();switch(t){case 1:this.binaryReadMap1(l.heroArtLocalizedVideoLinksDarkTheme,e,n);break;case 2:this.binaryReadMap2(l.heroArtLocalizedVideoLinksLightTheme,e,n);break;case 3:this.binaryReadMap3(l.heroArtVideoSubtitleLinks,e,n);break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(r,") for ").concat(this.typeName));let o=e.skip(r);!1!==a&&(!0===a?i.z.onRead:a)(this.typeName,l,t,r,o)}}return l}binaryReadMap1(e,t,n){let r=t.uint32(),i=t.pos+r,l,a;for(;t.pos<i;){let[e,n]=t.tag();switch(e){case 1:l=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_localized_video_links_dark_theme")}}e[null!=l?l:""]=null!=a?a:""}binaryReadMap2(e,t,n){let r=t.uint32(),i=t.pos+r,l,a;for(;t.pos<i;){let[e,n]=t.tag();switch(e){case 1:l=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_localized_video_links_light_theme")}}e[null!=l?l:""]=null!=a?a:""}binaryReadMap3(e,t,n){let r=t.uint32(),i=t.pos+r,l,a;for(;t.pos<i;){let[e,n]=t.tag();switch(e){case 1:l=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_video_subtitle_links")}}e[null!=l?l:""]=null!=a?a:""}internalBinaryWrite(e,t,n){for(let n of Object.keys(e.heroArtLocalizedVideoLinksDarkTheme))t.tag(1,i.TD.LengthDelimited).fork().tag(1,i.TD.LengthDelimited).string(n).tag(2,i.TD.LengthDelimited).string(e.heroArtLocalizedVideoLinksDarkTheme[n]).join();for(let n of Object.keys(e.heroArtLocalizedVideoLinksLightTheme))t.tag(2,i.TD.LengthDelimited).fork().tag(1,i.TD.LengthDelimited).string(n).tag(2,i.TD.LengthDelimited).string(e.heroArtLocalizedVideoLinksLightTheme[n]).join();for(let n of Object.keys(e.heroArtVideoSubtitleLinks))t.tag(3,i.TD.LengthDelimited).fork().tag(1,i.TD.LengthDelimited).string(n).tag(2,i.TD.LengthDelimited).string(e.heroArtVideoSubtitleLinks[n]).join();let r=n.writeUnknownFields;return!1!==r&&(!0==r?i.z.onWrite:r)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.Variant1Storage",[{no:1,name:"hero_art_localized_video_links_dark_theme",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:2,name:"hero_art_localized_video_links_light_theme",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:3,name:"hero_art_video_subtitle_links",kind:"map",K:9,V:{kind:"scalar",T:9}}])}}let f=new h;class g extends o.C{create(e){let t={link:"",locale:"",isDefault:!1};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,l.l)(this,t,e),t}internalBinaryRead(e,t,n,r){let l=null!=r?r:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,r]=e.tag();switch(t){case 1:l.link=e.string();break;case 2:l.locale=e.string();break;case 3:l.isDefault=e.bool();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(r,") for ").concat(this.typeName));let o=e.skip(r);!1!==a&&(!0===a?i.z.onRead:a)(this.typeName,l,t,r,o)}}return l}internalBinaryWrite(e,t,n){""!==e.link&&t.tag(1,i.TD.LengthDelimited).string(e.link),""!==e.locale&&t.tag(2,i.TD.LengthDelimited).string(e.locale),!1!==e.isDefault&&t.tag(3,i.TD.Varint).bool(e.isDefault);let r=n.writeUnknownFields;return!1!==r&&(!0==r?i.z.onWrite:r)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.Subtitle",[{no:1,name:"link",kind:"scalar",T:9},{no:2,name:"locale",kind:"scalar",T:9},{no:3,name:"is_default",kind:"scalar",T:8}])}}let m=new g;class b extends o.C{create(e){let t={header:"",subheader:"",videoLink:"",helpArticleId:"",featureCards:[],dismissKey:"",heroArtVideoLinkLightTheme:"",heroArtImageLinkDarkTheme:"",heroArtImageLinkLightTheme:"",modalTopPill:"",body:"",heroArtVideoSubtitles:[]};return globalThis.Object.defineProperty(t,a.C,{enumerable:!1,value:this}),void 0!==e&&(0,l.l)(this,t,e),t}internalBinaryRead(e,t,n,r){let l=null!=r?r:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,r]=e.tag();switch(t){case 1:l.header=e.string();break;case 2:l.subheader=e.string();break;case 3:l.videoLink=e.string();break;case 4:l.helpArticleId=e.string();break;case 5:l.featureCards.push(u.internalBinaryRead(e,e.uint32(),n));break;case 6:l.button=p.internalBinaryRead(e,e.uint32(),n,l.button);break;case 7:l.dismissKey=e.string();break;case 8:l.heroArtVideoLinkLightTheme=e.string();break;case 9:l.heroArtImageLinkDarkTheme=e.string();break;case 10:l.heroArtImageLinkLightTheme=e.string();break;case 11:l.modalTopPill=e.string();break;case 12:l.body=e.string();break;case 13:l.heroArtVideoSubtitles.push(m.internalBinaryRead(e,e.uint32(),n));break;case 14:l.storage=f.internalBinaryRead(e,e.uint32(),n,l.storage);break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(r,") for ").concat(this.typeName));let o=e.skip(r);!1!==a&&(!0===a?i.z.onRead:a)(this.typeName,l,t,r,o)}}return l}internalBinaryWrite(e,t,n){""!==e.header&&t.tag(1,i.TD.LengthDelimited).string(e.header),""!==e.subheader&&t.tag(2,i.TD.LengthDelimited).string(e.subheader),""!==e.videoLink&&t.tag(3,i.TD.LengthDelimited).string(e.videoLink),""!==e.helpArticleId&&t.tag(4,i.TD.LengthDelimited).string(e.helpArticleId);for(let r=0;r<e.featureCards.length;r++)u.internalBinaryWrite(e.featureCards[r],t.tag(5,i.TD.LengthDelimited).fork(),n).join();e.button&&p.internalBinaryWrite(e.button,t.tag(6,i.TD.LengthDelimited).fork(),n).join(),""!==e.dismissKey&&t.tag(7,i.TD.LengthDelimited).string(e.dismissKey),""!==e.heroArtVideoLinkLightTheme&&t.tag(8,i.TD.LengthDelimited).string(e.heroArtVideoLinkLightTheme),""!==e.heroArtImageLinkDarkTheme&&t.tag(9,i.TD.LengthDelimited).string(e.heroArtImageLinkDarkTheme),""!==e.heroArtImageLinkLightTheme&&t.tag(10,i.TD.LengthDelimited).string(e.heroArtImageLinkLightTheme),""!==e.modalTopPill&&t.tag(11,i.TD.LengthDelimited).string(e.modalTopPill),""!==e.body&&t.tag(12,i.TD.LengthDelimited).string(e.body);for(let r=0;r<e.heroArtVideoSubtitles.length;r++)m.internalBinaryWrite(e.heroArtVideoSubtitles[r],t.tag(13,i.TD.LengthDelimited).fork(),n).join();e.storage&&f.internalBinaryWrite(e.storage,t.tag(14,i.TD.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return!1!==r&&(!0==r?i.z.onWrite:r)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.AnnouncementModalVariant1Properties",[{no:1,name:"header",kind:"scalar",T:9},{no:2,name:"subheader",kind:"scalar",T:9},{no:3,name:"video_link",kind:"scalar",T:9},{no:4,name:"help_article_id",kind:"scalar",T:9},{no:5,name:"feature_cards",kind:"message",repeat:1,T:()=>u},{no:6,name:"button",kind:"message",T:()=>p},{no:7,name:"dismiss_key",kind:"scalar",T:9},{no:8,name:"hero_art_video_link_light_theme",kind:"scalar",T:9},{no:9,name:"hero_art_image_link_dark_theme",kind:"scalar",T:9},{no:10,name:"hero_art_image_link_light_theme",kind:"scalar",T:9},{no:11,name:"modal_top_pill",kind:"scalar",T:9},{no:12,name:"body",kind:"scalar",T:9},{no:13,name:"hero_art_video_subtitles",kind:"message",repeat:1,T:()=>m},{no:14,name:"storage",kind:"message",T:()=>f}])}}let _=new b},8853:function(e,t,n){n.d(t,{t:()=>c}),n(980754),n(388685),n(415506);var r=n(230367),i=n(320215),l=n(240773),a=n(495852),o=n(740111);class s extends a.C{create(e){let t={properties:{oneofKind:void 0},contentIdentifier:""};return globalThis.Object.defineProperty(t,l.C,{enumerable:!1,value:this}),void 0!==e&&(0,i.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let l=null!=i?i:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:l.properties={oneofKind:"placeholder",placeholder:e.string()};break;case 2:l.properties={oneofKind:"announcementModalVariant1",announcementModalVariant1:o.xY.internalBinaryRead(e,e.uint32(),n,l.properties.announcementModalVariant1)};break;case 3:l.contentIdentifier=e.string();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let s=e.skip(i);!1!==a&&(!0===a?r.z.onRead:a)(this.typeName,l,t,i,s)}}return l}internalBinaryWrite(e,t,n){"placeholder"===e.properties.oneofKind&&t.tag(1,r.TD.LengthDelimited).string(e.properties.placeholder),"announcementModalVariant1"===e.properties.oneofKind&&o.xY.internalBinaryWrite(e.properties.announcementModalVariant1,t.tag(2,r.TD.LengthDelimited).fork(),n).join(),""!==e.contentIdentifier&&t.tag(3,r.TD.LengthDelimited).string(e.contentIdentifier);let i=n.writeUnknownFields;return!1!==i&&(!0==i?r.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.PremiumMarketingComponentProperties",[{no:1,name:"placeholder",kind:"scalar",oneof:"properties",T:9},{no:2,name:"announcement_modal_variant_1",kind:"message",oneof:"properties",T:()=>o.xY},{no:3,name:"content_identifier",kind:"scalar",T:9}])}}let c=new s},137006:function(e,t,n){n.d(t,{m:()=>l}),n(388685),n(953529);var r=n(243814),i=n(103964);let l={[i.Q5.INITIATE_IMAGE_UPLOAD]:{request:void 0,response:e=>({image_url:e.string().required()})},[i.Q5.OPEN_SHARE_MOMENT_DIALOG]:{response:void 0,request:e=>({mediaUrl:e.string().required().max(1024)})},[i.Q5.AUTHENTICATE]:{request:e=>({access_token:e.string().allow(null).optional()}),response:e=>({access_token:e.string().required(),user:e.object({username:e.string().required(),discriminator:e.string().required(),id:e.string().required(),avatar:e.string().allow(null),public_flags:e.number().required(),global_name:e.string().allow(null)}).required(),scopes:e.array().items(e.string().valid(...(0,i.no)(r.x))).required(),expires:e.string().required(),application:e.object({description:e.string().required(),icon:e.string().allow(null),id:e.string().required(),rpc_origins:e.array().items(e.string()).optional(),name:e.string().required()}).required()})},[i.Q5.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:void 0,response:e=>({participants:e.array().items(o(e).keys({nickname:e.string().description("Server nickname. Not unique.")}).required()).required()})},[i.Q5.SHARE_INTERACTION]:{request:e=>({command:e.string().required(),options:e.array().items(e.object({name:e.string().required(),value:e.string().required()})),content:e.string().max(2e3),require_launch_channel:e.boolean(),preview_image:e.object({height:e.number().required(),url:e.string().required(),width:e.number().required()}),components:e.array().items(s(e)),pid:e.number()}),response:e=>({success:e.boolean().required()})},[i.Q5.SHARE_LINK]:{request:e=>({custom_id:e.string().max(64),message:e.string().max(1e3).required(),link_id:e.string().max(64)}),response:e=>({success:e.boolean().required(),didCopyLink:e.boolean().required(),didSendMessage:e.boolean().required()})},[i.Q5.GET_RELATIONSHIPS]:{request:void 0,response:e=>({relationships:e.array().required().items(e.object({type:e.number().required(),user:o(e).required(),presence:e.object({status:e.string().required(),activity:a(e).allow(null)})}))})},[i.Q5.INVITE_USER_EMBEDDED]:{request:e=>({user_id:e.string().required(),content:e.string().min(0).max(1024)}),response:void 0},[i.Q5.GET_USER]:{request:e=>({id:e.string().max(64).required()}),response:e=>o(e).allow(null)}},a=e=>e.object({session_id:e.string().optional(),type:e.number().optional(),name:e.string().required(),url:e.string().allow(null).optional(),application_id:e.string().optional(),state:e.string().optional(),details:e.string().optional(),emoji:e.object({name:e.string().required(),id:e.string().allow(null).optional(),animated:e.bool().optional().allow(null)}).allow(null).optional(),assets:e.object({large_image:e.string().optional(),large_text:e.string().optional(),small_image:e.string().optional(),small_text:e.string().optional()}).optional(),timestamps:e.object({start:e.number().optional(),end:e.number().optional()}).optional(),party:e.object({id:e.string().optional(),size:e.array().items(e.number()).length(2).optional(),privacy:e.number().optional()}).optional(),secrets:e.object({match:e.string().optional(),join:e.string().optional()}).optional(),sync_id:e.string().optional(),created_at:e.number().optional(),instance:e.bool().optional(),flags:e.number().optional(),metadata:e.object().optional(),platform:e.string().optional(),supported_platforms:e.array().items(e.string()).optional(),buttons:e.array().items(e.string()).optional(),hangStatus:e.string().optional()}),o=e=>e.object({id:e.string().required().description("User ID"),username:e.string().required(),global_name:e.string().allow(null).description("Global Discord name. Not unique."),discriminator:e.string().required().description("Global name discriminator. Will be 0 if a unique username"),avatar:e.string().allow(null).description("User Avatar ID"),flags:e.number().required().description("Public user flags"),bot:e.bool().required().description("If a bot user."),avatar_decoration_data:e.object({asset:e.string().required(),skuId:e.string(),expiresAt:e.number()}).allow(null).description("Details about avatar decoration"),premium_type:e.number().allow(null).description("Nitro premium type")}).description("Discord User"),s=e=>e.object({type:e.number().valid(1).required(),components:e.array().max(5).items(c(e))}),c=e=>e.object({type:e.number().valid(2).required(),style:e.number().min(1).max(5).required(),label:e.string().max(80).description("Text that appears on the button"),custom_id:e.string().max(100).description("Developer-defined identifier for the button; max 100 characters")})},103964:function(e,t,n){n.d(t,{C5:()=>i,Q5:()=>r.Et,no:()=>l});var r=n(231338);function i(e){return e.required().unknown(!0)}function l(e){return Object.values(e)}},45792:function(e,t,n){n.d(t,{S:()=>l});var r=n(137006),i=n(103964);function l(e,t){var n;let{scope:l,handler:a}=t,o={scope:l,handler:a},s=null==(n=r.m[e])?void 0:n.request,c=null;return null!=s&&(o.validation=function(e){return null==c&&(c=(0,i.C5)(e.object(s(e)))),c}),o}},28898:function(e,t,n){e.exports={addFriendInputWrapper:"addFriendInputWrapper__72ba7",error:"error__72ba7",success:"success__72ba7",addFriendWumpusWrapper:"addFriendWumpusWrapper__72ba7",inputText:"inputText__72ba7",addFriendInput:"addFriendInput__72ba7 inputText__72ba7",input:"input__72ba7 inputText__72ba7",addFriendHint:"addFriendHint__72ba7 inputText__72ba7",ring:"ring__72ba7"}},128654:function(e,t,n){e.exports={container:"container_c48ade",guilds:"guilds_c48ade",base:"base_c48ade",sidebar:"sidebar_c48ade",hidden:"hidden_c48ade",fullWidth:"fullWidth_c48ade",panels:"panels_c48ade",content:"content_c48ade",activityPanel:"activityPanel_c48ade",loader:"loader_c48ade",sidebarResizeHandle:"sidebarResizeHandle_c48ade",page:"page_c48ade",sidebarList:"sidebarList_c48ade",channelListHidden:"channelListHidden_c48ade",sidebarListRounded:"sidebarListRounded_c48ade",dragging:"dragging_c48ade",draggingMin:"draggingMin_c48ade",draggingMax:"draggingMax_c48ade",collapsing:"collapsing_c48ade"}},545549:function(e,t,n){e.exports={devBanner:"devBanner__56d75",local:"local__56d75",staging:"staging__56d75",buildOverride:"buildOverride__56d75",icon:"icon__56d75",closeButton:"closeButton__56d75",closeIcon:"closeIcon__56d75"}},416350:function(e,t,n){e.exports={downloadProgressCircle:"downloadProgressCircle__35e86",hideGameUpdateProgressIndicator:"hideGameUpdateProgressIndicator__35e86",privateChannels:"privateChannels__35e86",sectionDivider:"sectionDivider__35e86",searchBar:"searchBar__35e86",searchBarComponent:"searchBarComponent__35e86",familyCenterLinkButton:"familyCenterLinkButton__35e86",familyCenterPendingBadge:"familyCenterPendingBadge__35e86",friendsButtonContainer:"friendsButtonContainer__35e86",friendsBadge:"friendsBadge__35e86",confetti:"confetti__35e86",themedHeaderMobile:"themedHeaderMobile__35e86",themedSearchBarMobile:"themedSearchBarMobile__35e86"}},339756:function(e,t,n){e.exports={divider:"divider_c87e85"}},285915:function(e,t,n){e.exports={libraryFilter:"libraryFilter__3fb48",focused:"focused__3fb48",searchBar:"searchBar__3fb48"}},449160:function(e,t,n){e.exports={libraryHeader:"libraryHeader__5a895"}},714943:function(e,t,n){e.exports={container:"container_ad5cdf"}},512231:function(e,t,n){e.exports={wrapper:"wrapper_a6f654",installationPath:"installationPath_a6f654",installationPathEditing:"installationPathEditing_a6f654",separator:"separator_a6f654",defaultIndicator:"defaultIndicator_a6f654",rowBody:"rowBody_a6f654",buttonRowWrapper:"buttonRowWrapper_a6f654",defaultLocationCheckbox:"defaultLocationCheckbox_a6f654",rowTitle:"rowTitle_a6f654"}},620282:function(e,t,n){e.exports={container:"container__4a84a",scroller:"scroller__4a84a"}},876733:function(e,t,n){e.exports={scroller:"scroller_fb04e1",body:"body_fb04e1",hiddenLibraryApplications:"hiddenLibraryApplications_fb04e1",hiddenLibraryApplicationContent:"hiddenLibraryApplicationContent_fb04e1",hiddenLibraryApplicationsTitle:"hiddenLibraryApplicationsTitle_fb04e1",hiddenLibraryApplication:"hiddenLibraryApplication_fb04e1 "+n(588866).card,restoreButton:"restoreButton_fb04e1",restoreIcon:"restoreIcon_fb04e1",applicationName:"applicationName_fb04e1",applicationSubText:"applicationSubText_fb04e1"}},833972:function(e,t,n){e.exports={table:"table_adb41f",header:"header_adb41f",nameCell:"nameCell_adb41f",nameCellText:"nameCellText_adb41f",icon:"icon_adb41f",nitroIcon:"nitroIcon_adb41f icon_adb41f",lastPlayedCell:"lastPlayedCell_adb41f",platformCell:"platformCell_adb41f",actionsCell:"actionsCell_adb41f",stickyHeader:"stickyHeader_adb41f header_adb41f",headerCell:"headerCell_adb41f",headerCellSorted:"headerCellSorted_adb41f",rowWrapper:"rowWrapper_adb41f",row:"row_adb41f",rowWrapperActive:"rowWrapperActive_adb41f rowWrapper_adb41f",rowWrapperGlow:"rowWrapperGlow_adb41f rowWrapper_adb41f",bodyCell:"bodyCell_adb41f",textCell:"textCell_adb41f",nameBodyCell:"nameBodyCell_adb41f",nameCellInfo:"nameCellInfo_adb41f",lastPlayedCellNew:"lastPlayedCellNew_adb41f",gameIcon:"gameIcon_adb41f",actionButtonSize:"actionButtonSize_adb41f",hidden:"hidden_adb41f",settingIcons:"settingIcons_adb41f",settingIcon:"settingIcon_adb41f icon_adb41f",emptyState:"emptyState_adb41f",emptyStateText:"emptyStateText_adb41f",emptyStateHeader:"emptyStateHeader_adb41f",emptyStateDescription:"emptyStateDescription_adb41f",emptyWumpus:"emptyWumpus_adb41f",emptyStateLarge:"emptyStateLarge_adb41f emptyState_adb41f",emptyStateSmall:"emptyStateSmall_adb41f emptyState_adb41f",rowWrapperDim:"rowWrapperDim_adb41f"}},596652:function(e,t,n){e.exports={monitor:"monitor__7eeec",overflowContainer:"overflowContainer__7eeec",text:"text__7eeec",title:"title__7eeec",rate:"rate__7eeec",sparkChart:"sparkChart__7eeec"}},292926:function(e,t,n){e.exports={table:"table__49035",gameUpdates:"gameUpdates__49035",headerRow:"headerRow__49035",headerCell:"headerCell__49035",diskProgress:"diskProgress__49035",networkProgress:"networkProgress__49035",row:"row__49035",cell:"cell__49035",nameCell:"nameCell__49035",progressCell:"progressCell__49035",actionsCell:"actionsCell__49035",nameCellText:"nameCellText__49035",progressCellHeader:"progressCellHeader__49035",progressCellBody:"progressCellBody__49035",progressCellText:"progressCellText__49035",actionButton:"actionButton__49035",actionButtonContents:"actionButtonContents__49035",gameActionButton:"gameActionButton__49035",actionIcon:"actionIcon__49035"}},719656:function(e,t,n){e.exports={content:"content__6d178",rating:"rating__6d178"}},46703:function(e,t,n){e.exports={features:"features_c85137",row:"row_c85137",checkmarkIcon:"checkmarkIcon_c85137",featureIcon:"featureIcon_c85137",featureText:"featureText_c85137"}},716147:function(e,t,n){e.exports={content:"content__1688d"}},629390:function(e,t,n){e.exports={recommendationActivity:"recommendationActivity__450d3",players:"players__450d3",playerAvatar:"playerAvatar__450d3",avatarMasked:"avatarMasked__450d3",playerOverflow:"playerOverflow__450d3",description:"description__450d3",username:"username__450d3",tooltip:"tooltip__450d3",tooltipTimestamp:"tooltipTimestamp__450d3"}},36028:function(e,t,n){e.exports={header:"header__74994",staffReviewHeader:"staffReviewHeader__74994",headerText:"headerText__74994",label:"label__74994",username:"username__74994",notes:"notes__74994"}},681205:function(e,t,n){e.exports={applicationStore:"applicationStore_f07d62",marketingHeader:"marketingHeader_f07d62",marketingFooter:"marketingFooter_f07d62"}},881207:function(e,t,n){e.exports={headerBar:"headerBar__0920e",spinner:"spinner__0920e",homeWrapper:"homeWrapper__0920e",homeWrapperNormal:"homeWrapperNormal__0920e homeWrapper__0920e",headerBarV2LightBackground:"headerBarV2LightBackground__0920e",headerBarV2DarkBackground:"headerBarV2DarkBackground__0920e"}},281990:function(e,t,n){e.exports={listingWrapper:"listingWrapper__0f50c",noHeaderSpacer:"noHeaderSpacer__0f50c",headerAssets:"headerAssets__0f50c",headerBackground:"headerBackground__0f50c",headerLogo:"headerLogo__0f50c",link:"link__0f50c",linkIcon:"linkIcon__0f50c",spinner:"spinner__0f50c",listing:"listing__0f50c",gatedListing:"gatedListing__0f50c",contentRating:"contentRating__0f50c",description:"description__0f50c",guildInvite:"guildInvite__0f50c",legalInfo:"legalInfo__0f50c",whyYouMightLikeIt:"whyYouMightLikeIt__0f50c",systemRequirements:"systemRequirements__0f50c",headerBarListing:"headerBarListing__0f50c",headerPurchase:"headerPurchase__0f50c",headerSection:"headerSection__0f50c",active:"active__0f50c",testModeSelectButton:"testModeSelectButton__0f50c",listingLarge:"listingLarge__0f50c",body:"body__0f50c",leftColumn:"leftColumn__0f50c",rightColumn:"rightColumn__0f50c",listingSmall:"listingSmall__0f50c",purchaseError:"purchaseError__0f50c"}},576823:function(e,t,n){e.exports={matureListing:"matureListing__49e1d"}},868454:function(e,t,n){e.exports={root:"root__26095",header:"header__26095",section:"section__26095",sectionContent:"sectionContent__26095",unit:"unit__26095",review:"review__26095"}},931464:function(e,t,n){e.exports={breadcrumb:"breadcrumb__67607"}},208039:function(e,t,n){e.exports={tabs:"tabs_f1dca0",separator:"separator_f1dca0",tab:"tab_f1dca0",tabPageLarge:"tabPageLarge_f1dca0 tab_f1dca0",tabPageSmall:"tabPageSmall_f1dca0 tab_f1dca0",tabNotSelected:"tabNotSelected_f1dca0",requirementsContainer:"requirementsContainer_f1dca0",requirements:"requirements_f1dca0",requirement:"requirement_f1dca0",requirementKey:"requirementKey_f1dca0",tabSelected:"tabSelected_f1dca0",tabNotSelectedColor:"tabNotSelectedColor_f1dca0",tabSelectedColor:"tabSelectedColor_f1dca0"}},629811:function(e,t,n){e.exports={inviteSmall:"inviteSmall_f1d99d",content:"content_f1d99d",info:"info_f1d99d",inviteLarge:"inviteLarge_f1d99d",guildIcon:"guildIcon_f1d99d",infoText:"infoText_f1d99d",name:"name_f1d99d",memberInfo:"memberInfo_f1d99d",dot:"dot_f1d99d",dotOnline:"dotOnline_f1d99d dot_f1d99d",dotOffline:"dotOffline_f1d99d dot_f1d99d",memberText:"memberText_f1d99d",actionButton:"actionButton_f1d99d",joinedCheckmark:"joinedCheckmark_f1d99d",buttonColorInGuild:"buttonColorInGuild_f1d99d"}},983184:function(e,t,n){e.exports={userList:"userList_bad975",header:"header_bad975",content:"content_bad975",user:"user_bad975",discriminator:"discriminator_bad975",tag:"tag_bad975",avatar:"avatar_bad975",username:"username_bad975"}},762159:function(e,t,n){e.exports={container:"container__74da2",backgroundArtwork:"backgroundArtwork__74da2",appOpenedTitle:"appOpenedTitle__74da2"}},607919:function(e,t,n){e.exports={root:"root_ddfbd9",footer:"footer_ddfbd9",content:"content_ddfbd9",closeButton:"closeButton_ddfbd9"}},278812:function(e,t,n){e.exports={container:"container__44284"}},274978:function(e,t,n){e.exports={container:"container__46ab5",title:"title__46ab5",img:"img__46ab5",subtitle:"subtitle__46ab5"}},377671:function(e,t,n){e.exports={container:"container__3639b",title:"title__3639b",img:"img__3639b",subtitle:"subtitle__3639b"}},191724:function(e,t,n){e.exports={image:"image__5901e",loaded:"loaded__5901e"}},464425:function(e,t,n){e.exports={logo:"logo__11f7b"}},183624:function(e,t,n){e.exports={canvas:"canvas_e99198",fallbackImage:"fallbackImage_e99198",visible:"visible_e99198",embedded:"embedded_e99198"}},126649:function(e,t,n){e.exports={wrapper:"wrapper__8bf38 "+n(283574).scrollbarGhost,rightSplit:"rightSplit__8bf38",embedded:"embedded__8bf38",leftSplit:"leftSplit__8bf38",nonEmbeddedLeftSplit:"nonEmbeddedLeftSplit__8bf38",mobileWave:"mobileWave__8bf38",logo:"logo__8bf38"}},560460:function(e,t,n){e.exports={chat:"chat_a44415"}},46467:function(e,t,n){e.exports={hamBanner:"hamBanner__6a41e",hamBannerButton:"hamBannerButton__6a41e"}},648106:function(e,t,n){e.exports={container:"container__251d4",fadeOut:"fadeOut__251d4",upsell:"upsell__251d4",hidden:"hidden__251d4"}},29504:function(e,t,n){e.exports={container:"container_e88f3f",close:"close_e88f3f",closeIcon:"closeIcon_e88f3f",imageContainer:"imageContainer_e88f3f",image:"image_e88f3f",message:"message_e88f3f",title:"title_e88f3f",live:"live_e88f3f",center:"center_e88f3f",noImageTitle:"noImageTitle_e88f3f",button:"button_e88f3f",header:"header_e88f3f",participants:"participants_e88f3f",pill:"pill_e88f3f",pillIcon:"pillIcon_e88f3f",pillLabel:"pillLabel_e88f3f",locationContainer:"locationContainer_e88f3f",location:"location_e88f3f",locationIcon:"locationIcon_e88f3f",avatar:"avatar_e88f3f"}},431884:function(e,t,n){e.exports={channelNotice:"channelNotice__4c43d",close:"close__4c43d",closeIcon:"closeIcon__4c43d",title:"title__4c43d",message:"message__4c43d",btn:"btn__4c43d",imageContainer:"imageContainer__4c43d",image:"image__4c43d"}},273034:function(e,t,n){e.exports={app:"app__160d8",layers:"layers__160d8"}},400709:function(e,t,n){e.exports={layers:"layers__960e4",layer:"layer__960e4",animating:"animating__960e4",bg:"bg__960e4",important:"important__960e4",baseLayer:"baseLayer__960e4"}},318098:function(e,t,n){e.exports={container:"container__81977",containerEnabled:"containerEnabled__81977",buttonClose:"buttonClose__81977",buttonCTA:"buttonCTA__81977",dismissIcon:"dismissIcon__81977",errorWarningIcon:"errorWarningIcon__81977",keyCombo:"keyCombo__81977"}},208801:function(e,t,n){n.r(e.exports={"heading-sm/normal":"heading-sm/normal__4ed1a",fontScaling:"fontScaling__4ed1a","heading-sm/medium":"heading-sm/medium__4ed1a","heading-sm/semibold":"heading-sm/semibold__4ed1a","heading-sm/bold":"heading-sm/bold__4ed1a","heading-sm/extrabold":"heading-sm/extrabold__4ed1a","heading-md/normal":"heading-md/normal__4ed1a","heading-md/medium":"heading-md/medium__4ed1a","heading-md/semibold":"heading-md/semibold__4ed1a","heading-md/bold":"heading-md/bold__4ed1a","heading-md/extrabold":"heading-md/extrabold__4ed1a","heading-lg/normal":"heading-lg/normal__4ed1a","heading-lg/medium":"heading-lg/medium__4ed1a","heading-lg/semibold":"heading-lg/semibold__4ed1a","heading-lg/bold":"heading-lg/bold__4ed1a","heading-lg/extrabold":"heading-lg/extrabold__4ed1a","heading-xl/normal":"heading-xl/normal__4ed1a","heading-xl/medium":"heading-xl/medium__4ed1a","heading-xl/semibold":"heading-xl/semibold__4ed1a","heading-xl/bold":"heading-xl/bold__4ed1a","heading-xl/extrabold":"heading-xl/extrabold__4ed1a","heading-xxl/normal":"heading-xxl/normal__4ed1a","heading-xxl/medium":"heading-xxl/medium__4ed1a","heading-xxl/semibold":"heading-xxl/semibold__4ed1a","heading-xxl/bold":"heading-xxl/bold__4ed1a","heading-xxl/extrabold":"heading-xxl/extrabold__4ed1a",eyebrow:"eyebrow__4ed1a","heading-deprecated-12/normal":"heading-deprecated-12/normal__4ed1a","heading-deprecated-12/medium":"heading-deprecated-12/medium__4ed1a","heading-deprecated-12/semibold":"heading-deprecated-12/semibold__4ed1a","heading-deprecated-12/bold":"heading-deprecated-12/bold__4ed1a","heading-deprecated-12/extrabold":"heading-deprecated-12/extrabold__4ed1a","redesign/heading-18/bold":"redesign/heading-18/bold__4ed1a","text-xxs/normal":"text-xxs/normal__4ed1a","text-xxs/medium":"text-xxs/medium__4ed1a","text-xxs/semibold":"text-xxs/semibold__4ed1a","text-xxs/bold":"text-xxs/bold__4ed1a","text-xs/normal":"text-xs/normal__4ed1a","text-xs/medium":"text-xs/medium__4ed1a","text-xs/semibold":"text-xs/semibold__4ed1a","text-xs/bold":"text-xs/bold__4ed1a","text-sm/normal":"text-sm/normal__4ed1a","text-sm/medium":"text-sm/medium__4ed1a","text-sm/semibold":"text-sm/semibold__4ed1a","text-sm/bold":"text-sm/bold__4ed1a","text-md/normal":"text-md/normal__4ed1a","text-md/medium":"text-md/medium__4ed1a","text-md/semibold":"text-md/semibold__4ed1a","text-md/bold":"text-md/bold__4ed1a","text-lg/normal":"text-lg/normal__4ed1a","text-lg/medium":"text-lg/medium__4ed1a","text-lg/semibold":"text-lg/semibold__4ed1a","text-lg/bold":"text-lg/bold__4ed1a","redesign/message-preview/normal":"redesign/message-preview/normal__4ed1a","redesign/message-preview/medium":"redesign/message-preview/medium__4ed1a","redesign/message-preview/semibold":"redesign/message-preview/semibold__4ed1a","redesign/message-preview/bold":"redesign/message-preview/bold__4ed1a","redesign/channel-title/normal":"redesign/channel-title/normal__4ed1a","redesign/channel-title/medium":"redesign/channel-title/medium__4ed1a","redesign/channel-title/semibold":"redesign/channel-title/semibold__4ed1a","redesign/channel-title/bold":"redesign/channel-title/bold__4ed1a","display-sm":"display-sm__4ed1a","display-md":"display-md__4ed1a","display-lg":"display-lg__4ed1a",code:"code__4ed1a",marketingBadgeTooltip:"marketingBadgeTooltip__4ed1a",marketingBadgeTooltipContent:"marketingBadgeTooltipContent__4ed1a",shopMarketingTooltipContent:"shopMarketingTooltipContent__4ed1a",shopMarketingTooltipText:"shopMarketingTooltipText__4ed1a",avatarContainer:"avatarContainer__4ed1a",avatar:"avatar__4ed1a",newBadge:"newBadge__4ed1a eyebrow__4ed1a",marketingButtonBackground:"marketingButtonBackground__4ed1a",marketingButtonBackgroundImage:"marketingButtonBackgroundImage__4ed1a"})},20080:function(e,t,n){e.exports={art:"art__3f6fc",contentOverlay:"contentOverlay__3f6fc",pointerClassName:"pointerClassName__3f6fc"}},739587:function(e,t,n){e.exports={modal:"modal_e59759",container:"container_e59759",headerIcon:"headerIcon_e59759",modalCloseButton:"modalCloseButton_e59759",verifiedRoles:"verifiedRoles_e59759",verifiedRole:"verifiedRole_e59759",verifiedRoleNameDescriptionContainer:"verifiedRoleNameDescriptionContainer_e59759",verifiedRoleDescription:"verifiedRoleDescription_e59759",verifiedRoleName:"verifiedRoleName_e59759",verifiedRoleHasRole:"verifiedRoleHasRole_e59759",roleCheckmark:"roleCheckmark_e59759",botAvatar:"botAvatar_e59759"}},659195:function(e,t,n){e.exports={contentRating:"contentRating_f4dfaa",esrb:"esrb_f4dfaa",pegi:"pegi_f4dfaa",esrbEveryone:"esrbEveryone_f4dfaa esrb_f4dfaa",esrbEveryoneTenPlus:"esrbEveryoneTenPlus_f4dfaa esrb_f4dfaa",esrbTeen:"esrbTeen_f4dfaa esrb_f4dfaa",esrbMature:"esrbMature_f4dfaa esrb_f4dfaa",esrbAdult:"esrbAdult_f4dfaa esrb_f4dfaa",esrbRatingPending:"esrbRatingPending_f4dfaa",pegiThree:"pegiThree_f4dfaa pegi_f4dfaa",pegiSeven:"pegiSeven_f4dfaa pegi_f4dfaa",pegiTwelve:"pegiTwelve_f4dfaa pegi_f4dfaa",pegiSixteen:"pegiSixteen_f4dfaa pegi_f4dfaa",pegiEighteen:"pegiEighteen_f4dfaa pegi_f4dfaa"}},103609:function(e,t,n){e.exports={title:"title__85643",icon:"icon__85643",guildIcon:"guildIcon__85643",button:"button__85643"}},965860:function(e,t,n){e.exports={outer:"outer_ac6414",inner:"inner_ac6414"}},64648:function(e,t,n){e.exports={spinner:"spinner_a2f514",container:"container_a2f514 "+n(992648).fixClipping,text:"text_a2f514",ready:"ready_a2f514",content:"content_a2f514",problems:"problems_a2f514",slideIn:"slideIn_a2f514",problemsText:"problemsText_a2f514",links:"links_a2f514",statusLink:"statusLink_a2f514 links_a2f514",twitterLink:"twitterLink_a2f514 links_a2f514",icon:"icon_a2f514",contentBase:"contentBase_a2f514",tipTitle:"tipTitle_a2f514",tip:"tip_a2f514",keybind:"keybind_a2f514",body:"body_a2f514 contentBase_a2f514",title:"title_a2f514 contentBase_a2f514"}},787205:function(e,t,n){e.exports={inset:"inset_bf1984",outer:"outer_bf1984",padded:"padded_bf1984",interactive:"interactive_bf1984",active:"active_bf1984"}},33963:function(e,t,n){e.exports={canvas:"canvas__5dc9c"}},483849:function(e,t,n){e.exports={row:"row__5fe04",clickable:"clickable__5fe04",headerCell:"headerCell__5fe04",headerCellContent:"headerCellContent__5fe04",stickyHeader:"stickyHeader__5fe04",sortIcon:"sortIcon__5fe04"}},398435:function(e,t,n){e.exports={container:"container__6c8a3",activityWrapper:"activityWrapper__6c8a3",statusText:"statusText__6c8a3"}},288779:function(e,t,n){e.exports={container:"container_e73f2a",section:"section_e73f2a",header:"header_e73f2a",chevronIcon:"chevronIcon_e73f2a",sectionCollapsible:"sectionCollapsible_e73f2a",controlButtons:"controlButtons_e73f2a",controlButton:"controlButton_e73f2a",searchContainer:"searchContainer_e73f2a",list:"list_e73f2a",row:"row_e73f2a",rowInner:"rowInner_e73f2a",avatar:"avatar_e73f2a",username:"username_e73f2a",badgesContainer:"badgesContainer_e73f2a",hoverBar:"hoverBar_e73f2a",emptyStateContainer:"emptyStateContainer_e73f2a"}},356849:function(e,t,n){e.exports={root:"root_e373d2",connected:"connected_e373d2",icon:"icon_e373d2",connecting:"connecting_e373d2"}},776761:function(e,t,n){e.exports={recommendationReason:"recommendationReason__6efad",circle:"circle__6efad",icon:"icon__6efad",iconCircle:"iconCircle__6efad circle__6efad",earlyAccess:"earlyAccess__6efad",premiumCircle:"premiumCircle__6efad",smallHeader:"smallHeader__6efad",text:"text__6efad",description:"description__6efad"}},450833:function(e,t,n){e.exports={container:"container_a592e1",dragRegion:"dragRegion_a592e1"}},450552:function(e,t,n){e.exports={button:"button__075ec",innerButton:"innerButton__075ec"}},444657:function(e,t,n){e.exports={container:"container__551b0",header:"header__551b0",nav:"nav__551b0",navItemIcon:"navItemIcon__551b0",navItem:"navItem__551b0",selected:"selected__551b0"}},727615:function(e,t,n){e.exports={container:"container__4cb8a",card:"card__4cb8a",iconMask:"iconMask__4cb8a",maximizeIcon:"maximizeIcon__4cb8a",header:"header__4cb8a",loaded:"loaded__4cb8a",banner:"banner__4cb8a",bannerImage:"bannerImage__4cb8a",icon:"icon__4cb8a",avatar:"avatar__4cb8a",guildDetails:"guildDetails__4cb8a",title:"title__4cb8a",guildBadge:"guildBadge__4cb8a",guildName:"guildName__4cb8a",description:"description__4cb8a",memberDetails:"memberDetails__4cb8a",memberDetailsCount:"memberDetailsCount__4cb8a",memberDetailsText:"memberDetailsText__4cb8a",infoDot:"infoDot__4cb8a",presenceCountDot:"presenceCountDot__4cb8a infoDot__4cb8a",memberCountDot:"memberCountDot__4cb8a infoDot__4cb8a",spinnerContainer:"spinnerContainer__4cb8a",spinner:"spinner__4cb8a",placeholder:"placeholder__4cb8a",transitionGroup:"transitionGroup__4cb8a"}},398075:function(e,t,n){e.exports={container:"container_d08938",searchResultsHeader:"searchResultsHeader_d08938"}},104102:function(e,t,n){e.exports={icon:"icon__402f3"}},984503:function(e,t,n){e.exports={heading:"heading_cbd375",headingTopbar:"headingTopbar_cbd375",headingFilters:"headingFilters_cbd375",masonryList:"masonryList_cbd375",container:"container_cbd375",spinner:"spinner_cbd375",spinnerWithSidebar:"spinnerWithSidebar_cbd375",sidebar:"sidebar_cbd375",sidebarContent:"sidebarContent_cbd375",sidebarLanguageSelect:"sidebarLanguageSelect_cbd375"}},384506:function(e,t,n){e.exports={categories:"categories_fe77d6",category:"category_fe77d6",name:"name_fe77d6",count:"count_fe77d6",selected:"selected_fe77d6"}},882375:function(e,t,n){e.exports={container:"container__757e8"}},30754:function(e,t,n){e.exports={container:"container__74f3e",image:"image__74f3e",header:"header__74f3e"}},849781:function(e,t,n){e.exports={sectionTitle:"sectionTitle_f0d60d",content:"content_f0d60d"}},795576:function(e,t,n){e.exports={disclaimer:"disclaimer__04d5b",text:"text__04d5b",divider:"divider__04d5b"}},74816:function(e,t,n){e.exports={page:"page__99a7e",contentWrapper:"contentWrapper__99a7e",dragRegion:"dragRegion__99a7e",splash:"splash__99a7e",defaultGradient:"defaultGradient__99a7e",splashGradient:"splashGradient__99a7e",cover:"cover__99a7e"}},568410:function(e,t,n){e.exports={confirmation:"confirmation__1051d",iconWrapper:"iconWrapper__1051d",statusTextContainer:"statusTextContainer__1051d",incompleteButtonsContainer:"incompleteButtonsContainer__1051d",confirmationButtonRow:"confirmationButtonRow__1051d",confirmationButton:"confirmationButton__1051d",rejectionReasonLabel:"rejectionReasonLabel__1051d",confirmationTooltipContents:"confirmationTooltipContents__1051d"}},150718:function(e,t,n){e.exports={container:"container_cd1bf7",explainerContainer:"explainerContainer_cd1bf7",transparentBackground:"transparentBackground_cd1bf7",header:"header_cd1bf7",outerWrapping:"outerWrapping_cd1bf7"}},113728:function(e,t,n){e.exports={main:"main_c08b38",fullBorderWithGradient:"fullBorderWithGradient_c08b38",artwork:"artwork_c08b38",gradient:"gradient_c08b38",bottomCenterContent:"bottomCenterContent_c08b38",cover:"cover_c08b38"}},644909:function(e,t,n){e.exports={container:"container__2f3c8",image:"image__2f3c8"}},401623:function(e,t,n){e.exports={container:"container_d843c9",video:"video_d843c9"}},210998:function(e,t,n){e.exports={pendingPlanChangeNotice:"pendingPlanChangeNotice_f75db8"}},843990:function(e,t,n){e.exports={errorPageContainer:"errorPageContainer__5a176",errorPageContent:"errorPageContent__5a176",errorPageIllo:"errorPageIllo__5a176",errorPageTitle:"errorPageTitle__5a176",errorPagSubtitle:"errorPagSubtitle__5a176"}},86492:function(e,t,n){e.exports={container:"container__808a1",content:"content__808a1",scroller:"scroller__808a1",scrollerContent:"scrollerContent__808a1",headerBar:"headerBar__808a1"}},81512:function(e,t,n){e.exports={container:"container_e66c4d",content:"content_e66c4d",header:"header_e66c4d"}},76014:function(e,t,n){e.exports={container:"container__7e486",coverImageContainer:"coverImageContainer__7e486",coverImage:"coverImage__7e486",guildIconContainer:"guildIconContainer__7e486",ctaTitle:"ctaTitle__7e486",ctaSubtitle:"ctaSubtitle__7e486"}},647128:function(e,t,n){e.exports={channelNotice:"channelNotice_e2d7b8",textBlock:"textBlock_e2d7b8",singleLine:"singleLine_e2d7b8",liveNowText:"liveNowText_e2d7b8",eventNameClickable:"eventNameClickable_e2d7b8",eventName:"eventName_e2d7b8",channelName:"channelName_e2d7b8",dotDivider:"dotDivider_e2d7b8",liveIndicator:"liveIndicator_e2d7b8",startTime:"startTime_e2d7b8",stageIcon:"stageIcon_e2d7b8",userNames:"userNames_e2d7b8",joinButton:"joinButton_e2d7b8",rsvpButton:"rsvpButton_e2d7b8",buttonIcon:"buttonIcon_e2d7b8",closeIcon:"closeIcon_e2d7b8",details:"details_e2d7b8"}},545900:function(e,t,n){e.exports={image:"image_d6d9aa"}},540835:function(e,t,n){e.exports={container:"container__2637a",hubContainer:"hubContainer__2637a",tooltipOverrideColor:"tooltipOverrideColor__2637a",dropdownButton:"dropdownButton__2637a",dropdownButtonBannerVisible:"dropdownButtonBannerVisible__2637a"}},302e3:function(e,t,n){e.exports={container:"container__6e9be"}},333182:function(e,t,n){e.exports={container:"container_a76561",iconContainer:"iconContainer_a76561",header:"header_a76561",gap:"gap_a76561",addButton:"addButton_a76561"}},167150:function(e,t,n){e.exports={container:"container__30f2d",topImage:"topImage__30f2d",centerText:"centerText__30f2d",header:"header__30f2d",descriptionWidth:"descriptionWidth__30f2d",formContent:"formContent__30f2d",formDescription:"formDescription__30f2d",termsPhrase:"termsPhrase__30f2d",submitButton:"submitButton__30f2d",cancelButton:"cancelButton__30f2d"}},593673:function(e,t,n){e.exports={container:"container_a3fac7",centerText:"centerText_a3fac7",header:"header_a3fac7",description:"description_a3fac7",guildList:"guildList_a3fac7",forcedHeight:"forcedHeight_a3fac7",searchContainer:"searchContainer_a3fac7",searchBox:"searchBox_a3fac7",searchBoxInput:"searchBoxInput_a3fac7",searchBoxIcon:"searchBoxIcon_a3fac7",guildRow:"guildRow_a3fac7",clickableGuildInfoRow:"clickableGuildInfoRow_a3fac7 guildRow_a3fac7",guildIcon:"guildIcon_a3fac7",guildName:"guildName_a3fac7",noResultsContainer:"noResultsContainer_a3fac7",noResultsContent:"noResultsContent_a3fac7",noResultsImage:"noResultsImage_a3fac7",scroller:"scroller_a3fac7"}},778360:function(e,t,n){e.exports={modalRoot:"modalRoot__1d6c7",sidebarContainer:"sidebarContainer__1d6c7",contentContainer:"contentContainer__1d6c7",modalContent:"modalContent__1d6c7",container:"container__1d6c7",closeButton:"closeButton__1d6c7"}},460160:function(e,t,n){e.exports={page:"page_ae34ee",contentWrapper:"contentWrapper_ae34ee",dragRegion:"dragRegion_ae34ee"}},248999:function(e,t,n){e.exports={container:"container_c1298c",iconContainer:"iconContainer_c1298c",icon:"icon_c1298c",header:"header_c1298c",description:"description_c1298c"}},257356:function(e,t,n){e.exports={container:"container__07ec5",centerText:"centerText__07ec5",header:"header__07ec5",descriptionWidth:"descriptionWidth__07ec5",formItem:"formItem__07ec5",footer:"footer__07ec5",backButton:"backButton__07ec5"}},768680:function(e,t,n){e.exports={container:"container_bfddf1",topImage:"topImage_bfddf1",centerText:"centerText_bfddf1",formItem:"formItem_bfddf1 centerText_bfddf1",header:"header_bfddf1",descriptionWidth:"descriptionWidth_bfddf1",submitText:"submitText_bfddf1"}},253563:function(e,t,n){e.exports={container:"container_ea45f4",content:"content_ea45f4",pointer:"pointer_ea45f4"}},376e3:function(e,t,n){e.exports={icon:"icon__58921"}},966651:function(e,t,n){e.exports={video:"video__111f3",upsellBody:"upsellBody__111f3"}},645923:function(e,t,n){e.exports={messageRequestItem:"messageRequestItem_abb9ad",firstItem:"firstItem_abb9ad",active:"active_abb9ad"}},596576:function(e,t,n){e.exports={container:"container_f391e3",item:"item_f391e3",list:"list_f391e3",sectionTitle:"sectionTitle_f391e3",selected:"selected_f391e3",siblingSelected:"siblingSelected_f391e3",messageRequestCoachmark:"messageRequestCoachmark_f391e3",titleDivider:"titleDivider_f391e3",clearAllButton:"clearAllButton_f391e3"}},391587:function(e,t,n){e.exports={messageContent:"messageContent_dbf24f",messageReplacement:"messageReplacement_dbf24f messageContent_dbf24f",messageContentIcon:"messageContentIcon_dbf24f",messageFocusBlock:"messageFocusBlock_dbf24f"}},818816:function(e,t,n){e.exports={avatar:"avatar_b8dbac",userPreview:"userPreview_b8dbac",userContainerWithPreview:"userContainerWithPreview_b8dbac",tagContainer:"tagContainer_b8dbac",username:"username_b8dbac",discriminator:"discriminator_b8dbac",globalName:"globalName_b8dbac",timestampWithPreview:"timestampWithPreview_b8dbac",mutualGuildsContainer:"mutualGuildsContainer_b8dbac",mutualGuilds:"mutualGuilds_b8dbac"}},96532:function(e,t,n){e.exports={emptyStateContainer:"emptyStateContainer__65428"}},23704:function(e,t,n){e.exports={container:"container__24368",actions:"actions__24368",button:"button__24368"}},39276:function(e,t,n){e.exports={selected:"selected_dcc822",siblingSelected:"siblingSelected_dcc822",list:"list_dcc822",sectionTitle:"sectionTitle_dcc822",titleDivider:"titleDivider_dcc822",clearAllButton:"clearAllButton_dcc822"}},972308:function(e,t,n){e.exports={container:"container__0b7fc",actions:"actions__0b7fc",button:"button__0b7fc"}},677973:function(e,t,n){e.exports={wrapper:"wrapper__123e1",textContainer:"textContainer__123e1",heading:"heading__123e1",text:"text__123e1"}},370168:function(e,t,n){e.exports={itemCard:"itemCard__7e549",emptyCard:"emptyCard__7e549",emptyHeader:"emptyHeader__7e549",emptyText:"emptyText__7e549"}},530925:function(e,t,n){e.exports={scroller:"scroller__7d20c",container:"container__7d20c",header:"header__7d20c"}},376316:function(e,t,n){e.exports={memberItem:"memberItem__5017b",avatar:"avatar__5017b",unknown:"unknown__5017b"}},457755:function(e,t,n){e.exports={listeningAlong:"listeningAlong_e0cf27",party:"party_e0cf27",overflow:"overflow_e0cf27",icons:"icons_e0cf27",avatar:"avatar_e0cf27"}},795243:function(e,t,n){e.exports={scroller:"scroller__68617",voiceUsers:"voiceUsers__68617",collapsed:"collapsed__68617",avatarContainer:"avatarContainer__68617",avatar:"avatar__68617",speaking:"speaking__68617",avatarIconOverlay:"avatarIconOverlay__68617",avatarIconRed:"avatarIconRed__68617"}},114959:function(e,t,n){e.exports={actionButton:"actionButton_f8fa06",highlight:"highlight_f8fa06",actionAccept:"actionAccept_f8fa06",actionDeny:"actionDeny_f8fa06",icon:"icon_f8fa06",actionButtonMobile:"actionButtonMobile_f8fa06"}},383903:function(e,t,n){e.exports={header:"header__94b08",title:"title__94b08",emptyState:"emptyState__94b08"}},507750:function(e,t,n){e.exports={header:"header_a14595",title:"title_a14595",grid:"grid_a14595",container:"container_a14595",arrow:"arrow_a14595",icon:"icon_a14595",text:"text_a14595"}},262839:function(e,t,n){e.exports={card:"card__2eab1",header:"header__2eab1",buttonContainer:"buttonContainer__2eab1"}},887563:function(e,t,n){e.exports={listItemContents:"listItemContents_fc004c",actions:"actions_fc004c"}},332295:function(e,t,n){e.exports={friendsEmpty:"friendsEmpty_c7ea19",button:"button_c7ea19",emptyStateContainer:"emptyStateContainer_c7ea19",spamButton:"spamButton_c7ea19"}},53487:function(e,t,n){e.exports={listItemContents:"listItemContents_e1ecd3",actions:"actions_e1ecd3",staffIndicator:"staffIndicator_e1ecd3",applicationSublabel:"applicationSublabel_e1ecd3"}},222001:function(e,t,n){e.exports={emptyStateContainer:"emptyStateContainer__5ec2f",peopleList:"peopleList__5ec2f",searchBar:"searchBar__5ec2f",sectionTitle:"sectionTitle__5ec2f",clearButton:"clearButton__5ec2f",searchEmptyState:"searchEmptyState__5ec2f",viewSpamButton:"viewSpamButton__5ec2f",viewSpamButtonColor:"viewSpamButtonColor__5ec2f"}},962632:function(e,t,n){e.exports={peopleListItem:"peopleListItem_cc6179",active:"active_cc6179"}},610725:function(e,t,n){e.exports={container:"container__133bf",inviteToolbar:"inviteToolbar__133bf",peopleColumn:"peopleColumn__133bf",nowPlayingColumn:"nowPlayingColumn__133bf",tabBar:"tabBar__133bf",badge:"badge__133bf",item:"item__133bf",addFriend:"addFriend__133bf",tabBody:"tabBody__133bf"}},306194:function(e,t,n){e.exports={blockedIgnoredSettingsNotice:"blockedIgnoredSettingsNotice__6811a"}},490053:function(e,t,n){e.exports={title:"title__1472a"}},223009:function(e,t,n){e.exports={statusText:"statusText__19b6d",text:"text__19b6d"}},292568:function(e,t,n){e.exports={listItemContents:"listItemContents_c72b78",actions:"actions_c72b78"}},535317:function(e,t,n){e.exports={userInfo:"userInfo__0a06e",avatar:"avatar__0a06e",text:"text__0a06e",subtext:"subtext__0a06e",discordTag:"discordTag__0a06e",botTag:"botTag__0a06e",username:"username__0a06e",discriminator:"discriminator__0a06e",hovered:"hovered__0a06e",alignPomelo:"alignPomelo__0a06e"}},158779:function(e,t,n){e.exports={countDown:"countDown__61bcd",sparkleStar1:"sparkleStar1__61bcd",sparkleStar2:"sparkleStar2__61bcd"}},26725:function(e,t,n){e.exports={spriteContainer:"spriteContainer__51d15",sprite:"sprite__51d15",popoutButton:"popoutButton__51d15",pillContentContainer:"pillContentContainer__51d15",pillButtonText:"pillButtonText__51d15"}},892012:function(e,t,n){e.exports={button:"button__95fb7",innerButton:"innerButton__95fb7",nitroIconSubHeader:"nitroIconSubHeader__95fb7",termsApplyAnchor:"termsApplyAnchor__95fb7",modalTopPill:"modalTopPill__95fb7",tier2Gradient:"tier2Gradient__95fb7"}},212314:function(e,t,n){e.exports={container:"container_c2b8c9",image:"image_c2b8c9",header:"header_c2b8c9",primaryButton:"primaryButton_c2b8c9"}},742116:function(e,t,n){e.exports={customCircleAnimation:"customCircleAnimation__83ef9",glow:"glow__83ef9",pulse:"pulse__83ef9","extra-glow":"extra-glow__83ef9",coachTipContainer:"coachTipContainer__83ef9",iconContainer:"iconContainer__83ef9",coachtipContent:"coachtipContent__83ef9",marketingBadgeTooltip:"marketingBadgeTooltip__83ef9",tooltipContent:"tooltipContent__83ef9",icon:"icon__83ef9"}},441393:function(e,t,n){e.exports={premiumTrialBadge:"premiumTrialBadge__94f65",premiumTrialAcknowledgedBadge:"premiumTrialAcknowledgedBadge__94f65",reverseTrialBadgeIcon:"reverseTrialBadgeIcon__94f65"}},419720:function(e,t,n){e.exports={localizeBadge:"localizeBadge__51968"}},937976:function(e,t,n){e.exports={root:"root_d06335",headerText:"headerText_d06335",closeButton:"closeButton_d06335",video:"video_d06335",content:"content_d06335",subHeader:"subHeader_d06335",bodyText:"bodyText_d06335",featureCardGroup:"featureCardGroup_d06335",wideStyle:"wideStyle_d06335",featureCard:"featureCard_d06335",featureCardImg:"featureCardImg_d06335",featureCardTextGroup:"featureCardTextGroup_d06335",featureCardTextHeader:"featureCardTextHeader_d06335",featureCardTag:"featureCardTag_d06335",tag:"tag_d06335"}},45017:function(e,t,n){e.exports={container:"container__9192b",image:"image__9192b",assetBlurred:"assetBlurred__9192b",decoWrapper:"decoWrapper__9192b",overlay:"overlay__9192b",darkThemeGradient:"darkThemeGradient__9192b",lightThemeGradient:"lightThemeGradient__9192b",details:"details__9192b",logoContainer:"logoContainer__9192b",logo:"logo__9192b",logoWithCosponsor:"logoWithCosponsor__9192b",title:"title__9192b",hovered:"hovered__9192b"}},767780:function(e,t,n){e.exports={gridContainer:"gridContainer_f3e8a7",spinner:"spinner_f3e8a7"}},87671:function(e,t,n){e.exports={container:"container__955a3",dragRegion:"dragRegion__955a3",bannerAsset:"bannerAsset__955a3",orbsBannerAsset:"orbsBannerAsset__955a3",oversizedImg:"oversizedImg__955a3",bannerGradient:"bannerGradient__955a3",tabs:"tabs__955a3",orbsTermsButton:"orbsTermsButton__955a3",orbsGradient:"orbsGradient__955a3",bannerContainer:"bannerContainer__955a3",orbsContainer:"orbsContainer__955a3"}},204997:function(e,t,n){e.exports={container:"container__60f82",fadeIn:"fadeIn__60f82",glow:"glow__60f82",reflect:"reflect__60f82",questTile:"questTile__60f82",selected:"selected__60f82",unselected:"unselected__60f82",spinner:"spinner__60f82"}},442994:function(e,t,n){e.exports={container:"container__06199",asset:"asset__06199"}},396896:function(e,t,n){e.exports={wrapper:"wrapper__960df",submenuIcon:"submenuIcon__960df",utils:"utils__960df",wrapperQuestAccepted:"wrapperQuestAccepted__960df",heading:"heading__960df",headingGameTile:"headingGameTile__960df",headingCopy:"headingCopy__960df",instructions:"instructions__960df",ctas:"ctas__960df",cta:"cta__960df",rewardTileWithInstructions:"rewardTileWithInstructions__960df"}},442122:function(e,t,n){e.exports={channelName:"channelName__7c7a6",username:"username__7c7a6",kvContainer:"kvContainer__7c7a6",item:"item__7c7a6",itemValue:"itemValue__7c7a6",valueIcon:"valueIcon__7c7a6",title:"title__7c7a6",divider:"divider__7c7a6",graph:"graph__7c7a6",videoWrapper:"videoWrapper__7c7a6",sectionHeader:"sectionHeader__7c7a6",allowSelection:"allowSelection__7c7a6",avatar:"avatar__7c7a6"}},383932:function(e,t,n){e.exports={container:"container_f4e6be",title:"title_f4e6be",description:"description_f4e6be"}},681037:function(e,t,n){e.exports={safetyFlow:"safetyFlow_fcc136",container:"container_fcc136",body:"body_fcc136",header:"header_fcc136",error:"error_fcc136"}},790773:function(e,t,n){e.exports={wrapper:"wrapper__27106",svg:"svg__27106",path:"path__27106",background:"background__27106 path__27106",foreground:"foreground__27106 path__27106",usageInfo:"usageInfo__27106"}},432637:function(e,t,n){e.exports={container:"container__577c3",image:"image__577c3",links:"links__577c3",agreementDescription:"agreementDescription__577c3"}},816676:function(e,t,n){e.exports={verification:"verification_dede4b",title:"title_dede4b",body:"body_dede4b",footer:"footer_dede4b",container:"container_dede4b",isMobile:"isMobile_dede4b",image:"image_dede4b",footerBullet:"footerBullet_dede4b",footerAction:"footerAction_dede4b"}},992648:function(e,t,n){e.exports={fixClipping:"fixClipping_efbae7"}},13299:function(e,t,n){n.d(t,{ZP:()=>r});let r="https://cdn.discordapp.com/assets/content/415f84ea9183bc0f4f913e729a59c81c17d2a88afd912e3b85ee99f3d3e29236.png"},428383:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/7d96168e0234441d75c1e247f5e24798488f0b244bb8bd8ddef18373b0109b4a.mp4"},326238:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/21690d167dc221679562163b257f6fec6b2d19d842b68d6f55b5d1582b46c8e6.png"},843385:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/a0b45cf7a3d455e779fb8bc319d12aeeddd1099ebc390234f257f6736f2047bd.webm"},201284:function(e,t,n){n.d(t,{Z:()=>r});let r="https://cdn.discordapp.com/assets/content/61aaaee4a0366652022b510d9aaa8a26d552ce8457679b0c28c5e2002484a5a6.webm"}}]);
//# sourceMappingURL=4aa6c301142b3c55.js.map