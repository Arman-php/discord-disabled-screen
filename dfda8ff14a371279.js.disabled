"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["23491"],{969728:function(e){e.exports="/assets/a5041f91a8a7f1d5.svg"},619915:function(e,t,n){n.d(t,{QN:()=>p,ZP:()=>s,gb:()=>f,uF:()=>v}),n(388685),n(539854);var i=n(73800),r=n(442837),l=n(835473),o=n(158776),u=n(594174),a=n(823379),c=n(317381),d=n(16609);function s(e,t){return f((0,r.Wu)([c.ZP],()=>null!=e&&null!=e.id&&""!==e.id?c.ZP.getEmbeddedActivitiesForChannel(e.id):c.i6),t)}function p(e){let t=f((0,r.e7)([c.ZP],()=>null!=e?c.ZP.getEmbeddedActivitiesForGuild(e):c.i6));return i.useMemo(()=>{let e=new Map;return t.forEach(t=>{var n;let i=(0,d.p)(t.embeddedActivity.location);if(null==i)return;let r=null!=(n=e.get(i))?n:[];r.push(t),e.set(i,r)}),e},[t])}function f(e,t){let n=e.map(e=>e.applicationId),o=(0,l.Z)(n),c=new Set([]);for(let t of e)for(let e of t.userIds)c.add(e);let d=(0,r.Wu)([u.default],()=>{let e=[];for(let t of c)e.push(u.default.getUser(t));return e},[c]);return i.useMemo(()=>{let n=new Map;return d.forEach(e=>{null!=e&&n.set(e.id,e)}),e.map((e,i)=>{let r=o[i],l=[];if(null!=l)for(let i of e.userIds){let e=n.get(i);if(null!=e&&null!=t){let n=t(e);null!=n&&l.push(n)}}return null==r?null:{embeddedActivity:e,application:r,userParticipantAvatarUrls:l}}).filter(a.lm)},[e,o,d,t])}function v(e){return(0,r.e7)([o.Z],()=>{let t=new Map;return e.forEach(e=>{var n,i,r;let l=o.Z.findActivity(null==e?void 0:e.embeddedActivity.userIds.values().next().value,t=>{var n;return t.application_id===(null==e||null==(n=e.application)?void 0:n.id)});t.set(null==e||null==(n=e.application)?void 0:n.id,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},e),r=r={presenceActivity:l},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))}),i))}),t},[e],r.pF)}},542094:function(e,t,n){n.d(t,{JS:()=>h,Qv:()=>w,ZP:()=>P,fD:()=>_,w1:()=>A}),n(997841),n(704826),n(35282);var i,r=n(493683),l=n(911969),o=n(906732),u=n(835473),a=n(630388),c=n(358085),d=n(317381),s=n(638880),p=n(122613),f=n(619915),v=n(16609),y=n(761122),b=n(361213),m=n(716600),E=n(952561),Z=n(778569),O=n(701488),g=n(981631),h=((i={})[i.START=0]="START",i[i.JOIN=1]="JOIN",i[i.LEAVE=2]="LEAVE",i);function P(e){let{activityItem:t,context:n,locationObject:i,onActivityItemSelected:r,embeddedActivitiesManager:o,assetNames:u=["embedded_cover"],backgroundResolution:a=250,launchingComponentId:d,commandOrigin:s,source:p}=e,{application:v,activity:m}=t,E=m.client_platform_config[(0,y.Z)((0,c.getOS)())],O=null!=E.label_until&&Date.now()<Date.parse(E.label_until),g=(0,Z.Z)({applicationId:v.id,size:a,names:u}),h=null!=m.activity_preview_video_asset_id?(0,b.Z)(v.id,m.activity_preview_video_asset_id):null,P=(0,f.ZP)("channel"===n.type?n.channel:void 0).find(e=>{let{embeddedActivity:t}=e;return v.id===t.applicationId}),I=w({context:n,applicationId:v.id}),S=A({applicationId:t.application.id,context:n,locationObject:i,embeddedActivitiesManager:o,onActivityItemSelectedProp:r,launchingComponentId:d,commandOrigin:s,source:p}),j=_(v,t.activity);return{imageBackground:g,videoUrl:h,joinableEmbeddedApp:P,activityAction:I,onActivityItemSelected:S,labelType:O?E.label_type:l.ww.NONE,staffReleasePhase:j}}function _(e,t){var n;let i=null!=(n=e.flags)?n:0;if(!((0,a.yE)(i,g.udG.EMBEDDED_RELEASED)||(0,a.yE)(i,g.udG.EMBEDDED_FIRST_PARTY)))return;let r=t.client_platform_config[(0,y.Z)((0,c.getOS)())].release_phase;return O.eB.includes(r)?r.replace("_"," ").replace(/(^\w|\s\w)/g,e=>e.toUpperCase()):void 0}function w(e){let{context:t,applicationId:n,fetchesApplication:i=!0}=e,r=0,l="channel"===t.type?t.channel:void 0,o=(0,m.Z)(),a=(0,E.Z)({fetchesApplication:i}),c=(0,u.q)(n,i),d=(0,f.ZP)(l).find(e=>{let{embeddedActivity:t}=e;return null!=c&&c.id===t.applicationId});if(null==c)return r;let s=(0,v.p)(null==o?void 0:o.location);return null!=l&&s===l.id&&(null==a?void 0:a.id)===c.id?r=2:null!=d&&(r=1),r}function A(e){let{applicationId:t,botUserIdForAppDM:n,context:i,locationObject:l,embeddedActivitiesManager:u,onActivityItemSelectedProp:a,launchingComponentId:c,commandOrigin:f,sectionName:v,source:y,fetchesApplication:b=!0,customId:E,referrerId:Z,onConfirmActivityLaunchChecksAlertOpen:O}=e,g=w({context:i,applicationId:t,fetchesApplication:b}),{analyticsLocations:h}=(0,o.ZP)(),P=(0,m.Z)();switch(g){case 0:return async()=>{let e="channel"===i.type?i.channel.id:void 0;if(null!=n)try{e=await r.Z.openPrivateChannel({recipientIds:n,navigateToChannel:!0})}catch(e){return}await (0,p.Z)({targetApplicationId:t,locationObject:l,channelId:e,analyticsLocations:h,componentId:c,commandOrigin:f,sectionName:v,source:y,customId:E,referrerId:Z,onConfirmActivityLaunchChecksAlertOpen:O}).then(e=>e&&(null==a?void 0:a({applicationId:t})))};case 1:return async()=>{d.ZP.isLaunchingActivity()||await (0,s.Z)({applicationId:t,activityChannelId:"channel"===i.type?i.channel.id:void 0,locationObject:l,analyticsLocations:h,componentId:c,sectionName:v,source:y,customId:E,referrerId:Z}).then(e=>e&&(null==a?void 0:a({applicationId:t})))};case 2:return()=>{d.ZP.isLaunchingActivity()||(null!=P&&u.leaveActivity({location:P.location,applicationId:t}),null==a||a({applicationId:t}))}}}},716600:function(e,t,n){n.d(t,{Z:()=>l});var i=n(442837),r=n(317381);function l(){return(0,i.e7)([r.ZP],()=>r.ZP.getCurrentEmbeddedActivity())}},952561:function(e,t,n){n.d(t,{Z:()=>l}),n(388685);var i=n(835473),r=n(716600);function l(){let{fetchesApplication:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.Z)(),[n]=(0,i.Z)(null==t?[]:[t.applicationId],e);return null!=n?n:void 0}},346683:function(e,t,n){n.d(t,{Q:()=>l}),n(388685);var i=n(73800),r=n(542094);function l(e){let[t,n]=i.useState(e);return i.useLayoutEffect(()=>{if(e===r.JS.LEAVE){let t=setTimeout(()=>n(e),100);return()=>clearTimeout(t)}n(e)},[e]),t}},915346:function(e,t,n){n.d(t,{W:()=>l});var i=n(493683),r=n(122613);async function l(e){let{appId:t,botId:n,analyticsLocations:l,customId:o,referrerId:u,commandOrigin:a}=e,c=await i.Z.openPrivateChannel({recipientIds:n});return await (0,r.Z)({targetApplicationId:t,channelId:c,analyticsLocations:l,customId:o,referrerId:u,commandOrigin:a})}},176412:function(e,t,n){n.d(t,{Bm:()=>T,P7:()=>M,X:()=>D,ae:()=>j});var i,r,l=n(73800),o=n(392711),u=n.n(o),a=n(442837),c=n(25209),d=n(481060),s=n(2052),p=n(542094),f=n(513202),v=n(367907),y=n(213459),b=n(895924),m=n(691424),E=n(428595),Z=n(364458),O=n(585483),g=n(499254),h=n(541099),P=n(827498),_=n(346683),w=n(981631),A=n(388032);let I=(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},E.Z.RULES.commandMention),r=r={parse:(e,t,n)=>({content:E.Z.RULES.commandMention.parse(e,t,n).content})},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))}),i),S=u().pick((0,Z.Z)([E.Z.RULES,{commandMention:I},(0,m.Z)({enableBuildOverrides:!1,enableEmojiClick:!1})]),["commandMention","customEmoji","em","emoji","emoticon","highlight","inlineCode","looseEm","s","strong","text","timestamp","u","spoiler"]),j=c.w4(S);function M(e){let{context:t,application:n,location:i,sectionName:r,commandName:o,autoDismissOnClick:u=!0,launchingComponentId:c,submitting:m=!1,fetchesApplication:E=!0,onConfirmActivityLaunchChecksAlertOpen:Z}=e,O=(0,s.O)(),I=(0,p.Qv)({context:t,applicationId:n.id,fetchesApplication:E}),S=(0,_.Q)(I),j=(0,a.e7)([h.Z],()=>h.Z.entrypoint()),M=l.useMemo(()=>{var e,i,r;if("channel"!==t.type)return null!=(r=null==(e=n.bot)?void 0:e.id)?r:null==(i=(0,y.If)(t,n.id).descriptor)?void 0:i.botId},[t,n.id,n.bot]),T=(0,p.w1)({applicationId:n.id,botUserIdForAppDM:M,embeddedActivitiesManager:f.Z,context:t,locationObject:O.location,onActivityItemSelectedProp:e=>{let{applicationId:t}=e;u&&g.yT(P.ti.ACTIVITY),(0,v.yw)(w.rMx.APP_LAUNCHER_ACTIVITY_ITEM_SELECTED,{location:i,application_id:t,section_name:r,action:S,source:j})},launchingComponentId:c,commandOrigin:b.bB.APPLICATION_LAUNCHER,sectionName:r,source:j,fetchesApplication:E,onConfirmActivityLaunchChecksAlertOpen:Z}),D=d.Ttl.BRAND,L=null!=o?o:A.intl.string(A.t.zKX8Nj);return S===p.JS.JOIN?(D=d.Ttl.GREEN,L=A.intl.string(A.t.d9PsMj)):S!==p.JS.LEAVE||m||(D=d.Ttl.RED,L=A.intl.string(A.t["Hi1/aW"])),{onActivityItemSelected:T,activityAction:S,buttonColor:D,buttonText:L}}function T(e,t){let n=h.Z.entrypoint(),i=l.useMemo(()=>(0,o.debounce)((e,t)=>{(0,v.yw)(w.rMx.APP_LAUNCHER_EMPTY_STATE_ENCOUNTERED,{type:e,source:t})},400,{leading:!1,trailing:!0}),[]);l.useEffect(()=>{null!=e&&i(e,n)},[e,t,n,i])}function D(e){O.S.dispatchToLastSubscribed(w.CkL.OPEN_APP_LAUNCHER,{applicationId:e})}},327220:function(e,t,n){n.d(t,{Z:()=>u}),n(388685);var i=n(73800),r=n(442837),l=n(592125),o=n(9156);function u(e){let t=(0,r.e7)([l.Z],()=>l.Z.getPrivateChannelsVersion()),n=(0,r.e7)([l.Z],()=>l.Z.getMutableDMsByUserIds(),[t]),u=(0,r.e7)([o.ZP],()=>o.ZP.getMutedChannels(null)),a=i.useMemo(()=>{let e=new Set;for(let t in n){let i=n[t];null!=i&&u.has(i)&&e.add(t)}return e},[n,u]);return i.useMemo(()=>null==e?void 0:e.filter(e=>{for(let t of e.participants)if(a.has(t))return!1;return!0}),[e,a])}},959580:function(e,t,n){n.d(t,{Z:()=>o});var i=n(442837),r=n(719247);let l=[];function o(e){return(0,i.Wu)([r.Z],()=>null==e?l:e.filter(r.Z.canRenderContent),[e])}},371177:function(e,t,n){n.d(t,{Z:()=>c}),n(388685);var i=n(73800),r=n(442837),l=n(902704),o=n(158776),u=n(561308),a=n(231338);function c(e){let t=i.useRef(new Set),n=i.useMemo(()=>{let n=new Set(null==e?void 0:e.map(e=>e.author_id));return(0,l.E)([...t.current],[...n])||(t.current=n),t.current},[e]),c=(0,r.Wu)([o.Z],()=>Array.from(n).filter(e=>{let t=o.Z.getStatus(e);return null!==t&&[a.Sk.OFFLINE,a.Sk.INVISIBLE].includes(t)}));return i.useMemo(()=>{let t=new Set(c);return null==e?void 0:e.filter(e=>!(0,u.kr)(e)||!t.has(e.author_id))},[e,c])}},897674:function(e,t,n){n.d(t,{Z:()=>d,g:()=>c}),n(388685);var i=n(73800),r=n(442837),l=n(146282),o=n(327220),u=n(959580),a=n(371177);function c(e,t){let{types:n}=e;return null==n||!!n.has(t.content_type)}function d(e){let{id:t,unrankedEntries:n=!1}=e,{feed:d,filters:s}=(0,r.cj)([l.Z],()=>({feed:l.Z.getFeed(t),filters:l.Z.getFilters()})),p=i.useMemo(()=>{let e=n?null==d?void 0:d.unranked_game_entries.map(e=>e.content):null==d?void 0:d.entries.map(e=>e.content);return null!=s?null==e?void 0:e.filter(e=>c(s,e)):e},[d,s,n]);return p=(0,o.Z)(p),p=(0,u.Z)(p),p=(0,a.Z)(p)}},567409:function(e,t,n){n.d(t,{N:()=>p}),n(388685);var i=n(73800),r=n(392711),l=n.n(r),o=n(876215),u=n(897674),a=n(709054),c=n(206583);let d=new Set([o.s.PLAYED_GAME,o.s.LAUNCHED_ACTIVITY]),s=e=>d.has(e.content_type);function p(e){let t=(0,u.Z)({id:c.YN.GLOBAL_FEED}),n=(0,u.Z)({id:c.YN.GLOBAL_FEED,unrankedEntries:!0});return i.useMemo(()=>l()(n).unionBy(t,e=>e.id).filter(s).filter(t=>t.extra.application_id===e).orderBy(e=>a.default.extractTimestamp(e.id),"desc").uniqWith((e,t)=>e.author_id===t.author_id&&e.extra.application_id===t.extra.application_id).value(),[n,e,t])}}}]);
//# sourceMappingURL=dfda8ff14a371279.js.map