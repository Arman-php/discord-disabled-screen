"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["22173"],{784370:function(e){e.exports="/assets/ac8ab79ce1412299.gif"},64395:function(e){e.exports="/assets/dc0be2895b8884fd.svg"},785388:function(e,t,n){n.d(t,{default:()=>et}),n(388685),n(539854),n(642613),n(358797),n(415506);var i=n(255367),r=n(73800),o=n(120356),a=n.n(o),s=n(392711),l=n.n(s),c=n(866442),u=n(442837),d=n(780384),h=n(481060),p=n(596454),m=n(129861),f=n(700582),g=n(607070),b=n(600164),j=n(633302),v=n(712057),O=n(660189),y=n(372900),x=n(566006),T=n(620652),S=n(815605),_=n(222677),C=n(995774),R=n(665906),P=n(210887),E=n(314897),I=n(592125),N=n(271383),w=n(542578),Z=n(375954),A=n(496675),M=n(699516),k=n(594174),L=n(768581),D=n(176354),U=n(5192),B=n(709054),F=n(91047),V=n(981631),H=n(388032),G=n(111932),z=n(20493);function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){W(e,t,n[t])})}return e}function J(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function X(e){return null==e.id?j.ZP.convertSurrogateToName(e.name):":".concat(e.name,":")}let Y=e=>{let{emoji:t,channelId:n,messageId:o}=e,[s,l]=r.useState(!0),[c,u]=r.useState([]),d=r.useMemo(()=>{if(null==c||c.length<1)return;let e=(0,S.Zn)(t,c[0],n,{emojiSize:T.M.LARGE,messageId:o});return(0,i.jsx)(T.Z,{className:G.__invalid_effect,effect:e,emojiSize:T.M.LARGE,onComplete:()=>l(!1)})},[c,t,n,o]);return r.useEffect(()=>{let e=!1;return l(!0),!async function(){let n=await (0,D.B6)(t);Array.isArray(n)&&n.length>0&&!e&&u(n)}(),()=>{e=!0}},[t]),(0,i.jsxs)("div",{className:G.burstEmojiSection,children:[d,(0,i.jsx)(p.Z,{className:a()(G.burstEmoji,{[G.hideEmoji]:s}),emojiId:t.id,emojiName:t.name,animated:t.animated,size:"reaction"}),(0,i.jsx)(h.Text,{variant:"text-md/medium",children:X(t)})]})},q=r.memo(function(e){let{emoji:t,count:n,isSelected:o,setSelected:s,reactionType:l,colors:u}=e,d=r.useMemo(()=>X(t),[t]),p=r.useMemo(()=>(function(e,t,n,r){let o=null==e.id?D.ZP.getURL(e.name):L.ZP.getEmojiURL({id:e.id,animated:e.animated,size:24});return null!=o&&""!==o?(0,i.jsx)("img",{className:n,src:o,alt:e.name}):(0,i.jsx)("span",{className:r,children:e.name})})(t,0,G.emoji,a()(G.emoji,G.emojiText)),[t]),m=l===x.O.BURST,f=m?H.t.VmiNjY:H.t.cNfs19,g=H.intl.formatToPlainString(f,{name:d,n:n}),b=r.useMemo(()=>{let e={};if(m){var t,n,i,r;let{backgroundColor:a="",opacity:s=1}=null!=u?u:{};o?(e.background=null!=(t=(0,c.wK)(a,s))?t:"",e.border="1px solid ".concat(null!=(n=(0,c.wK)(a,1.1*s))?n:"")):(e.background=null!=(i=(0,c.wK)(a,.025))?i:"",e.border="1px solid ".concat(null!=(r=(0,c.wK)(a,.05))?r:""))}return e},[m,u,o]),j=r.useMemo(()=>{let e={};if(m){let{accentColor:t=""}=null!=u?u:{};e.color=t}return e},[m,u]),v=r.useCallback(()=>{s({emoji:t,reactionType:l})},[t,l,s]);return(0,i.jsx)(h.ua7,{position:"left",text:d,children:e=>{let{onMouseEnter:t,onMouseLeave:r}=e;return(0,i.jsxs)(h.P3F,{className:a()({[G.reactionDefault]:!o,[G.reactionSelected]:o}),"aria-label":g,onClick:v,onMouseEnter:t,onMouseLeave:r,style:b,children:[p,(0,i.jsx)(h.Text,{variant:"text-sm/bold",style:j,children:n})]})}})});function $(e){let{emoji:t,user:n,message:r,channel:o,guildId:a,reactionType:s,onRemoveReactor:l,disableManage:c=!1}=e,d=(0,u.e7)([E.default],()=>E.default.getId()),p=(0,u.e7)([k.default],()=>k.default.getUser(n.id),[n]),g=(0,R.$R)(o),j=(0,u.e7)([A.Z],()=>A.Z.can(V.Plq.MANAGE_MESSAGES,o)&&g)||d===n.id,v=(0,u.e7)([N.ZP,I.Z,M.Z],()=>U.ZP.getName(a,o.id,n));return(0,i.jsxs)(b.Z,{className:G.reactorDefault,onContextMenu:e=>(0,F.Pv)(e,n,o),align:b.Z.Align.CENTER,children:[(0,i.jsx)(b.Z.Child,{wrap:!0,grow:0,shrink:0,className:z.marginReset,children:(0,i.jsx)(f.Z,{user:null!=p?p:n,size:h.EFr.SIZE_24})}),(0,i.jsx)(b.Z.Child,{children:(0,i.jsxs)(h.Text,{tag:"strong",variant:"text-md/normal",className:G.name,children:[null!=v&&""!==v&&(0,i.jsx)("span",{className:n.isPomelo()?"":G.nickname,children:v}),(0,i.jsx)(m.Z,{user:n,className:null!=v&&""!==v?G.tagFaded:null,usernameClass:G.username,discriminatorClass:G.discriminator,forceUsername:!0})]})}),!c&&j&&(0,i.jsx)(h.P3F,{onClick:function(){_.WO({channelId:o.id,messageId:r.id,emoji:t,location:_.TW.MESSAGE,userId:n.id,options:{burst:s===x.O.BURST}}),null==l||l()},children:(0,i.jsx)(h.Dio,{size:"xs",color:"currentColor",className:G.remove})})]})}class Q extends r.PureComponent{componentDidMount(){this.loadMore()}componentDidUpdate(e){l().isEqual(this.props.reaction,e.reaction)&&this.props.reactionType===e.reactionType||this.setState({lastId:null,loadingMore:!1},()=>this.loadMore())}loadMore(){let{message:e,reaction:t,reactionType:n}=this.props,{lastId:i}=this.state;this.setState({loadingMore:!0}),_.U0({channelId:e.getChannelId(),messageId:e.id,emoji:t.emoji,limit:V.pTL,after:i,type:n}).then(e=>{var t;return this.setState({loadingMore:!1,lastId:null==(t=e[e.length-1])?void 0:t.id})})}renderSection(){return null}render(){let{hasMore:e,reactors:t,reaction:n,message:r,reactionType:o}=this.props,a=[];return 0===t.length&&this.state.loadingMore?a.push(length):(a.push(t.length),e&&a.push(1)),(0,i.jsxs)("div",{className:G.reactorsContainer,children:[o===x.O.BURST&&(0,i.jsx)(Y,{emoji:n.emoji,channelId:r.getChannelId(),messageId:r.id}),(0,i.jsx)(h.aVo,{className:G.reactors,fade:!0,ref:this.scrollerRef,sections:a,sectionHeight:0,rowHeight:this.getRowHeight,renderRow:this.renderRow,renderSection:this.renderSection,onScroll:e?this.handleScroll:void 0})]})}constructor(...e){super(...e),W(this,"scrollerRef",r.createRef()),W(this,"state",{lastId:null,loadingMore:!1}),W(this,"handleScroll",()=>{let{current:e}=this.scrollerRef;if(null==e)return;let t=e.getScrollerState();t.scrollTop+t.offsetHeight>=t.scrollHeight-44&&this.props.hasMore&&!this.state.loadingMore&&this.loadMore()}),W(this,"getRowHeight",(e,t)=>{let{reactors:n}=this.props;if(1===e)return 44*(0===t);if(0===e){if(0===t&&0===n.length)return 440;if(null!=this.props.reactors[t])return 44}return 0}),W(this,"renderRow",e=>{let{section:t,row:n}=e,{message:r,guildId:o,channel:a,reaction:s,reactors:l,reactionType:c,disableManage:u}=this.props,d=l[n];return 1===t?0===n?(0,i.jsx)(h.$jN,{className:G.spinnerMore},"hasMore"):null:0===l.length&&this.state.loadingMore?(0,i.jsx)(h.$jN,{className:G.spinner},"loadingMore"):null!=d&&(0,i.jsx)($,{message:r,emoji:s.emoji,guildId:o,channel:a,user:d,reaction:s,reactionType:c,disableManage:u},d.id)})}}let ee=u.ZP.connectStores([w.Z],e=>{let{message:t,reaction:n,reactionType:i}=e,r=w.Z.getReactions(t.getChannelId(),t.id,n.emoji,V.pTL,i);if(null==r)return{reactors:[],hasMore:!1};let o=Array.from(r.values()),a=(i===x.O.BURST?n.burst_count:n.count)>o.length;return{reactors:o,hasMore:a}})(Q);function et(e){let{message:t,selectedReaction:n,disableManage:o=!1,disableTabs:a=!1,onClose:s,transitionState:l,"aria-label":c=H.intl.string(H.t.gHp0Cw)}=e,p=(0,u.e7)([I.Z],()=>I.Z.getChannel(t.getChannelId())),m=null==p?void 0:p.getGuildId(),f=(0,u.e7)([Z.Z,O.Z],()=>{var e,n;let i=null!=(n=Z.Z.getMessage(t.getChannelId(),t.id))?n:null==(e=O.Z.getMessage(B.default.castMessageIdAsChannelId(t.id)))?void 0:e.firstMessage;return null!=i?i.reactions:[]},[t]),b=r.useMemo(()=>{let e=[];return f.forEach(t=>{t.burst_count>0&&e.push(J(K({},t),{count:0})),t.count>0&&e.push(J(K({},t),{burst_count:0}))}),e.sort((e,t)=>{let n=e.burst_count>0?e.burst_count:e.count;return(t.burst_count>0?t.burst_count:t.count)-n}),e},[f]),j=b[0],[T,S]=function(e,t,n){let[i,o]=r.useState(null!=e?e:t);return r.useEffect(()=>{null!=i&&null==n.find(e=>{let t=null!=e.me_vote?x.O.VOTE:e.burst_count>0?x.O.BURST:x.O.NORMAL,n=(0,C.ir)(e.emoji,i.emoji),r=t===i.reactionType;return n&&r})&&o(t)},[i,o,n,t]),[i,o]}(n,null!=j?{emoji:j.emoji,reactionType:j.burst_count>0?x.O.BURST:x.O.NORMAL}:null,b),_=r.useMemo(()=>{var e;return null==T?null:null!=(e=f.find(e=>(0,C.ir)(e.emoji,T.emoji)))?e:null},[f,T]),R=(0,u.e7)([g.Z],()=>g.Z.saturation),E=(0,u.e7)([P.Z],()=>(0,d.wj)(P.Z.theme));if(r.useEffect(()=>{(0===f.length||null==T&&null==_)&&setImmediate(s)},[s,f.length,_,T]),null==T||null==_)return(0,i.jsx)(h.$jN,{});if(null==p)throw Error("MessageReactions.render: Message does not have a channelId");return(0,i.jsx)(y.Z.Provider,{value:null!=m?m:void 0,children:(0,i.jsxs)(h.Y0X,{"aria-label":c,transitionState:l,size:h.CgR.DYNAMIC,className:G.container,parentComponent:"MessageReactions",children:[a?null:(0,i.jsx)(h.Ttm,{className:G.scroller,fade:!0,children:b.map(e=>{var t;let n=e.burst_count>0;return(0,i.jsx)(q,{isSelected:en(T,e,n?x.O.BURST:x.O.NORMAL),setSelected:S,reactionType:n?x.O.BURST:x.O.NORMAL,emoji:e.emoji,count:n?e.burst_count:e.count,colors:null!=e.burst_colors?(0,v.Z)(e.burst_colors,R,E):void 0},"".concat(n?"burst-":"normal-").concat(null!=(t=e.emoji.id)?t:"",":").concat(e.emoji.name))})}),(0,i.jsx)(ee,{message:t,reaction:_,guildId:m,channel:p,reactionType:T.reactionType,disableManage:o})]})})}let en=(e,t,n)=>l().isEqual(e.emoji,t.emoji)&&e.reactionType===n},963374:function(e,t,n){n.d(t,{nC:()=>d}),n(388685),n(704826),n(35282),n(539854);var i=n(392711),r=n.n(i),o=n(697741);let a=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function s(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function l(e){return e.toLowerCase()}function c(e){return a.has(e)}function u(e){return 0===e.length}function d(e){let t=new Set(r()(e.split(/\W+/)).map(s).reject(u).map(l).reject(c).map(o.$).value());return e=>(function e(t,n){if(Array.isArray(t))t.forEach(t=>e(t,n));else if("string"==typeof t.content&&"codeBlock"!==t.type){let e=[],i="";t.content.split(/(\W+)/g).forEach(t=>{var r;!u(r=l(s(r=t)))&&!c(r)&&n.has((0,o.$)(r))?(i.length>0&&e.push({type:"text",content:i}),e.push({type:"highlight",content:t}),i=""):i+=t}),e.length>0&&(i.length>0&&e.push({type:"text",content:i}),"text"===t.type?t.content=e:t.content=[{type:"text",content:e}])}else null!=t.content&&e(t.content,n);return t})(e,t)}},446489:function(e,t,n){n.d(t,{Z:()=>b,y:()=>g});var i,r,o=n(255367),a=n(73800),s=n(392711),l=n.n(s),c=n(748780),u=n(451478);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){d(e,t,n[t])})}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var m=((i=m||{})[i.ABOVE=0]="ABOVE",i[i.VISIBLE=1]="VISIBLE",i[i.BELOW=2]="BELOW",i);function f(e,t){return{toValue:e,duration:null!=t?t:300,easing:c.Z.Easing.inOut(c.Z.Easing.back())}}function g(e,t,n){if(null!=t){let i=Math.ceil(Math.log10(e+1));return null!=n&&n>0?Math.min(i,n)*t:i*t}}class b extends(r=a.PureComponent){static getDerivedStateFromProps(e,t){let{prevValue:n,currValue:i,nextValue:r}=t;return null==n&&i!==e.value?{prevValue:u.Z.isFocused()?i:null,currValue:e.value}:null!=r&&r!==e.value?{nextValue:e.value}:null}componentDidUpdate(e,t){let{prevValue:n,currValue:i}=this.state;n!==t.prevValue&&null!=n&&this.animateBetween(n,i)}animateBetween(e,t){let n,{forcePosition:i,animationSpeed:r}=this.props;this.prevAnimate.setValue(1),null!=i?0===i?(this.currAnimate.setValue(0),n=2):2===i&&(this.currAnimate.setValue(2),n=0):e>t?(this.currAnimate.setValue(0),n=2):(this.currAnimate.setValue(2),n=0),c.Z.parallel([c.Z.timing(this.prevAnimate,f(n,r)),c.Z.timing(this.currAnimate,f(1,r))]).start(this.animateNext)}getAnimatedStyle(e){let{animationColor:t}=this.props;return h({transform:[{translateY:e.interpolate({inputRange:[0,1,2],outputRange:["-100%","0%","100%"]})}],position:"absolute",top:0,left:0,right:0,bottom:0},null!=t&&{color:t})}getMinWidth(e){let{digitWidth:t,padStartLength:n}=this.props;return g(e,t,n)}padValue(e){let{padStartLength:t}=this.props;return null!=t?String(e).padStart(t,"0"):e}render(){let{prevValue:e,currValue:t}=this.state,{color:n,formatString:i}=this.props,r=l().omit(this.props,["value","digitWidth","padStartLength","forcePosition"]);if(null==e)return(0,o.jsx)("div",p(h({},r),{style:{color:n,minWidth:this.getMinWidth(t)},children:null!=i?i(this.padValue(t)):this.padValue(t)}));let a=Math.max(e,t);return(0,o.jsxs)("div",p(h({},r),{style:{color:n,position:"relative",overflow:"hidden"},children:[(0,o.jsx)("div",{style:{visibility:"hidden",minWidth:this.getMinWidth(a)},children:this.padValue(a)}),(0,o.jsx)(c.Z.div,{style:h({color:n},this.getAnimatedStyle(this.prevAnimate)),children:null!=i?i(this.padValue(e)):this.padValue(e)}),(0,o.jsx)(c.Z.div,{style:h({color:n},this.getAnimatedStyle(this.currAnimate)),children:null!=i?i(this.padValue(t)):this.padValue(t)})]}))}constructor(e){super(e),d(this,"prevAnimate",void 0),d(this,"currAnimate",void 0),d(this,"animateNext",()=>{let{currValue:e,nextValue:t}=this.state;null!=t?this.setState({prevValue:u.Z.isFocused()?e:null,currValue:t,nextValue:null}):this.setState({prevValue:null})}),this.state={prevValue:null,currValue:e.value,nextValue:null},this.prevAnimate=new c.Z.Value(0),this.currAnimate=new c.Z.Value(1)}}d(b,"Positions",m)},824578:function(e,t,n){n.d(t,{Q:()=>s}),n(539854);var i=n(442837),r=n(699516),o=n(111583),a=n(594174);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return(0,i.Wu)([a.default,o.Z,r.Z],()=>{var n;let i=null==(n=a.default.getCurrentUser())?void 0:n.id,s=o.Z.getTypingUsers(e),l=[];for(let e in s){if(l.length>=t)break;let n=a.default.getUser(e);null!=n&&n.id!==i&&(r.Z.isBlockedOrIgnored(n.id)||l.push(n.id))}return l},[e,t])}},98474:function(e,t,n){n.d(t,{Z:()=>O}),n(388685);var i=n(255367),r=n(73800),o=n(505266),a=n(524979),s=n(748780),l=n(481060),c=n(596454),u=n(745510),d=n(314910),h=n(912893),p=n(768581),m=n(176354),f=n(675654),g=n(403122);function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}function j(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let v=[];function O(e){let{messageId:t,emoji:n,startPosition:O,targetPosition:y}=e,[x,T]=r.useState(0),[S,_]=r.useState(0),[C,R]=r.useState(null),{confettiCanvas:P}=r.useContext(u.h),E=(0,o.uR)(P,C),I=r.useMemo(()=>[{src:null==n.id?m.ZP.getURL(n.name):p.ZP.getEmojiURL({id:n.id,animated:!1,size:22}),colorize:!1}],[n.name,n.id]),N=y.x-y.width/2*.5,w=y.y-y.height/2*.5,Z=(0,l.q_F)({from:{y:O.y},to:{y:w},config:{duration:450,easing:s.Z.Easing.in(s.Z.Easing.exp)},onChange:e=>{let{y:t}=e;_(t)}}),A=(0,l.q_F)({from:{x:O.x,scale:1,opacity:1},to:{x:N,scale:.5,opacity:.4},config:{duration:450,easing:s.Z.Easing.in(s.Z.Easing.ease)},onRest:()=>{(0,h.G)(t,n.name,n.id)},onChange:e=>{let{x:t}=e;T(t)}});return r.useEffect(()=>{x>0&&S>0&&E.createConfetti(j(b({},f.We),{position:{type:"static",value:{x:x,y:S}}}))},[E,x,S]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Ji,{ref:R,sprites:I,colors:v,spriteWidth:f.Ko,spriteHeight:f.Ko}),(0,i.jsx)(d.ZP,{children:(0,i.jsx)(a.animated.div,{style:b({},Z),className:g.emojiContainer,children:(0,i.jsx)(a.animated.div,{style:j(b({},A),{opacity:A.opacity}),children:(0,i.jsx)(c.Z,{className:g.emoji,emojiId:n.id,emojiName:n.name,animated:n.animated,size:"jumbo"})})})})]})}},56314:function(e,t,n){n.d(t,{v:()=>l});var i=n(442837),r=n(780384),o=n(607070),a=n(210887),s=n(712057);let l=e=>{let t=(0,i.e7)([o.Z],()=>o.Z.saturation),n=(0,i.e7)([a.Z],()=>(0,r.wj)(a.Z.theme));return(0,s.Z)(e,t,n)}},109434:function(e,t,n){n.d(t,{H:()=>v,v:()=>O}),n(388685);var i=n(512722),r=n.n(i),o=n(97519),a=n(313361),s=n(697988),l=n(683860),c=n(731965),u=n(442837),d=n(592125),h=n(559241);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){p(e,t,n[t])})}return e}let f=new Set,g={layoutType:a.X.LIST,sortOrder:l.z.CREATION_DATE,tagFilter:f,scrollPosition:0,tagSetting:s.z.MATCH_SOME};class b{constructor(e,t){p(this,"set",void 0),p(this,"get",void 0),p(this,"channelStates",void 0),p(this,"setChannelState",void 0),p(this,"getChannelState",void 0),p(this,"toggleTagFilter",void 0),p(this,"setTagFilter",void 0),p(this,"setSortOrder",void 0),p(this,"setLayoutType",void 0),p(this,"setTagSetting",void 0),p(this,"setScrollPosition",void 0),this.set=e,this.get=t,this.channelStates={},this.setChannelState=(e,t)=>{let n=this.get(),i=this.getChannelState(e),r=m({},n.channelStates);r[e]=m({},i,t),(0,c.j)(()=>this.set({channelStates:r}))},this.getChannelState=e=>{if(null==e)return g;let{channelStates:t}=this.get(),n=t[e];if(null==n){let t=d.Z.getChannel(e);r()(null!=t,"[Forum Channel Store] The channel should not be missing."),n={layoutType:t.getDefaultLayout(),sortOrder:t.getDefaultSortOrder(),tagFilter:f,scrollPosition:0,tagSetting:t.getDefaultTagSetting()}}return n},this.toggleTagFilter=(e,t)=>{let n=new Set(this.getChannelState(e).tagFilter);n.has(t)?n.delete(t):n.add(t),this.setTagFilter(e,n)},this.setTagFilter=(e,t)=>{this.setChannelState(e,{tagFilter:t}),h.Z.setFilterTagIds(t)},this.setSortOrder=(e,t)=>{this.setChannelState(e,{sortOrder:t}),h.Z.setSortOrder(t)},this.setLayoutType=(e,t)=>{this.setChannelState(e,{layoutType:t}),h.Z.setLayout(t)},this.setTagSetting=(e,t)=>{this.setChannelState(e,{tagSetting:t}),h.Z.setTagSetting(t)},this.setScrollPosition=(e,t)=>{this.setChannelState(e,{scrollPosition:t})}}}let j=(0,o.U)((e,t)=>new b(e,t)),v=e=>{let t=j();return null==(0,u.e7)([d.Z],()=>d.Z.getChannel(e))?g:t.getChannelState(e)},O=()=>j},73315:function(e,t,n){n.d(t,{Z:()=>c});var i=n(255367);n(73800);var r=n(120356),o=n.n(r),a=n(481060),s=n(936141),l=n(500984);let c=e=>{let{obscureReason:t,iconClassname:n}=e;switch(t){case s.wk.EXPLICIT_CONTENT:case s.wk.GORE_CONTENT:return(0,i.jsx)(a.fFY,{className:o()(n,l.obscuredIcon),color:"white"});case s.wk.SPOILER:return(0,i.jsx)(a.tEF,{size:"md",color:"currentColor",className:n});default:return null}}},404616:function(e,t,n){n.d(t,{Lp:()=>ea,NN:()=>eu,TJ:()=>es,ZP:()=>el,au:()=>ef,kZ:()=>em,m9:()=>ep,og:()=>eb}),n(388685);var i=n(255367),r=n(73800),o=n(120356),a=n.n(o),s=n(512722),l=n.n(s),c=n(913527),u=n.n(c),d=n(94171),h=n(91192),p=n(442837),m=n(692547),f=n(481060),g=n(738619),b=n(393238),j=n(963374),v=n(884338),O=n(168107),y=n(480916),x=n(446489),T=n(824578),S=n(95398),_=n(247206),C=n(406432),R=n(169525),P=n(566006),E=n(255269),I=n(937889),N=n(443877),w=n(524444),Z=n(287151),A=n(267128),M=n(695346),k=n(433355),L=n(592125),D=n(496675),U=n(699516),B=n(451478),F=n(55935),V=n(109434),H=n(456269),G=n(109590),z=n(660189),W=n(208970),K=n(73315),J=n(470623),X=n(196255),Y=n(858543),q=n(265641),$=n(627896),Q=n(883728),ee=n(981631),et=n(217702),en=n(388032),ei=n(602512),er=n(73433);function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}let ea=72,es=72,el=r.memo(function(e){let{threadId:t,goToThread:n,observePostVisibilityAnalytics:o,overrideMedia:s,className:c,containerWidth:u}=e,{channel:m,isOpen:g,messageCount:j,firstMessage:v,content:O,media:y}=function(e){let{threadId:t,overrideMedia:n}=e,i=(0,p.e7)([L.Z],()=>L.Z.getChannel(t));l()(null!=i,"the thread should not be null here, a store must have missed an update");let r=(0,p.e7)([k.ZP],()=>k.ZP.getCurrentSidebarChannelId(i.parent_id)===i.id),{firstMessage:o}=(0,G.cl)(i),{content:a,firstMedia:s}=(0,H.mX)({firstMessage:o}),{messageCountText:c}=(0,H.nP)(i);return{channel:i,isOpen:r,messageCount:c,firstMessage:o,content:a,media:null!=n?n:s}}({threadId:t,overrideMedia:s}),{ref:x,height:T}=(0,b.ZP)(),S=(0,J.xH)(e=>e.setCardHeight,d.X);r.useEffect(()=>{null!=T&&S(t,T)},[T,S,t]),r.useEffect(()=>{null==o||o(x.current,t)},[x,o,t]);let _=r.useRef(null),{handleLeftClick:C,handleRightClick:R}=(0,Q.Z)({facepileRef:_,goToThread:n,channel:m}),P=(0,h.JA)(t),{role:E,onFocus:I}=P,N=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(P,["role","onFocus"]),{isFocused:w,handleFocus:Z,handleBlur:A}=(0,q.Z)(I);return(0,i.jsxs)("div",{ref:x,"data-item-id":t,onClick:C,onContextMenu:R,className:a()(ei.container,c,{[ei.isOpen]:g}),children:[(0,i.jsx)(f.P3F,eo({onClick:C,focusProps:{ringTarget:x},onContextMenu:R,"aria-label":en.intl.formatToPlainString(en.t.pgYN6e,{title:m.name,count:j}),className:ei.focusTarget,onFocus:Z,onBlur:A},N)),(0,i.jsxs)("div",{className:ei.left,children:[(0,i.jsx)(f.y5t,{children:(0,i.jsx)(ec,{channel:m,firstMessage:v,content:O,hasMediaAttachment:null!=y,containerWidth:u})}),(0,i.jsx)(f.Rny,{enabled:!w,children:(0,i.jsx)(eh,{channel:m,firstMessage:v,facepileRef:_})})]}),(null==v?void 0:v.blocked)||null==y?null:(0,i.jsx)(ev,{channel:m,firstMedia:y})]})});function ec(e){let{channel:t,firstMessage:n,content:r,hasMediaAttachment:o,containerWidth:s}=e,{isNew:l,hasUnreads:c}=(0,H.J$)(t),u=eu(t),{postTitleRef:d,isNewBadgeOverflow:h}=(0,$.x)(l,24,s);return(0,i.jsxs)("div",{className:ei.body,children:[(0,i.jsx)(Y.ZP,{channel:t}),(0,i.jsx)("div",{className:a()(ei.header,{[ei.withNewBadgeOverflow]:h}),children:(0,i.jsxs)("div",{className:ei.headerText,children:[(0,i.jsx)(f.X6q,{variant:"heading-lg/semibold",color:c?"header-primary":"text-muted",lineClamp:2,className:ei.postTitleText,children:(0,i.jsxs)("span",{ref:d,children:[u,l&&(0,i.jsx)("span",{className:ei.newBadgeWrapper,children:(0,i.jsx)(f.IGR,{className:ei.newBadge,color:m.Z.unsafe_rawColors.BRAND_260.css,text:en.intl.string(en.t.y2b7CA)})})]})}),l&&h&&(0,i.jsx)(f.IGR,{className:ei.newBadge,color:m.Z.unsafe_rawColors.BRAND_260.css,text:en.intl.string(en.t.y2b7CA)})]})}),(0,i.jsx)("div",{className:ei.message,children:(0,i.jsx)(ed,{channel:t,message:n,content:r,hasMediaAttachment:o,hasUnreads:c})})]})}function eu(e){let t=(0,p.e7)([W.Z],()=>W.Z.getHasSearchResults(e.parent_id)),n=(0,p.e7)([W.Z],()=>W.Z.getSearchQuery(e.parent_id)),i=r.useMemo(()=>(0,j.nC)(t&&null!=n?n:""),[t,n]);return r.useMemo(()=>(0,I.ZP)({content:e.name,embeds:[]},{postProcessor:i}).content,[e.name,i])}let ed=r.memo(function(e){let{message:t,channel:n,content:r,hasMediaAttachment:o,hasUnreads:s}=e,{isBlocked:l,isIgnored:c}=(0,p.cj)([U.Z],()=>({isBlocked:null!=t&&U.Z.isBlockedForMessage(t),isIgnored:null!=t&&U.Z.isIgnoredForMessage(t)})),u=(0,p.e7)([z.Z],()=>z.Z.isLoading(n.id)),d=(0,p.e7)([D.Z],()=>D.Z.can(ee.Plq.MANAGE_MESSAGES,n)),h=M.cC.useSetting(),m=null;if(l)m=(0,i.jsx)(f.Text,{className:ei.blockedMessage,variant:"text-sm/medium",color:"text-muted",children:en.intl.string(en.t.Lkp2fH)});else if(c)m=(0,i.jsx)(f.Text,{className:ei.blockedMessage,variant:"text-sm/medium",color:"text-muted",children:en.intl.string(en.t.yWK7ZG)});else{let{contentPlaceholder:e,renderedContent:n}=null==t?{contentPlaceholder:null,renderedContent:null}:(0,A.f)(t,r,l,c,a()(ei.messageContent,er.inlineFormat,er.__invalid_smallFontSize),{leadingIconClass:ei.messageContentLeadingIcon,trailingIconClass:ei.messageContentTrailingIcon,iconSize:et.WW});m=null!=n?(0,i.jsx)(f.Text,{variant:"text-sm/semibold",color:s?"header-secondary":"text-muted",children:n}):o?null:(0,i.jsx)(f.Text,{tag:"span",variant:"text-sm/medium",color:s?"header-secondary":"text-muted",className:ei.messageContent,children:null==t?u?null:en.intl.string(en.t.mE3KJC):e})}return(0,i.jsxs)(S.aQ.Provider,{value:(0,E.Z)(h,d),children:[!l&&(0,i.jsx)(X.Z,{channel:n,message:t,renderColon:null!=m,hasUnreads:s}),(0,i.jsx)(f.Rny,{className:ei.messageFocusBlock,children:m})]})});function eh(e){let{channel:t,facepileRef:n,firstMessage:r}=e,o=(0,T.Q)(t.id),a=(null==r?void 0:r.reactions)!=null&&r.reactions.length>0;return(0,i.jsxs)("div",{className:ei.footer,children:[a||null==r?null:(0,i.jsx)(em,{firstMessage:r,channel:t}),null==r?null:(0,i.jsx)(ef,{firstMessage:r,channel:t}),(0,i.jsx)(ep,{channel:t,iconSize:14}),(0,i.jsx)("span",{className:ei.bullet,children:"•"}),o.length>0?(0,i.jsxs)("div",{className:ei.typing,children:[(0,i.jsx)(eb,{channel:t,userIds:o,facepileRef:n}),(0,i.jsx)("div",{className:ei.dots,children:(0,i.jsx)(f.bbz,{themed:!0,dotRadius:2})}),(0,i.jsx)(g.Z,{channel:t,className:ei.typingUsers,renderDots:!1})]}):(0,i.jsx)(eg,{channel:t})]})}function ep(e){let{channel:t,iconSize:n,showReadState:r=!1}=e,{messageCountText:o,unreadCount:s}=(0,H.nP)(t);return(0,i.jsxs)("div",{className:a()(ei.messageCountBox,{[ei.hasRead]:r&&null==s}),children:[(0,i.jsx)("span",{className:ei.messageCountIcon,children:(0,i.jsx)(f.kBi,{size:"custom",color:"currentColor",width:n,height:n})}),"number"==typeof o?(0,i.jsx)(x.Z,{value:o,digitWidth:9,className:ei.messageCountText}):(0,i.jsx)("div",{className:ei.messageCountText,children:o}),null==s?null:(0,i.jsxs)(f.Text,{className:ei.newMessageCount,variant:"text-sm/semibold",color:"text-brand",children:["(",en.intl.format(en.t.z3PEtr,{count:s}),")"]})]})}function em(e){let{firstMessage:t,channel:n}=e,r=(0,p.e7)([L.Z],()=>L.Z.getChannel(n.parent_id)),o=(0,H.Bs)(r),{disableReactionCreates:a,isLurking:s,isPendingMember:l}=(0,N.Z)(n);return null==o||a?null:(0,i.jsx)(Z.le,{className:ei.updateReactionButton,message:t,readOnly:n.isArchivedLockedThread(),useChatFontScaling:!1,isLurking:s,isPendingMember:l,emoji:o,hideCount:!0,count:0,burst_count:0,me:!1,me_burst:!1,type:P.O.NORMAL,emojiSize:"reaction",emojiSizeTooltip:"reaction"})}function ef(e){var t;let{firstMessage:n,channel:r}=e,o=(0,H.IN)(n),{disableReactionUpdates:a,isLurking:s,isPendingMember:l}=(0,N.Z)(r);return null==o?null:(0,i.jsx)(Z.le,eo({className:ei.updateReactionButton,message:n,readOnly:a||r.isArchivedLockedThread(),isLurking:s,isPendingMember:l,useChatFontScaling:!1,type:o.burst_count>=o.count?P.O.BURST:P.O.NORMAL,emojiSize:"reaction",emojiSizeTooltip:"reaction"},o),"".concat(null!=(t=o.emoji.id)?t:0,":").concat(o.emoji.name))}function eg(e){var t;let{channel:n}=e,{sortOrder:r}=(0,V.H)(n.parent_id),o=(0,H.xw)(n,r),a=null==(t=n.threadMetadata)?void 0:t.createTimestamp,s=null==a?null:en.intl.formatToPlainString(en.t["13euCQ"],{timestamp:(0,F.vc)(u()(a),"LLLL")});return(0,i.jsx)(f.ua7,{text:s,tooltipClassName:ei.timestampTooltip,children:e=>{var t,n;return(0,i.jsx)(f.Text,(t=eo({className:ei.__invalid_activityText,variant:"text-sm/normal",color:"header-secondary"},e),n=n={children:o},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})}function eb(e){let{channel:t,userIds:n,facepileRef:r}=e,o=(0,H.iM)(t,n);return(0,i.jsx)("div",{ref:r,children:(0,i.jsx)(v.Z,{className:ei.__invalid_facepile,showDefaultAvatarsForNullUsers:!0,guildId:t.guild_id,users:o,max:5,size:16,hideMoreUsers:!0,showUserPopout:!0})})}function ej(e){let{firstMedia:t,shouldObscure:n,obscureReason:r,shouldShowAgeVerification:o}=e,s=(0,p.e7)([B.Z],()=>B.Z.isFocused()),l=(0,C.d$)(t.src),c=M.QK.useSetting(),u=(0,R.MC)(r),{src:d,width:h,height:m,alt:g}=t;if(o){var b;return(0,i.jsx)("div",{"aria-label":null!=(b=null!=u?u:g)?b:en.intl.string(en.t.hqwnc3),className:a()(ei.thumbnailContainer,ei.obscuredThumbnailPlaceholder),style:{maxWidth:es,maxHeight:ea,height:m,width:h}})}return d.startsWith("data:")?(0,i.jsx)(f.Eep,{src:d,width:h,height:m,minWidth:es,minHeight:ea,alt:null!=g&&n?u:g,className:ei.thumbnailContainer,imageClassName:a()(ei.thumbnailOverride,{[ei.obscured]:n})}):(0,w.Yi)({src:d,width:h,height:m,minWidth:es,minHeight:ea,alt:null!=g&&n?u:g,autoPlay:c,animated:l&&!n&&s,srcIsAnimated:t.srcIsAnimated,containerClassName:ei.thumbnailContainer,imageClassName:a()(ei.thumbnailOverride,{[ei.obscured]:n}),analyticsSource:"ForumPostMediaPreview"})}function ev(e){let{channel:t,firstMedia:n}=e,[r,o]=(0,R.hL)({media:n,channel:t}),a=(0,_.JO)(o);return(0,i.jsx)(f.Rny,{enabled:!0,children:(0,i.jsxs)("div",{className:ei.bodyMedia,onClick:function(e){e.stopPropagation(),a&&(e.preventDefault(),e.nativeEvent.stopImmediatePropagation(),O.Z.showAgeVerificationGetStartedModal(y.cU.FORUM_POST_MEDIA_PREVIEW))},children:[(0,i.jsx)(ej,{firstMedia:n,shouldObscure:r,obscureReason:o,shouldShowAgeVerification:a}),r&&(0,i.jsx)(K.Z,{iconClassname:ei.obscuredTag,obscureReason:o})]})})}},470623:function(e,t,n){n.d(t,{AF:()=>O,oL:()=>j,xH:()=>v}),n(388685),n(781311);var i=n(255367),r=n(73800),o=n(512722),a=n.n(o),s=n(362383),l=n(731965),c=n(430742),u=n(752305),d=n(592125),h=n(703558),p=n(883429),m=n(228392);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g{constructor(e,t,n){var i,r,o;f(this,"channelId",void 0),f(this,"_set",void 0),f(this,"get",void 0),f(this,"editorHeight",void 0),f(this,"editorAdditionRowHeight",void 0),f(this,"listViewCardHeights",void 0),f(this,"cardHeightVersion",void 0),f(this,"nameError",void 0),f(this,"messageError",void 0),f(this,"appliedTags",void 0),f(this,"popoutOpen",void 0),f(this,"guidelinesOpen",void 0),f(this,"previewing",void 0),f(this,"onboardingExpanded",void 0),f(this,"submitting",void 0),f(this,"formOpen",void 0),f(this,"name",void 0),f(this,"textAreaState",void 0),f(this,"hasClickedForm",void 0),f(this,"titleFocused",void 0),f(this,"bodyFocused",void 0),f(this,"set",void 0),f(this,"setEditorHeight",void 0),f(this,"setEditorAdditionRowHeight",void 0),f(this,"setCardHeight",void 0),f(this,"setNameError",void 0),f(this,"setMessageError",void 0),f(this,"toggleAppliedTag",void 0),f(this,"setPopoutOpen",void 0),f(this,"setGuidelinesOpen",void 0),f(this,"setPreviewing",void 0),f(this,"setSubmitting",void 0),f(this,"setFormOpen",void 0),f(this,"setOnboardingExpanded",void 0),f(this,"setTitleFocused",void 0),f(this,"setBodyFocused",void 0),f(this,"setName",void 0),f(this,"setTextAreaState",void 0),f(this,"setHasClickedForm",void 0),f(this,"resetFormState",void 0),f(this,"setFormOpenFromUserAction",void 0),this.channelId=e,this._set=t,this.get=n,this.editorHeight=64,this.editorAdditionRowHeight=0,this.listViewCardHeights={},this.cardHeightVersion=0,this.nameError=null,this.messageError=null,this.appliedTags=new Set,this.popoutOpen=!1,this.guidelinesOpen=!1,this.previewing=!1,this.onboardingExpanded=!1,this.submitting=!1,this.formOpen=!1,this.name="",this.textAreaState=(0,u.eK)(""),this.hasClickedForm=!1,this.titleFocused=!1,this.bodyFocused=!1,this.set=e=>{(0,l.j)(()=>this._set(e))},this.setEditorHeight=e=>{this.set({editorHeight:e})},this.setEditorAdditionRowHeight=e=>{this.set({editorAdditionRowHeight:e})},this.setCardHeight=(e,t)=>{let{listViewCardHeights:n,cardHeightVersion:i}=this.get();n[e]!==t&&(n[e]=t,this.set({cardHeightVersion:i+1}))},this.setNameError=e=>{this.set({nameError:e})},this.setMessageError=e=>{this.set({messageError:e})},this.toggleAppliedTag=e=>{let{appliedTags:t}=this.get();(t=new Set(t)).has(e)?t.delete(e):t.add(e),this.set({appliedTags:t}),c.Z.changeThreadSettings(this.channelId,{appliedTags:t})},this.setPopoutOpen=e=>{this.set({popoutOpen:e})},this.setGuidelinesOpen=e=>{this.set({guidelinesOpen:e})},this.setPreviewing=e=>{this.set({previewing:e})},this.setSubmitting=e=>{this.set({submitting:e})},this.setFormOpen=e=>{this.set({formOpen:e}),p.Z.clearForumSearch(this.channelId)},this.setOnboardingExpanded=e=>{this.set({onboardingExpanded:e})},this.setTitleFocused=e=>{this.set({titleFocused:e})},this.setBodyFocused=e=>{this.set({bodyFocused:e})},this.setName=e=>{this.set({name:e}),c.Z.changeThreadSettings(this.channelId,{name:e})},this.setTextAreaState=e=>{this.set({textAreaState:e}),c.Z.saveDraft(this.channelId,e.textValue,h.d.FirstThreadMessage)},this.setHasClickedForm=e=>{this.set({hasClickedForm:e})},this.resetFormState=()=>{let e=d.Z.getChannel(this.channelId),t=null==e||null==e.template?"":e.template.trim();this.set({name:"",textAreaState:(0,u.eK)(t),appliedTags:new Set,hasClickedForm:!1}),p.Z.clearForumSearch(this.channelId)},this.setFormOpenFromUserAction=()=>{if(this.hasClickedForm)return;let e=d.Z.getChannel(this.channelId);null!=e&&(0,m.HR)({guildId:e.guild_id,channelId:this.channelId}),this.set({hasClickedForm:!0,formOpen:!0}),p.Z.clearForumSearch(this.channelId)};let a=d.Z.getChannel(e);if(null==a)return;let s=null!=(i=h.Z.getThreadSettings(a.id))?i:{},g=null==a.template?"":a.template.trim(),b=h.Z.getDraft(a.id,h.d.FirstThreadMessage),j=(0,u.eK)(null!=b&&""!==b.trim()?b:g);this.name=null!=(r=s.name)?r:"",o=new Set(s.appliedTags),this.appliedTags=void 0!==o?o:new Set,this.formOpen=this.name.length>0&&j.textValue.length>0,this.textAreaState=j}}let b=r.createContext(null);function j(e){let{children:t,channel:n}=e,o=r.useMemo(()=>(0,s.F)((e,t)=>new g(n.id,e,t)),[n]);return(0,i.jsx)(b.Provider,{value:o,children:t})}function v(e,t){let n=r.useContext(b);return a()(null!=n,"[useForumPostComposerStore] Context should not be null"),n(e,t)}function O(){let e=r.useContext(b);return a()(null!=e,"[useForumPostComposerStore] Context should not be null"),e}},196255:function(e,t,n){n.d(t,{Z:()=>d});var i=n(255367);n(73800);var r=n(120356),o=n.n(r),a=n(481060),s=n(942951),l=n(456269),c=n(388032),u=n(794168);let d=e=>{var t,n;let{message:r,channel:d,renderColon:h,hasUnreads:p}=e,{user:m,author:f}=(0,l.AJ)(d),g=null!=(n=null!=(t=null==f?void 0:f.nick)?t:null==m?void 0:m.username)?n:"",b=(0,s.l)({user:null==r?void 0:r.author,channelId:d.id,guildId:d.guild_id,messageId:null==r?void 0:r.id,stopPropagation:!0,ariaLabel:c.intl.formatToPlainString(c.t.CSIeU1,{name:g})})(null!=f?f:void 0)(g,d.id);return(0,i.jsxs)(a.Text,{tag:"span",className:o()(u.author,{[u.hasUnreads]:p}),variant:"text-sm/semibold",children:[b,!0===h?": ":null]})}},858543:function(e,t,n){n.d(t,{DM:()=>f,ZP:()=>g});var i=n(255367);n(73800);var r=n(120356),o=n.n(r),a=n(692547),s=n(481060),l=n(109434),c=n(456269),u=n(479099),d=n(176505),h=n(388032),p=n(602512),m=n(520069);function f(e){let{channel:t,isNew:n}=e,i=(0,c.eV)(t),r=i.slice(void 0,3),o=i.slice(3),a=i.length>3?i.length-3:0,s=t.hasFlag(d.zZ.PINNED),l=r.length>0||s||n;return{shownTags:r,remainingTags:o,moreTagsCount:a,isPinned:s,shouldRenderTagsRow:l,forumPostContainsTags:i.length>0}}function g(e){let{channel:t,isNew:n,tagsClassName:r,className:c}=e,{shownTags:d,remainingTags:g,moreTagsCount:b,isPinned:j,shouldRenderTagsRow:v}=f({channel:t,isNew:n}),{tagFilter:O}=(0,l.H)(t.id);return v?(0,i.jsxs)("div",{className:o()(m.tags,c),children:[n?(0,i.jsx)(s.IGR,{className:o()(p.newBadge,p.inTagsRow),color:a.Z.unsafe_rawColors.BRAND_260.css,text:h.intl.string(h.t.y2b7CA)}):null,j&&(0,i.jsx)("div",{className:m.pinIcon,children:(0,i.jsx)(s.ua7,{text:h.intl.string(h.t["1QLRYW"]),children:e=>{var t,n;return(0,i.jsx)(s.qQX,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({size:"custom"},e),n=n={width:16,height:16,color:"white"},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}})}),d.map(e=>(0,i.jsx)(u.Z,{tag:e,size:u.Z.Sizes.SMALL,className:o()(r,{[m.tagFiltered]:O.has(e.id)})},e.id)),b>0?(0,i.jsx)(u.f,{tags:g,count:b,size:u.Z.Sizes.SMALL}):null]}):null}},265641:function(e,t,n){n.d(t,{Z:()=>r}),n(388685);var i=n(73800);let r=e=>{let[t,n]=i.useState(!1);return{isFocused:t,handleFocus:i.useCallback(t=>{e(t),n(!0)},[e,n]),handleBlur:()=>{n(!1)}}}},627896:function(e,t,n){n.d(t,{x:()=>r}),n(388685);var i=n(73800);function r(e,t,n){let r=i.useRef(null),[o,a]=i.useState(!1),s=i.useCallback(()=>{if(e&&null!==r.current){var n;a((null==(n=r.current)?void 0:n.offsetHeight)>2.5*t)}},[a,e,t]);return i.useLayoutEffect(()=>{s()},[s,e,n]),{postTitleRef:r,isNewBadgeOverflow:o}}},883728:function(e,t,n){n.d(t,{Z:()=>a});var i=n(255367);n(73800);var r=n(374470),o=n(239091);let a=e=>{let{facepileRef:t,goToThread:a,channel:s}=e;return{handleLeftClick:e=>{var n;(0,r.k)(e.target)&&(null==(n=t.current)?void 0:n.contains(e.target))||a(s,e.shiftKey)},handleRightClick:e=>(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("77564"),n.e("86797")]).then(n.bind(n,422200));return t=>{var n,r;return(0,i.jsx)(e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},t),r=r={channel:s},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))}})}}},33154:function(e,t,n){n.d(t,{Z:()=>g,s:()=>f}),n(388685);var i,r=n(255367),o=n(73800),a=n(442837),s=n(481060),l=n(749210),c=n(313201),u=n(823379),d=n(41776),h=n(981631),p=n(388032),m=n(695256),f=((i={})[i.CHAT=0]="CHAT",i[i.REACTIONS=1]="REACTIONS",i);let g=e=>{let{type:t,guild:i,closePopout:f,ctaRef:g}=e,b=(0,c.Dt)(),[j,v]=o.useState(!1),O=(0,a.e7)([d.Z],()=>d.Z.isLurking(i.id),[i.id]);o.useEffect(()=>{j&&!O&&f()},[j,O,f]);let y=null,x=p.intl.string(p.t.d7b1p6);switch(t){case 0:y=p.intl.string(p.t.Xiwf1d);break;case 1:y=p.intl.string(p.t.GXvlU1);break;default:return(0,u.vE)(t)}if(null==y)return null;let T=async()=>{v(!0);try{await l.Z.joinGuild(i.id,{source:h.vtS.CHAT_INPUT_BLOCKER}),f()}catch(e){v(!1)}};return(0,r.jsxs)(s.VqE,{className:m.container,"aria-labelledby":b,children:[(0,r.jsx)("img",{alt:"",className:m.image,src:n(64395)}),(0,r.jsxs)("div",{className:m.content,children:[(0,r.jsx)(s.X6q,{variant:"heading-md/semibold",id:b,children:y}),(0,r.jsx)(s.Text,{color:"header-secondary",variant:"text-sm/normal",children:x}),(0,r.jsxs)("div",{className:m.buttonContainer,children:[(0,r.jsx)(s.zxk,{buttonRef:g,onClick:T,submitting:j,children:p.intl.string(p.t["9VLmlZ"])}),(0,r.jsx)(s.zxk,{onClick:f,look:s.zxk.Looks.BLANK,className:m.cancel,children:p.intl.string(p.t["2m+Sqq"])})]})]})]})}},960020:function(e,t,n){n.d(t,{I:()=>c,Z:()=>g}),n(388685),n(467055);var i,r,o,a,s=n(442837),l=n(570140),c=((r={}).HOVER="HOVER",r.EXTERNAL="EXTERNAL",r.RANDOM="RANDOM",r);let u={},d={},h={},p=(e,t)=>{let n=null!=t.id?t.id:t.name;return"".concat(e,":").concat(n)},m=(e,t)=>{var n;let i;switch(e){case"HOVER":i="HOVER";break;case"RANDOM":i="RANDOM";break;default:i="EXTERNAL"}let r=Object.fromEntries(Object.entries(null!=(n=d[t])?n:{}).filter(e=>{let[,t]=e;return t===i}));if(Object.keys(r).length>=5&&"EXTERNAL"===e){for(let e in r)if(null==h[t]||null==h[t][e]){delete d[t][e],delete r[e];break}}return Object.keys(r).length};class f extends(i=s.ZP.Store){getReactionPickerAnimation(e,t,n){return u["".concat(e,":").concat(t,":").concat(null!=n?n:"")]}getEffectForEmojiId(e,t,n){var i;let r=p(t,n);return null==(i=d[e])?void 0:i[r]}}a="BurstReactionEffectsStore",(o="displayName")in f?Object.defineProperty(f,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):f[o]=a;let g=new f(l.Z,{BURST_REACTION_EFFECT_CLEAR:e=>{var t;let{channelId:n,messageId:i,emoji:r}=e,o=p(i,r);null==(t=d[n])||delete t[o]},BURST_REACTION_EFFECT_PLAY:e=>{var t,n,i;let{channelId:r,messageId:o,emoji:a,key:s}=e,l=p(o,a);if(m(s,r)>=5)return;let c=null!=(t=d[r])?t:{},u=(null!=(n=h[r])?n:{})[l],f=c[l];("HOVER"!==s||null==f)&&("HOVER"===f&&"EXTERNAL"===s&&null!=u&&("function"==typeof u.destroy&&u.destroy(),null==(i=h[r])||delete i[l],f=void 0),null==f&&(null!=d[r]?d[r][l]=s:d[r]={[l]:s}))},BURST_REACTION_ANIMATION_ADD:e=>{let{channelId:t,messageId:n,emoji:i,animation:r}=e,o=p(n,i);null==h[t]&&(h[t]={}),h[t][o]=r},BURST_REACTION_PICKER_ANIMATION_ADD:e=>{let{messageId:t,emojiName:n,emojiId:i,startPosition:r}=e;u["".concat(t,":").concat(n,":").concat(null!=i?i:"")]=r},BURST_REACTION_PICKER_ANIMATION_CLEAR:e=>{let{messageId:t,emojiName:n,emojiId:i}=e;delete u["".concat(t,":").concat(n,":").concat(null!=i?i:"")]}})},347904:function(e,t,n){n.d(t,{s4:()=>o,vJ:()=>a}),n(704826),n(35282);var i=n(392711),r=n(302221);let o=(e,t)=>{let n=(0,r.WY)([t.r,t.g,t.b],2);return e=(e=e.replace(/(\[1,0,0,)/g,"[".concat(n[0][0]/255,",").concat(n[0][1]/255,",").concat(n[0][2]/255,","))).replace(/\[0,0,1,/g,"[".concat(n[1][0]/255,",").concat(n[1][1]/255,",").concat(n[1][2]/255,","))},a=(0,i.memoize)(e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n);return Math.abs(t)})},831244:function(e,t,n){n.d(t,{T:()=>o});var i=n(347904);let r=[{load:()=>n.e("59642").then(n.t.bind(n,759983,19))},{load:()=>n.e("54931").then(n.t.bind(n,488583,19))},{load:()=>n.e("22523").then(n.t.bind(n,420183,19))},{load:()=>n.e("35247").then(n.t.bind(n,782543,19))},{load:()=>n.e("69923").then(n.t.bind(n,267858,19))},{load:()=>n.e("96246").then(n.t.bind(n,108035,19))},{load:()=>n.e("30997").then(n.t.bind(n,299665,19))},{load:()=>n.e("50987").then(n.t.bind(n,545755,19))},{load:()=>n.e("14192").then(n.t.bind(n,412825,19))},{load:()=>n.e("78073").then(n.t.bind(n,82134,19))},{load:()=>n.e("54021").then(n.t.bind(n,913837,19))},{load:()=>n.e("7573").then(n.t.bind(n,403249,19))},{load:()=>n.e("219").then(n.t.bind(n,725432,19))},{load:()=>n.e("70528").then(n.t.bind(n,181976,19))},{load:()=>n.e("74294").then(n.t.bind(n,654947,19))},{load:()=>n.e("91199").then(n.t.bind(n,945518,19))},{load:()=>n.e("66071").then(n.t.bind(n,634794,19))},{load:()=>n.e("73921").then(n.t.bind(n,558619,19))}],o=async function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];let o=r[(0,i.vJ)("".concat(e).concat(t).concat(n))%r.length];return await o.load()}},432376:function(e,t,n){n.d(t,{Z:()=>i});function i(e){let{channel:t,canChat:n,renderReactions:i,canAddNewReactions:r,isLurking:o,isGuest:a,communicationDisabled:s,isActiveChannelOrUnarchivableThread:l,isAutomodQuarantined:c}=e,u=t.isPrivate(),d=t.isSystemDM(),h=(n||u)&&l;return{disableReactionReads:!i,disableReactionCreates:o||a||!h||!((!0===r||u)&&!d&&l),disableReactionUpdates:o||a||!h||!0===s||!0===c}}},443877:function(e,t,n){n.d(t,{Z:()=>p}),n(388685);var i=n(442837),r=n(715903),o=n(71619),a=n(41776),s=n(665906),l=n(271383),c=n(607744),u=n(496675),d=n(432376),h=n(981631);function p(e){var t,n;let p=null==e?void 0:e.guild_id,m=(0,i.e7)([c.Z],()=>null==p||c.Z.canChatInGuild(p),[p]),f=(0,i.e7)([a.Z],()=>null!=p&&a.Z.isLurking(p),[p]),g=(0,i.e7)([l.ZP],()=>null!=p&&l.ZP.isCurrentUserGuest(p),[p]),b=(0,i.e7)([u.Z],()=>m&&u.Z.can(h.Plq.ADD_REACTIONS,e),[m,e]),j=(0,r.ux)(p),[,v]=(0,o.AB)(p),O=(0,s.$R)(e);return null==e?{disableReactionReads:!0,disableReactionCreates:!0,disableReactionUpdates:!0,isLurking:!1,isGuest:!1,isPendingMember:!1}:(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},(0,d.Z)({channel:e,canChat:m,renderReactions:!0,canAddNewReactions:b,isLurking:f,isGuest:g,communicationDisabled:v,isActiveChannelOrUnarchivableThread:O,isAutomodQuarantined:j})),n=n={isLurking:f,isGuest:g,isPendingMember:!1},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t)}},89729:function(e,t,n){n.d(t,{g:()=>p}),n(388685);var i=n(392711),r=n.n(i),o=n(995774),a=n(592125),s=n(542578),l=n(699516),c=n(5192),u=n(566006),d=n(388032);let h={standard:{reactionTooltip1NInteractive:d.t.dgtYDA,reactionTooltip1N:d.t.mXild3,reactionTooltip1:d.t.Oro30N,reactionTooltip2NInteractive:d.t["0GBwVV"],reactionTooltip2N:d.t.UWGs2t,reactionTooltip2:d.t["p+0jvr"],reactionTooltip3NInteractive:d.t["dK6/7e"],reactionTooltip3N:d.t.UnXdX1,reactionTooltip3:d.t.bbPMcX,reactionTooltipNInteractive:d.t.Thj7LS,reactionTooltipN:d.t.CRrc7e},burst:{reactionTooltip1NInteractive:d.t.G98B0d,reactionTooltip1N:d.t["u/03eH"],reactionTooltip1:d.t["z4q3+/"],reactionTooltip2NInteractive:d.t.wkcffn,reactionTooltip2N:d.t.T4EYUl,reactionTooltip2:d.t.R2HykZ,reactionTooltip3NInteractive:d.t.OhtGx8,reactionTooltip3N:d.t.M8bwl5,reactionTooltip3:d.t.sNl6XV,reactionTooltipNInteractive:d.t.nsITOj,reactionTooltipN:d.t.dkieHx}};function p(e,t){var n,i;let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.O.NORMAL,m=arguments.length>3?arguments[3]:void 0,f=s.Z.getReactions(e.getChannelId(),e.id,t,3,p),g=a.Z.getChannel(e.getChannelId()),b=null==g||g.isPrivate()?null:g.getGuildId(),j=e.getReaction(t),v=p===u.O.BURST,O=r()(Array.from(null!=(n=null==f?void 0:f.values())?n:[])).reject(e=>l.Z.isBlockedOrIgnored(e.id)).take(3).map(e=>c.ZP.getName(b,null==g?void 0:g.id,e)).value();if(0===O.length)return"";let y=v?h.burst:h.standard,x=Math.max(0,(null!=(i=v?null==j?void 0:j.burst_count:null==j?void 0:j.count)?i:0)-O.length),T=(0,o.Lh)(t);if(1===O.length)if(!(x>0))return d.intl.formatToPlainString(y.reactionTooltip1,{a:O[0],emojiName:T});else if(null!=m)return d.intl.format(y.reactionTooltip1NInteractive,{a:O[0],n:x,emojiName:T,onClick:m});else return d.intl.formatToPlainString(y.reactionTooltip1N,{a:O[0],n:x,emojiName:T});if(2===O.length)if(!(x>0))return d.intl.formatToPlainString(y.reactionTooltip2,{a:O[0],b:O[1],emojiName:T});else if(null!=m)return d.intl.format(y.reactionTooltip2NInteractive,{a:O[0],b:O[1],n:x,emojiName:T,onClick:m});else return d.intl.formatToPlainString(y.reactionTooltip2N,{a:O[0],b:O[1],n:x,emojiName:T});return 3!==O.length?null!=m?d.intl.format(y.reactionTooltipNInteractive,{n:x,emojiName:T,onClick:m}):d.intl.formatToPlainString(y.reactionTooltipN,{n:x,emojiName:T}):x>0?null!=m?d.intl.format(y.reactionTooltip3NInteractive,{a:O[0],b:O[1],c:O[2],n:x,emojiName:T,onClick:m}):d.intl.formatToPlainString(y.reactionTooltip3N,{a:O[0],b:O[1],c:O[2],n:x,emojiName:T}):d.intl.formatToPlainString(y.reactionTooltip3,{a:O[0],b:O[1],c:O[2],emojiName:T})}},287151:function(e,t,n){n.d(t,{aO:()=>el,le:()=>eh,op:()=>ec,y4:()=>eu}),n(388685),n(781311);var i,r=n(255367),o=n(73800),a=n(120356),s=n.n(a),l=n(512722),c=n.n(l),u=n(772848),d=n(748780),h=n(866442),p=n(442837),m=n(846519),f=n(481060),g=n(596454),b=n(785388),j=n(607070),v=n(446489),O=n(367907),y=n(436774),x=n(98474),T=n(339085),S=n(906411),_=n(56314),C=n(231053),R=n(944386),P=n(305325),E=n(33154),I=n(692147),N=n(767714),w=n(659215),Z=n(222677),A=n(995774),M=n(695346),k=n(592125),L=n(430824),D=n(542578),U=n(914010),B=n(594174),F=n(451478),V=n(626135),H=n(74538),G=n(960020),z=n(566006),W=n(886132),K=n(183023),J=n(524444),X=n(89729),Y=n(620652),q=n(640753),$=n(981631),Q=n(474936),ee=n(388032),et=n(239594),en=n(92254),ei=n(588429),er=n(215084);function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){eo(e,t,n[t])})}return e}function es(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let el=12;function ec(e,t,n){(0,f.h7j)(e=>(0,r.jsx)(b.default,es(ea({},e),{message:t,selectedReaction:n})))}function eu(e,t,n){return n===z.O.BURST&&t||n===z.O.NORMAL&&e}class ed extends(i=o.PureComponent){componentWillAppear(e){this.animateIn(e)}componentWillEnter(e){this.animateIn(e)}componentWillUnmount(){this.hideTooltip()}animateIn(e){let{autoUnfurlReactionTooltip:t}=this.props;F.Z.isFocused()?(this.scale.setValue(0),this.opacity.setValue(0),d.Z.parallel([d.Z.timing(this.scale,{toValue:1,duration:t?200:300,easing:d.Z.Easing.inOut(d.Z.Easing.back())}),d.Z.timing(this.opacity,{toValue:1,duration:t?200:300})]).start(e)):(this.scale.setValue(1),this.opacity.setValue(1),e())}render(){let e,t,{count:n,burst_count:i,colors:o,isBurstReaction:a,hideCount:l,emoji:c,readOnly:u,isLurking:p,isGuest:m,isPendingMember:b,className:j,useChatFontScaling:O,message:y,hideEmoji:T,animationStartPosition:S,emojiSize:_}=this.props,{shouldShowTooltip:C,tooltipTextAria:R,reactionRef:P,tooltipPositionKey:E}=this.state,N=O?ei:en,w={transform:[{scale:this.scale}],opacity:this.opacity},Z=a?i:n;if(a&&null!=o){var M;let{accentColor:n,backgroundColor:i,opacity:r}=o,a=null!=(M=(0,h.wK)(null!=i?i:"",r))?M:"";this.isMe()&&(w.borderColor=i),w.background=a,e=n,t=n}let k=null==P?void 0:P.getBoundingClientRect(),L=null!=S&&null!=k,D=null==S;return(0,r.jsx)(f.yRy,{targetElementRef:{current:P},shouldShow:C,"aria-label":null!=R&&R,renderPopout:this.renderTooltip,nudgeAlignIntoViewport:!0,position:"top",align:"center",positionKey:E,children:()=>(0,r.jsx)("div",{onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave,ref:this.handleSetReactionRef,children:(0,r.jsx)(d.Z.div,{className:s()(N.reaction,j,{[N.reactionMe]:this.isMe(),[N.reactionReadOnly]:u&&!p&&!b&&!m,[N.shakeReaction]:T&&null==S}),style:w,children:(0,r.jsx)(f.yRy,{targetElementRef:this.upsellPopoutTargetRef,renderPopout:this.renderLurkerModeUpsellPopout,position:"top",children:n=>(0,r.jsxs)(f.P3F,es(ea({},n),{innerRef:this.upsellPopoutTargetRef,className:N.reactionInner,onClick:this.handleClick,"aria-disabled":u,"aria-label":(0,A.iD)(this.isMe(),Z,c,a),"aria-pressed":this.isMe(),children:[(0,r.jsx)("div",{className:s()({[N.burstGlow]:a}),style:{boxShadow:"0 0 16px ".concat(t)}}),(0,r.jsxs)("div",{children:[a?(0,r.jsxs)(r.Fragment,{children:[L&&(0,r.jsx)(x.Z,{messageId:y.id,emoji:c,startPosition:S,targetPosition:k}),D&&(0,r.jsx)(q.Z,{count:i,emoji:c,channelId:y.getChannelId(),messageId:y.id,useChatFontScaling:O,color:t,emojiSize:Y.M.NORMAL})]}):null,(0,r.jsx)(g.Z,{className:s()({[N.hideEmoji]:T}),emojiId:c.id,emojiName:c.name,size:_,animated:c.animated})]}),l?null:(0,r.jsx)(v.Z,{className:N.reactionCount,value:Z,color:e,digitWidth:el}),(0,r.jsx)(I.Z,{count:Z,reactionRef:P})]}))})})})})}constructor(...e){super(...e),eo(this,"isReactionEventActive",!1),eo(this,"isKeyboardNavigation",!1),eo(this,"scale",new d.Z.Value(1)),eo(this,"opacity",new d.Z.Value(1)),eo(this,"timeout",new m.V7),eo(this,"hideTimeout",new m.V7),eo(this,"ctaRef",o.createRef()),eo(this,"type",z.O.NORMAL),eo(this,"colors",{backgroundColor:void 0,borderColor:void 0,textColor:void 0}),eo(this,"state",{shouldShowTooltip:!1,tooltipText:null,tooltipTextAria:null,reactionRef:null,tooltipPositionKey:void 0}),eo(this,"hasShownTooltip",!1),eo(this,"nonce",(0,u.Z)()),eo(this,"upsellPopoutTargetRef",o.createRef()),eo(this,"userCanBurstReact",()=>this.props.userHasPremium),eo(this,"handleClick",e=>{e.stopPropagation();let{message:t,emoji:n,readOnly:i,isBurstReaction:r,isPendingMember:o,isLurking:a,isGuest:s,isForumToolbar:l}=this.props,c=k.Z.getChannel(t.getChannelId());if(a||s){var u,d;null==(d=this.ctaRef)||null==(u=d.current)||u.focus();return}let h=t.getChannelId(),p=l?Z.TW.FORUM_TOOLBAR:Z.TW.MESSAGE_INLINE_BUTTON;if(r&&!this.userCanBurstReact())return void(0,w.m)({analytics:{type:Q.cd.BURST_REACTION_UPSELL,page:(null==c?void 0:c.getGuildId())!=null?$.ZY5.GUILD_CHANNEL:$.ZY5.DM_CHANNEL,section:null!=c?(0,A.s4)(c):void 0,object:$.qAy.EMOJI_REACTION_UPSELL}});o?this.handleShowVerificationGate():i||(this.isMe()?(0,Z.WO)({channelId:h,messageId:t.id,emoji:n,location:p,options:{burst:r}}):(0,Z.rU)(h,t.id,n,p,{burst:r}))}),eo(this,"handleEnter",e=>{let{emoji:t,message:n,type:i,reduceMotion:r,animateEmoji:o,autoUnfurlReactionTooltip:a}=this.props,s=i===z.O.BURST;s&&!this.isReactionEventActive&&!r&&o&&(0,Z.T6)({channelId:n.getChannelId(),messageId:n.id,emoji:t,key:G.I.HOVER}),this.isReactionEventActive=!0,this.isKeyboardNavigation="focus"===e.type,this.timeout.start(s?750:a?200:500,this.showTooltip,!1)}),eo(this,"handleEnterTooltip",()=>{this.isReactionEventActive=!0,this.handleShowTooltip()}),eo(this,"handleShowTooltip",()=>{this.hideTimeout.stop(),this.isReactionEventActive&&(this.updateTooltipText(),D.Z.addChangeListener(this.updateTooltipText))}),eo(this,"showTooltip",()=>{this.props.readOnly||(this.handleShowTooltip(),this.isReactionEventActive&&this.trackReactionTooltipViewed(),this.hasShownTooltip=!0)}),eo(this,"handleLeave",()=>{this.isReactionEventActive=!1,this.isKeyboardNavigation=!1,this.timeout.stop(),D.Z.removeChangeListener(this.updateTooltipText),this.hideTimeout.start(200,this.hideTooltip,!1)}),eo(this,"hideTooltip",()=>{this.setState({shouldShowTooltip:!1}),this.hasShownTooltip&&V.default.track($.rMx.CLOSE_POPOUT,{nonce:this.nonce})}),eo(this,"isMe",()=>{let{me:e,me_burst:t,type:n}=this.props;return eu(e,t,n)}),eo(this,"updateTooltipText",()=>{let{message:e,emoji:t,type:n}=this.props,i=(0,X.g)(e,t,n),r=this.isKeyboardNavigation?i:(0,X.g)(e,t,n,$.dG4);c()("string"==typeof i,"tooltipTextAria is not a string"),this.setState({tooltipText:r,tooltipTextAria:i,shouldShowTooltip:null!=r&&""!==r})}),eo(this,"renderLurkerModeUpsellPopout",e=>{let{closePopout:t}=e,{message:n,isLurking:i}=this.props,o=k.Z.getChannel(n.getChannelId()),a=L.Z.getGuild(null==o?void 0:o.getGuildId());return i&&null!=a?(0,r.jsx)(E.Z,{ctaRef:this.ctaRef,type:E.s.REACTIONS,guild:a,closePopout:t}):(0,r.jsx)(r.Fragment,{})}),eo(this,"renderEmojiDetails",()=>{let e=this.props.emoji;return null!=e.id&&(0,r.jsx)(em,{emojiId:e.id,refreshPositionKey:this.refreshTooltipPositionKey,onClose:this.handleLeave,nonce:this.nonce})}),eo(this,"renderTooltip",()=>{let{emoji:e,message:t,type:n,me_burst:i,isBurstReaction:o=!1}=this.props,{tooltipText:a,tooltipTextAria:l}=this.state,c=n=>{let i=k.Z.getChannel(t.getChannelId());null!=i&&(this.handleLeave(),ec(i,t,{emoji:e,reactionType:o?z.O.BURST:z.O.NORMAL}))},u="string"==typeof a?""===a.trim():null==a,d=()=>u||null==a||null==l?null:(0,r.jsx)(f.Text,{variant:"text-sm/normal",className:er.reactionTooltipText,"aria-label":l,children:a});return n===z.O.BURST?(0,r.jsxs)("div",{className:er.reactionTooltip,onMouseEnter:this.handleEnterTooltip,onMouseLeave:this.handleLeave,children:[(0,r.jsx)(f.P3F,{className:er.burstReactionTooltipInner,onClick:c,children:(0,r.jsxs)("div",{className:er.burstReactionTooltipMessage,children:[(0,r.jsx)(g.Z,{className:er.reactionTooltipEmoji,emojiId:e.id,emojiName:e.name,animated:e.animated,size:this.props.emojiSizeTooltip}),d()]})}),(()=>{let e=B.default.getCurrentUser();return i?(0,r.jsxs)("div",{className:s()(er.burstReactionTooltipPrompt,er.burstReactionTooltipSpacer),children:[(0,H.I5)(e)&&(0,r.jsx)(f.SrA,{size:"md",className:er.burstReactionTooltipNitroIcon,color:y.JX.PREMIUM_TIER_2}),(0,r.jsx)(f.Text,{variant:"text-sm/normal",className:er.reactionTooltipText,"aria-label":"super reaction tooltip cta",children:ee.intl.string(ee.t.ZbNJXl)})]}):this.userCanBurstReact()?(0,r.jsxs)("div",{className:s()(er.burstReactionTooltipPrompt,er.burstReactionTooltipSpacer,er.burstReactionTooltipPromptClickable),children:[(0,r.jsx)(f.SrA,{size:"md",className:er.burstReactionTooltipNitroIcon,color:y.JX.PREMIUM_TIER_2}),(0,r.jsx)(f.P3F,{onClick:this.handleClick,children:(0,r.jsx)(f.Text,{variant:"text-sm/normal",className:er.reactionTooltipText,"aria-label":"super reaction tooltip cta",children:ee.intl.string(ee.t.kVfuVl)})})]}):this.userCanBurstReact()||this.isKeyboardNavigation?null:(0,r.jsx)("div",{className:s()(er.burstReactionTooltipPrompt,er.burstReactionTooltipSpacer),children:(0,r.jsxs)("div",{children:[(0,r.jsx)(f.Text,{variant:"text-sm/normal","aria-label":"super reaction tooltip upsell",children:ee.intl.string(ee.t.W1bMkp)}),(0,r.jsx)(N.Z,{subscriptionTier:Q.Si.TIER_2,textOptions:{textOverride:ee.intl.string(ee.t.mr4K7O)},className:er.burstReactionTooltipUpsellCta,onClick:e=>e.stopPropagation()})]})})})(),this.renderEmojiDetails()]}):(0,r.jsxs)("div",{className:er.reactionTooltip,onMouseEnter:this.handleEnterTooltip,onMouseLeave:this.handleLeave,children:[(0,r.jsx)(f.P3F,{onClick:c,children:(0,r.jsxs)("div",{className:er.reactionTooltipInner,children:[(0,r.jsx)(g.Z,{className:er.reactionTooltipEmoji,emojiId:e.id,emojiName:e.name,animated:e.animated,size:this.props.emojiSizeTooltip}),d()]})}),this.renderEmojiDetails()]})}),eo(this,"refreshTooltipPositionKey",()=>{this.setState({tooltipPositionKey:String(Date.now())})}),eo(this,"handleShowVerificationGate",()=>{let{message:e,isPendingMember:t}=this.props;if(!t)return null;let n=k.Z.getChannel(e.getChannelId()),i=L.Z.getGuild(null==n?void 0:n.getGuildId());null!=i&&(0,P.hk)(i.id)}),eo(this,"handleSetReactionRef",e=>{this.setState({reactionRef:e})}),eo(this,"trackReactionTooltipViewed",()=>{let{emoji:e,message:t,type:n}=this.props,i=B.default.getCurrentUser(),r=k.Z.getChannel(t.getChannelId()),o=n===z.O.BURST,a=(0,H.I5)(i),s=o?Q.cd.EMOJI_IN_BURST_REACTION_HOVER:Q.cd.EMOJI_IN_REACTION_HOVER;!o||this.userCanBurstReact()||a||(s=Q.cd.EMOJI_IN_BURST_REACTION_HOVER_UPSELL),O.ZP.trackWithMetadata($.rMx.EXPRESSION_TOOLTIP_VIEWED,{type:s,expression_id:e.id,expression_name:e.name,is_animated:e.animated,is_custom:null!=e.id,nonce:this.nonce}),!o||null==r||a||this.userCanBurstReact()||V.default.track($.rMx.PREMIUM_UPSELL_VIEWED,{type:Q.cd.BURST_REACTION_UPSELL,location:{page:(null==r?void 0:r.getGuildId())!=null?$.ZY5.GUILD_CHANNEL:$.ZY5.DM_CHANNEL,section:(0,A.s4)(r),object:$.qAy.EMOJI_REACTION_TOOLTIP_UPSELL}})})}}eo(ed,"defaultProps",{emojiSizeTooltip:"jumbo"});let eh=o.memo(e=>{let{type:t,burst_colors:n,message:i,emoji:o}=e,a=t===z.O.BURST,s=(0,_.v)(a&&null!=n?n:[]),l=(0,p.e7)([G.Z],()=>void 0!==G.Z.getEffectForEmojiId(i.getChannelId(),i.id,o)),c=(0,p.e7)([j.Z],()=>j.Z.useReducedMotion),u=M.Yk.useSetting(),d=B.default.getCurrentUser(),h=(0,H.I5)(d),m=(0,p.e7)([G.Z],()=>G.Z.getReactionPickerAnimation(i.id,o.name,o.id)),f=a&&(l||null!=m);return(0,r.jsx)(ed,es(ea({},e),{colors:s,isBurstReaction:a,hideEmoji:f,userHasPremium:h,reduceMotion:c,animateEmoji:u,animationStartPosition:m}))}),ep=e=>{var t,n,i;let{emojiId:o,expressionSourceGuild:a,hasJoinedExpressionSourceGuild:s,onClose:l,popoutData:c,currentGuildId:u,nonce:d}=e;(0,R.u)({emojiId:o,currentGuildId:u,popoutData:c,emojiSourceGuildId:null==a?void 0:a.id,nonce:d});let h=null!=(n=null==a?void 0:a.isDiscoverable())&&n,p=null!=a&&h,m=(null!=(i=null==a||null==(t=a.emojis)?void 0:t.length)?i:0)>1;return p?null==a?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:et.reactionEmojiDetailsUnfurlGuildDetails,children:(0,r.jsx)(K.Oe,{expressionSourceGuild:a,hasJoinedExpressionSourceGuild:s,isDisplayingJoinGuildButtonInPopout:c.type===W.$.JOIN_GUILD})}),m&&(0,r.jsx)(K.n_,{emojiId:o,expressionSourceGuild:a,hasJoinedEmojiSourceGuild:s,onClose:l,popoutData:c,isDisplayingButtonInTopSection:!1})]}):(0,r.jsx)(f.Text,{variant:"text-sm/normal","aria-label":c.type,children:c.emojiDescription})},em=e=>{var t;let{emojiId:n,refreshPositionKey:i,onClose:a,nonce:l}=e,{joinedEmojiSourceGuild:c}=(0,p.cj)([T.ZP,L.Z],()=>{let e=T.ZP.getCustomEmojiById(n);return{joinedEmojiSourceGuild:(null==e?void 0:e.type)===S.B.GUILD?L.Z.getGuild(null==e?void 0:e.guildId):void 0}}),[u,d]=o.useState(void 0),[h,m]=o.useState(void 0),[g,b]=o.useState(null),[j,v]=o.useState(!1),[O,y]=o.useState(!1),[x,_]=o.useState(!1),R=null!=c,P=null!=(t=null==u?void 0:u.isDiscoverable())&&t,E=U.Z.getGuildId(),I=null!=E&&(E===(null==u?void 0:u.id)||E===(null==c?void 0:c.id)),N=B.default.getCurrentUser(),w=(0,W.a)({sourceType:g,expressionSourceApplication:null!=h?h:null,isPremium:H.ZP.isPremium(N),hasJoinedEmojiSourceGuild:R,isDiscoverable:P,emojiComesFromCurrentGuild:I,isUnusableRoleSubscriptionEmoji:!1,userIsRoleSubscriber:!1,isRoleSubscriptionEmoji:!1,shouldHideRoleSubscriptionCTA:!1});if(o.useEffect(()=>{j&&!x&&(async()=>{i(),y(!0);let e=null!=n?await (0,C.Fi)(n):null;if(null!=e)switch(b(e.type),e.type){case C.w6.APPLICATION:m(e.application);break;case C.w6.GUILD:d(e.guild)}else d(null);y(!1),_(!0),i()})()},[n,j,x,i]),R)return null;let Z=()=>{v(!j)},A=j&&(void 0!==u||void 0!==h);return(0,r.jsxs)("div",{children:[A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:et.reactionEmojiDetailsDivider}),null!=w.emojiDescription&&w.type!==W.$.UNAVAILABLE&&(0,r.jsx)(f.Text,{variant:"text-sm/normal","aria-label":w.type,children:w.emojiDescription})]}):(()=>{let e=ee.intl.string(ee.t["Igv+LS"]);return(0,r.jsxs)(f.P3F,{onClick:Z,className:et.reactionEmojiDetailsClickable,children:[(0,r.jsx)(f.Text,{variant:"text-sm/normal",color:"none","aria-label":e,children:e}),(0,r.jsx)(f.CJ0,{size:"xs",color:"currentColor",className:s()(et.reactionEmojiDetailsArrow,{[et.reactionEmojiDetailsArrowCollapsed]:!j})})]})})(),O?(0,r.jsx)(J.SE,{className:et.emojiDetailsLoader}):A&&(0,r.jsx)(ep,{emojiId:n,expressionSourceGuild:u,hasJoinedExpressionSourceGuild:R,onClose:a,popoutData:w,currentGuildId:E,nonce:l})]})}},620652:function(e,t,n){n.d(t,{M:()=>g,Z:()=>j});var i,r=n(255367),o=n(73800),a=n(120356),s=n.n(a),l=n(500923),c=n.n(l),u=n(570140),d=n(960020),h=n(831244),p=n(815605),m=n(981631),f=n(872333),g=((i={})[i.NORMAL=20]="NORMAL",i[i.LARGE=32]="LARGE",i);let b=async e=>{var t;let{effect:n}=e,i=await (0,h.T)(n.channelId,null!=(t=n.messageId)?t:m.lds,n.emoji.name),r=await (0,p.aB)("".concat(n.channelId,":").concat(n.messageId,":").concat(n.emoji.name),n.url,i,n.color);return r.assets[0].p=n.url,r};function j(e){let{className:t,effect:n,onComplete:i,emojiSize:a=20}=e,l=o.useRef(null),h=a*p.Vz,m=(h+a)/2;return o.useEffect(()=>{let e;if(null!=n)return!async function(){if(null!=l.current){let t=await b({effect:n});(e=c().loadAnimation({container:l.current,renderer:"svg",loop:!1,autoplay:!0,animationData:t})).addEventListener("complete",()=>{null==i||i(),e.destroy()}),null!=n.channelId&&null!=n.messageId&&null!=n.emoji&&n.key===d.I.HOVER&&u.Z.dispatch({type:"BURST_REACTION_ANIMATION_ADD",channelId:n.channelId,messageId:n.messageId,emoji:n.emoji,animation:e})}}(),()=>{null!=e&&e.destroy()}},[i,n,a]),(0,r.jsx)("div",{className:f.effectsWrapper,children:(0,r.jsx)("div",{className:s()(f.effect,t),style:{transform:"translateY(".concat(m,"px)"),height:h,width:h},ref:l})})}},640753:function(e,t,n){n.d(t,{Z:()=>g}),n(388685);var i=n(255367),r=n(73800),o=n(442837),a=n(570140),s=n(607070),l=n(222677),c=n(695346),u=n(960020),d=n(347904),h=n(620652),p=n(815605),m=n(981341),f=n(994648);let g=r.memo(function(e){let{channelId:t,messageId:n,emoji:g,useChatFontScaling:b,color:j,count:v,emojiSize:O}=e,y=(0,o.e7)([u.Z],()=>u.Z.getEffectForEmojiId(t,n,g)),x=r.useMemo(()=>(0,p.Zn)(g,j,t,{key:y,messageId:n}),[j,y,g,t,n]),[T,S]=r.useState(!1),_=(0,o.e7)([s.Z],()=>s.Z.useReducedMotion),C=c.Yk.useSetting(),R=r.useCallback(()=>{a.Z.dispatch({type:"BURST_REACTION_EFFECT_CLEAR",channelId:t,messageId:n,emoji:g})},[g,t,n]);return(r.useEffect(()=>{let e=()=>{if(T)return;let e=(0,d.vJ)("".concat(Date.now()).concat(t).concat(n).concat(g.name))%10;(e+=v>4?4:v-1)>7&&(S(!0),(0,l.T6)({channelId:t,messageId:n,emoji:g,key:u.I.RANDOM}))};if(T||_&&!C||!C)return;e();let i=setInterval(e,5e3);return()=>{clearInterval(i)}},[C,t,v,g,g.name,T,n,_]),null==y)?null:(0,i.jsx)(h.Z,{className:(b?f:m).effect,effect:x,onComplete:R,emojiSize:O})})},815605:function(e,t,n){n.d(t,{Vz:()=>c,Zn:()=>d,aB:()=>u}),n(49124),n(704826),n(35282);var i=n(392711),r=n(772848),o=n(134432),a=n(963838),s=n(302221),l=n(347904);let c=7.5,u=(0,i.memoize)((e,t,n,i)=>new Promise(e=>{let r=new Image;r.src=t,r.crossOrigin="Anonymous",r.onload=()=>{let t=32*(0,o.x_)(),a=JSON.stringify(n);if(null!=i&&(a=(0,l.s4)(a,(0,s.oo)(i))),r.width===t&&r.height===t||0===r.width&&0===r.height)e(JSON.parse(a));else{let t=128/r.width*r.height;e(JSON.parse(a=(a=a.replace(/"w":128,"h":128/,'"w":128,"h":'.concat(t))).replace(/"a":{"a":0,"k":\[64,64/,'"a":{"a":0,"k":[64,'.concat(t/2))))}}}));function d(e,t,n,i){let{emojiSize:o,key:s,messageId:l}=null!=i?i:{},c=(0,a._r)(e,null!=o?2*o:void 0);return{channelId:n,messageId:l,emoji:e,animationId:(0,r.Z)(),url:c,key:s,color:t}}},942951:function(e,t,n){n.d(t,{l:()=>p});var i=n(255367),r=n(73800),o=n(481060),a=n(100527),s=n(906732),l=n(402235),c=n(670188),u=n(592125),d=n(91047);function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}function p(e){let{user:t,channelId:n,guildId:p,messageId:m,stopPropagation:f=!1,ariaLabel:g}=e,b=r.useRef(null),{analyticsLocations:j}=(0,s.ZP)(a.Z.USERNAME),v=(0,l.Z)(p,"useUsernameHook"),O=r.useCallback(e=>{let i=u.Z.getChannel(n);null!=i&&null!=t&&(0,d.Pv)(e,t,i)},[t,n]);return r.useCallback(e=>(r,a)=>{let l=null==e?void 0:e.colorStrings,u=v&&null!=l&&null!=l.primaryColor&&null!=l.secondaryColor,d=t=>{var n,a;return(0,i.jsx)(o.rz2,(n=h({},null!=t?t:{}),a=a={ref:b,onContextMenu:O,name:(0,o.qgQ)(r),color:null==e?void 0:e.colorString,roleName:null==e?void 0:e.colorRoleName,roleColors:u?l:null,"aria-label":g},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n})(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}),n))},y=e=>t=>{f&&null!=t&&t.stopPropagation(),e(t)};return(0,i.jsx)(s.Gt,{value:j,children:null!=t?(0,i.jsx)(c.Z,{targetElementRef:b,user:t,guildId:p,channelId:n,messageId:m,roleId:null==e?void 0:e.colorRoleId,clickTrap:!0,children:e=>{var{onClick:t}=e,n=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["onClick"]);return d(h({onClick:y(t)},n))}}):d(void 0)},a)},[j,t,n,p,m,O,f,g,v])}},692147:function(e,t,n){n.d(t,{Z:()=>p});var i=n(255367),r=n(73800),o=n(392711),a=n(399606),s=n(351780),l=n(576125),c=n(465858),u=n(112843),d=n(524484);function h(e){let{reactionRef:t,count:n}=e,i=r.useRef(n),l=(0,a.e7)([s.Z],()=>s.Z.getState()),d=(0,u.Z)(),h=(0,c.Z)(t);return r.useEffect(()=>{if(n>i.current&&null!=h){let e=(0,o.clamp)(n,l.confettiCount/2,2*l.confettiCount);d.fire(h.x,h.y,{count:e})}i.current=n},[n,h,d,l.confettiCount]),null}function p(e){return(0,i.jsx)(l.Z,{confettiLocation:d.Hn.REACTION,children:(0,i.jsx)(h,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},e))})}},659215:function(e,t,n){n.d(t,{default:()=>f,m:()=>g});var i=n(255367);n(73800);var r=n(481060),o=n(230711),a=n(104494),s=n(639119),l=n(790527),c=n(474936),u=n(981631),d=n(388032),h=n(628755),p=n(784370);function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}function f(e){var t,n,{onClose:r,analyticsSource:f}=e,g=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["onClose","analyticsSource"]);let b=d.intl.format(d.t["JmbS+f"],{onClick:()=>{o.Z.open(u.oAB.PREMIUM),r()}}),j=(0,s.N)(),v=(0,a.Ng)(),O=null!=j||null!=v;return(0,i.jsx)(l.Z,m({artURL:p,artContainerClassName:h.artContainer,modalClassName:h.modalContainer,bodyClassName:h.bodyContainer,type:c.cd.BURST_REACTION_UPSELL,title:d.intl.string(d.t.N4SCJy),body:b,glowUp:b,analyticsSource:f,analyticsLocation:{page:u.ZY5.PREMIUM_UPSELL_BURST_REACTIONS,object:u.qAy.BUTTON_CTA},onClose:r,subscribeButtonText:O?void 0:d.intl.string(d.t["8x0jKS"]),subscriptionTier:null!=(n=null==j||null==(t=j.subscription_trial)?void 0:t.sku_id)?n:c.Si.TIER_2,backButtonText:d.intl.string(d.t.f3Pet7)},g))}function g(e){let{analytics:t}=e;(0,r.ZDy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,659215));return n=>(0,i.jsx)(e,m({analyticsSource:t},n))})}},111932:function(e,t,n){e.exports={container:"container_cc2dff",scroller:"scroller_cc2dff",reactorsContainer:"reactorsContainer_cc2dff",reactors:"reactors_cc2dff",reactionDefault:"reactionDefault_cc2dff",reactionSelected:"reactionSelected_cc2dff",emoji:"emoji_cc2dff",emojiText:"emojiText_cc2dff",burstEmojiSection:"burstEmojiSection_cc2dff",hideEmoji:"hideEmoji_cc2dff",burstEmoji:"burstEmoji_cc2dff",spinner:"spinner_cc2dff",spinnerMore:"spinnerMore_cc2dff",reactor:"reactor_cc2dff",reactorDefault:"reactorDefault_cc2dff reactor_cc2dff",name:"name_cc2dff",nickname:"nickname_cc2dff",username:"username_cc2dff",tagFaded:"tagFaded_cc2dff",discriminator:"discriminator_cc2dff",remove:"remove_cc2dff"}},403122:function(e,t,n){e.exports={emojiContainer:"emojiContainer__0524a",emoji:"emoji__0524a"}},500984:function(e,t,n){e.exports={obscuredIcon:"obscuredIcon__43090"}},602512:function(e,t,n){e.exports={container:"container_faa96b",isOpen:"isOpen_faa96b",dots:"dots_faa96b",focusTarget:"focusTarget_faa96b",left:"left_faa96b",body:"body_faa96b",messageFocusBlock:"messageFocusBlock_faa96b",message:"message_faa96b",messageContent:"messageContent_faa96b",messageContentTrailingIcon:"messageContentTrailingIcon_faa96b",messageContentLeadingIcon:"messageContentLeadingIcon_faa96b",bodyMedia:"bodyMedia_faa96b",obscuredTag:"obscuredTag_faa96b",thumbnailContainer:"thumbnailContainer_faa96b",thumbnailOverride:"thumbnailOverride_faa96b",obscured:"obscured_faa96b",obscuredThumbnailPlaceholder:"obscuredThumbnailPlaceholder_faa96b",header:"header_faa96b",footer:"footer_faa96b",bullet:"bullet_faa96b",headerText:"headerText_faa96b",postTitleText:"postTitleText_faa96b",newBadgeWrapper:"newBadgeWrapper_faa96b",newBadge:"newBadge_faa96b",inTagsRow:"inTagsRow_faa96b",typing:"typing_faa96b",typingUsers:"typingUsers_faa96b",messageCountBox:"messageCountBox_faa96b",messageCountIcon:"messageCountIcon_faa96b",hasRead:"hasRead_faa96b",messageCountText:"messageCountText_faa96b",newMessageCount:"newMessageCount_faa96b",updateReactionButton:"updateReactionButton_faa96b",timestampTooltip:"timestampTooltip_faa96b",blockedMessage:"blockedMessage_faa96b",withNewBadgeOverflow:"withNewBadgeOverflow_faa96b"}},794168:function(e,t,n){e.exports={author:"author_d3eee8",hasUnreads:"hasUnreads_d3eee8"}},520069:function(e,t,n){e.exports={tags:"tags__08166",pinIcon:"pinIcon__08166",tagFiltered:"tagFiltered__08166"}},695256:function(e,t,n){e.exports={container:"container__7e919",content:"content__7e919",buttonContainer:"buttonContainer__7e919",cancel:"cancel__7e919",image:"image__7e919"}},92254:function(e,t,n){n.r(e.exports={reactions:"reactions_f8896c",icon:"icon_f8896c",reactionBtn:"reactionBtn_f8896c",active:"active_f8896c",visible:"visible_f8896c",forceShow:"forceShow_f8896c",hideEmoji:"hideEmoji_f8896c",reaction:"reaction_f8896c",shakeReaction:"shakeReaction_f8896c",shake:"shake_f8896c",reactionReadOnly:"reactionReadOnly_f8896c",reactionCount:"reactionCount_f8896c",reactionMe:"reactionMe_f8896c",reactionInner:"reactionInner_f8896c",remainingReactions:"remainingReactions_f8896c",premiumIcon:"premiumIcon_f8896c",sparkles:"sparkles_f8896c",burstGlow:"burstGlow_f8896c"})},588429:function(e,t,n){n.r(e.exports={reactions:"reactions__23977",icon:"icon__23977",reactionBtn:"reactionBtn__23977",active:"active__23977",visible:"visible__23977",forceShow:"forceShow__23977",hideEmoji:"hideEmoji__23977",reaction:"reaction__23977",shakeReaction:"shakeReaction__23977",shake:"shake__23977",reactionReadOnly:"reactionReadOnly__23977",reactionCount:"reactionCount__23977",reactionMe:"reactionMe__23977",reactionInner:"reactionInner__23977",remainingReactions:"remainingReactions__23977",premiumIcon:"premiumIcon__23977",sparkles:"sparkles__23977",burstGlow:"burstGlow__23977"})},215084:function(e,t,n){e.exports={reactionTooltip:"reactionTooltip_b49891",reactionTooltipEmoji:"reactionTooltipEmoji_b49891",reactionTooltipText:"reactionTooltipText_b49891",reactionTooltipInner:"reactionTooltipInner_b49891",burstReactionTooltipInner:"burstReactionTooltipInner_b49891",burstReactionTooltipMessage:"burstReactionTooltipMessage_b49891",burstReactionTooltipSpacer:"burstReactionTooltipSpacer_b49891",burstReactionTooltipPrompt:"burstReactionTooltipPrompt_b49891",burstReactionTooltipPromptClickable:"burstReactionTooltipPromptClickable_b49891",burstReactionTooltipNitroIcon:"burstReactionTooltipNitroIcon_b49891",burstReactionTooltipUpsellCta:"burstReactionTooltipUpsellCta_b49891"}},872333:function(e,t,n){e.exports={effect:"effect_a9ddb3",effectsWrapper:"effectsWrapper_a9ddb3"}},981341:function(e,t,n){n.r(e.exports={effect:"effect__263e4",effects:"effects__263e4"})},994648:function(e,t,n){n.r(e.exports={effect:"effect_e5f2cb",effects:"effects_e5f2cb"})},628755:function(e,t,n){e.exports={artContainer:"artContainer_ade26d",modalContainer:"modalContainer_ade26d",bodyContainer:"bodyContainer_ade26d"}}}]);
//# sourceMappingURL=ede3f8085842d745.js.map